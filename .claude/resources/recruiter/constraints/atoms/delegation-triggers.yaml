# Atomic Constraint: Delegation Triggers
# Defines how to write descriptions that trigger automatic delegation

constraint:
  name: delegation-triggers
  type: behavioral
  severity: important
  
keywords:
  proactive:
    - "IMPORTANT"
    - "Proactively"
    - "MUST BE USED"
    - "Use proactively"
    
  conditional:
    - "when"
    - "after"
    - "during"
    - "before"
    
patterns:
  strong_delegation:
    template: "IMPORTANT {action} during {context}"
    example: "IMPORTANT validates syntax during agent creation"
    strength: high
    
  proactive_delegation:
    template: "Use proactively to {action}"
    example: "Use proactively to run tests and fix failures"
    strength: high
    
  conditional_delegation:
    template: "Use when {condition}"
    example: "Use when code review is needed"
    strength: medium
    
  must_use:
    template: "MUST BE USED when {trigger}"
    example: "MUST BE USED when creating new agents"
    strength: very_high

best_practices:
  - Place keywords at beginning of description
  - Be specific about when to trigger
  - Use active voice
  - Include clear action verbs
  - Specify the context or condition

anti_patterns:
  - description: "Vague triggers"
    bad: "Helps with stuff"
    good: "IMPORTANT reviews code for security issues"
    
  - description: "Missing keywords"
    bad: "Reviews code when needed"
    good: "Use proactively to review code changes"
    
  - description: "Passive voice"
    bad: "Code is reviewed by this agent"
    good: "IMPORTANT reviews code during PR creation"

validation:
  - Check for presence of trigger keywords
  - Verify action is clearly specified
  - Ensure context/condition is defined
  - Validate description is actionable