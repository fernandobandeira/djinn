# Atomic Constraint: File Location
# Defines where different agent types must be stored

constraint:
  name: file-location  
  type: structural
  severity: critical
  
locations:
  sub_agents:
    path: ".claude/agents/"
    description: "One-shot task agents with frontmatter"
    naming: "{agent-name}.md"
    subdirs_allowed: true
    example: ".claude/agents/code-reviewer.md"
    
  command_agents:
    path: ".claude/commands/"
    description: "Interactive dialogue agents"
    naming: "{command-name}.md"
    subdirs_allowed: false
    example: ".claude/commands/analyst.md"
    
  agent_resources:
    path: ".claude/resources/{agent-name}/"
    description: "Resources for specific agents"
    structure:
      - tasks/
      - templates/
      - data/
      - checklists/
    example: ".claude/resources/recruiter/tasks/"

hierarchy:
  project_level:
    root: ".claude/"
    priority: high
    description: "Project-specific agents"
    
  user_level:
    root: "~/.claude/"
    priority: low
    description: "User's global agents"
    
conflict_resolution: "Project-level overrides user-level"

validation:
  - Sub-agents must be in .claude/agents/
  - Commands must be in .claude/commands/
  - Resources must be in .claude/resources/{agent}/
  - File must have .md extension
  - Path must be relative to project root

error_messages:
  wrong_location: "Agent type '{type}' must be in {correct_path}"
  missing_extension: "Agent files must have .md extension"
  invalid_path: "Path must be relative to project root"