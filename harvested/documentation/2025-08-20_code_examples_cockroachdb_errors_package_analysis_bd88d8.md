---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-20T00:32:58.727620'
profile: code_examples
source: https://github.com/cockroachdb/errors
topic: CockroachDB Errors Package Analysis
---

# CockroachDB Errors Package Analysis

[Skip to content](https://github.com/cockroachdb/errors#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fcockroachdb%2Ferrors)
Appearance settings
  * Product 
    * [ GitHub Copilot  Write better code with AI  ](https://github.com/features/copilot)
    * [ GitHub Spark  New  Build and deploy intelligent apps  ](https://github.com/features/spark)
    * [ GitHub Models  New  Manage and compare prompts  ](https://github.com/features/models)
    * [ GitHub Advanced Security  Find and fix vulnerabilities  ](https://github.com/security/advanced-security)
    * [ Actions  Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces  Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues  Plan and track work  ](https://github.com/features/issues)
    * [ Code Review  Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions  Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search  Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ Why GitHub ](https://github.com/why-github)
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors  Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project  GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform  AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ GitHub Advanced Security  Enterprise-grade security features  ](https://github.com/security/advanced-security)
    * [ Copilot for business  Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support  Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fcockroachdb%2Ferrors)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=cockroachdb%2Ferrors)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/cockroachdb/errors) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/cockroachdb/errors) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/cockroachdb/errors) to refresh your session. Dismiss alert
{{ message }}
[ cockroachdb ](https://github.com/cockroachdb) / **[errors](https://github.com/cockroachdb/errors) ** Public
  * [ Notifications ](https://github.com/login?return_to=%2Fcockroachdb%2Ferrors) You must be signed in to change notification settings
  * [ Fork 68 ](https://github.com/login?return_to=%2Fcockroachdb%2Ferrors)
  * [ Star  2.3k ](https://github.com/login?return_to=%2Fcockroachdb%2Ferrors)


Go error library with error portability over the network 
### License
[ Apache-2.0 license ](https://github.com/cockroachdb/errors/blob/master/LICENSE)
[ 2.3k stars ](https://github.com/cockroachdb/errors/stargazers) [ 68 forks ](https://github.com/cockroachdb/errors/forks) [ Branches ](https://github.com/cockroachdb/errors/branches) [ Tags ](https://github.com/cockroachdb/errors/tags) [ Activity ](https://github.com/cockroachdb/errors/activity)
[ Star  ](https://github.com/login?return_to=%2Fcockroachdb%2Ferrors)
[ Notifications ](https://github.com/login?return_to=%2Fcockroachdb%2Ferrors) You must be signed in to change notification settings
  * [ Code ](https://github.com/cockroachdb/errors)
  * [ Issues 16 ](https://github.com/cockroachdb/errors/issues)
  * [ Pull requests 2 ](https://github.com/cockroachdb/errors/pulls)
  * [ Actions ](https://github.com/cockroachdb/errors/actions)
  * [ Projects 0 ](https://github.com/cockroachdb/errors/projects)
  * [ Security ](https://github.com/cockroachdb/errors/security)
[ ](https://github.com/cockroachdb/errors/security)
[ ](https://github.com/cockroachdb/errors/security)
[ ](https://github.com/cockroachdb/errors/security)
### [ Uh oh!  ](https://github.com/cockroachdb/errors/security)
[There was an error while loading. ](https://github.com/cockroachdb/errors/security)[Please reload this page](https://github.com/cockroachdb/errors).
  * [ Insights ](https://github.com/cockroachdb/errors/pulse)


Additional navigation options
  * [ Code  ](https://github.com/cockroachdb/errors)
  * [ Issues  ](https://github.com/cockroachdb/errors/issues)
  * [ Pull requests  ](https://github.com/cockroachdb/errors/pulls)
  * [ Actions  ](https://github.com/cockroachdb/errors/actions)
  * [ Projects  ](https://github.com/cockroachdb/errors/projects)
  * [ Security  ](https://github.com/cockroachdb/errors/security)
  * [ Insights  ](https://github.com/cockroachdb/errors/pulse)


# cockroachdb/errors
master
[Branches](https://github.com/cockroachdb/errors/branches)[Tags](https://github.com/cockroachdb/errors/tags)
[](https://github.com/cockroachdb/errors/branches)[](https://github.com/cockroachdb/errors/tags)
Go to file
Code
Open more actions menu
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
## History
[255 Commits](https://github.com/cockroachdb/errors/commits/master/)[](https://github.com/cockroachdb/errors/commits/master/)  
[.github/workflows](https://github.com/cockroachdb/errors/tree/master/.github/workflows "This path skips through empty directories")| [.github/workflows](https://github.com/cockroachdb/errors/tree/master/.github/workflows "This path skips through empty directories")| |   
[assert](https://github.com/cockroachdb/errors/tree/master/assert "assert")| [assert](https://github.com/cockroachdb/errors/tree/master/assert "assert")| |   
[barriers](https://github.com/cockroachdb/errors/tree/master/barriers "barriers")| [barriers](https://github.com/cockroachdb/errors/tree/master/barriers "barriers")| |   
[contexttags](https://github.com/cockroachdb/errors/tree/master/contexttags "contexttags")| [contexttags](https://github.com/cockroachdb/errors/tree/master/contexttags "contexttags")| |   
[domains](https://github.com/cockroachdb/errors/tree/master/domains "domains")| [domains](https://github.com/cockroachdb/errors/tree/master/domains "domains")| |   
[errbase](https://github.com/cockroachdb/errors/tree/master/errbase "errbase")| [errbase](https://github.com/cockroachdb/errors/tree/master/errbase "errbase")| |   
[errorspb](https://github.com/cockroachdb/errors/tree/master/errorspb "errorspb")| [errorspb](https://github.com/cockroachdb/errors/tree/master/errorspb "errorspb")| |   
[errutil](https://github.com/cockroachdb/errors/tree/master/errutil "errutil")| [errutil](https://github.com/cockroachdb/errors/tree/master/errutil "errutil")| |   
[extgrpc](https://github.com/cockroachdb/errors/tree/master/extgrpc "extgrpc")| [extgrpc](https://github.com/cockroachdb/errors/tree/master/extgrpc "extgrpc")| |   
[exthttp](https://github.com/cockroachdb/errors/tree/master/exthttp "exthttp")| [exthttp](https://github.com/cockroachdb/errors/tree/master/exthttp "exthttp")| |   
[fmttests](https://github.com/cockroachdb/errors/tree/master/fmttests "fmttests")| [fmttests](https://github.com/cockroachdb/errors/tree/master/fmttests "fmttests")| |   
[grpc](https://github.com/cockroachdb/errors/tree/master/grpc "grpc")| [grpc](https://github.com/cockroachdb/errors/tree/master/grpc "grpc")| |   
[hintdetail](https://github.com/cockroachdb/errors/tree/master/hintdetail "hintdetail")| [hintdetail](https://github.com/cockroachdb/errors/tree/master/hintdetail "hintdetail")| |   
[issuelink](https://github.com/cockroachdb/errors/tree/master/issuelink "issuelink")| [issuelink](https://github.com/cockroachdb/errors/tree/master/issuelink "issuelink")| |   
[join](https://github.com/cockroachdb/errors/tree/master/join "join")| [join](https://github.com/cockroachdb/errors/tree/master/join "join")| |   
[markers](https://github.com/cockroachdb/errors/tree/master/markers "markers")| [markers](https://github.com/cockroachdb/errors/tree/master/markers "markers")| |   
[oserror](https://github.com/cockroachdb/errors/tree/master/oserror "oserror")| [oserror](https://github.com/cockroachdb/errors/tree/master/oserror "oserror")| |   
[report](https://github.com/cockroachdb/errors/tree/master/report "report")| [report](https://github.com/cockroachdb/errors/tree/master/report "report")| |   
[safedetails](https://github.com/cockroachdb/errors/tree/master/safedetails "safedetails")| [safedetails](https://github.com/cockroachdb/errors/tree/master/safedetails "safedetails")| |   
[secondary](https://github.com/cockroachdb/errors/tree/master/secondary "secondary")| [secondary](https://github.com/cockroachdb/errors/tree/master/secondary "secondary")| |   
[stdstrings](https://github.com/cockroachdb/errors/tree/master/stdstrings "stdstrings")| [stdstrings](https://github.com/cockroachdb/errors/tree/master/stdstrings "stdstrings")| |   
[telemetrykeys](https://github.com/cockroachdb/errors/tree/master/telemetrykeys "telemetrykeys")| [telemetrykeys](https://github.com/cockroachdb/errors/tree/master/telemetrykeys "telemetrykeys")| |   
[testutils](https://github.com/cockroachdb/errors/tree/master/testutils "testutils")| [testutils](https://github.com/cockroachdb/errors/tree/master/testutils "testutils")| |   
[withstack](https://github.com/cockroachdb/errors/tree/master/withstack "withstack")| [withstack](https://github.com/cockroachdb/errors/tree/master/withstack "withstack")| |   
[.gitignore](https://github.com/cockroachdb/errors/blob/master/.gitignore ".gitignore")| [.gitignore](https://github.com/cockroachdb/errors/blob/master/.gitignore ".gitignore")| |   
[LICENSE](https://github.com/cockroachdb/errors/blob/master/LICENSE "LICENSE")| [LICENSE](https://github.com/cockroachdb/errors/blob/master/LICENSE "LICENSE")| |   
[Makefile.update-protos](https://github.com/cockroachdb/errors/blob/master/Makefile.update-protos "Makefile.update-protos")| [Makefile.update-protos](https://github.com/cockroachdb/errors/blob/master/Makefile.update-protos "Makefile.update-protos")| |   
[README.md](https://github.com/cockroachdb/errors/blob/master/README.md "README.md")| [README.md](https://github.com/cockroachdb/errors/blob/master/README.md "README.md")| |   
[assert_api.go](https://github.com/cockroachdb/errors/blob/master/assert_api.go "assert_api.go")| [assert_api.go](https://github.com/cockroachdb/errors/blob/master/assert_api.go "assert_api.go")| |   
[barriers_api.go](https://github.com/cockroachdb/errors/blob/master/barriers_api.go "barriers_api.go")| [barriers_api.go](https://github.com/cockroachdb/errors/blob/master/barriers_api.go "barriers_api.go")| |   
[contexttags_api.go](https://github.com/cockroachdb/errors/blob/master/contexttags_api.go "contexttags_api.go")| [contexttags_api.go](https://github.com/cockroachdb/errors/blob/master/contexttags_api.go "contexttags_api.go")| |   
[domains_api.go](https://github.com/cockroachdb/errors/blob/master/domains_api.go "domains_api.go")| [domains_api.go](https://github.com/cockroachdb/errors/blob/master/domains_api.go "domains_api.go")| |   
[errbase_api.go](https://github.com/cockroachdb/errors/blob/master/errbase_api.go "errbase_api.go")| [errbase_api.go](https://github.com/cockroachdb/errors/blob/master/errbase_api.go "errbase_api.go")| |   
[errutil_api.go](https://github.com/cockroachdb/errors/blob/master/errutil_api.go "errutil_api.go")| [errutil_api.go](https://github.com/cockroachdb/errors/blob/master/errutil_api.go "errutil_api.go")| |   
[errutil_api_test.go](https://github.com/cockroachdb/errors/blob/master/errutil_api_test.go "errutil_api_test.go")| [errutil_api_test.go](https://github.com/cockroachdb/errors/blob/master/errutil_api_test.go "errutil_api_test.go")| |   
[go.mod](https://github.com/cockroachdb/errors/blob/master/go.mod "go.mod")| [go.mod](https://github.com/cockroachdb/errors/blob/master/go.mod "go.mod")| |   
[go.sum](https://github.com/cockroachdb/errors/blob/master/go.sum "go.sum")| [go.sum](https://github.com/cockroachdb/errors/blob/master/go.sum "go.sum")| |   
[hintdetail_api.go](https://github.com/cockroachdb/errors/blob/master/hintdetail_api.go "hintdetail_api.go")| [hintdetail_api.go](https://github.com/cockroachdb/errors/blob/master/hintdetail_api.go "hintdetail_api.go")| |   
[issuelink_api.go](https://github.com/cockroachdb/errors/blob/master/issuelink_api.go "issuelink_api.go")| [issuelink_api.go](https://github.com/cockroachdb/errors/blob/master/issuelink_api.go "issuelink_api.go")| |   
[markers_api.go](https://github.com/cockroachdb/errors/blob/master/markers_api.go "markers_api.go")| [markers_api.go](https://github.com/cockroachdb/errors/blob/master/markers_api.go "markers_api.go")| |   
[report_api.go](https://github.com/cockroachdb/errors/blob/master/report_api.go "report_api.go")| [report_api.go](https://github.com/cockroachdb/errors/blob/master/report_api.go "report_api.go")| |   
[safedetails_api.go](https://github.com/cockroachdb/errors/blob/master/safedetails_api.go "safedetails_api.go")| [safedetails_api.go](https://github.com/cockroachdb/errors/blob/master/safedetails_api.go "safedetails_api.go")| |   
[secondary_api.go](https://github.com/cockroachdb/errors/blob/master/secondary_api.go "secondary_api.go")| [secondary_api.go](https://github.com/cockroachdb/errors/blob/master/secondary_api.go "secondary_api.go")| |   
[telemetrykeys_api.go](https://github.com/cockroachdb/errors/blob/master/telemetrykeys_api.go "telemetrykeys_api.go")| [telemetrykeys_api.go](https://github.com/cockroachdb/errors/blob/master/telemetrykeys_api.go "telemetrykeys_api.go")| |   
[withstack_api.go](https://github.com/cockroachdb/errors/blob/master/withstack_api.go "withstack_api.go")| [withstack_api.go](https://github.com/cockroachdb/errors/blob/master/withstack_api.go "withstack_api.go")| |   
View all files  
## Repository files navigation
  * [README](https://github.com/cockroachdb/errors)
  * [Apache-2.0 license](https://github.com/cockroachdb/errors)


# cockroachdb/errors: Go errors with network portability
[](https://github.com/cockroachdb/errors#cockroachdberrors-go-errors-with-network-portability)
This library aims to be used as a drop-in replacement to `github.com/pkg/errors` and Go's standard `errors` package. It also provides _network portability_ of error objects, in ways suitable for distributed systems with mixed-version software compatibility.
It also provides native and comprehensive support for [PII](https://en.wikipedia.org/wiki/Personal_data)-free details and an opt-in [Sentry.io](https://sentry.io/) reporting mechanism that automatically formats error details and strips them of PII.
See also [the design RFC](https://github.com/cockroachdb/cockroach/blob/master/docs/RFCS/20190318_error_handling.md).
[![Build Status](https://github.com/cockroachdb/errors/actions/workflows/ci.yaml/badge.svg?branch=master)](https://github.com/cockroachdb/errors/actions/workflows/ci.yaml/badge.svg?branch=master) [![Go Reference](https://camo.githubusercontent.com/c27e5e7165f5056529ade7c658add9da4c576db1338906c7931926dc651699b5/68747470733a2f2f706b672e676f2e6465762f62616467652f6769746875622e636f6d2f636f636b726f61636864622f6572726f72732e737667)](https://pkg.go.dev/github.com/cockroachdb/errors)
Table of contents:
  * [Features](https://github.com/cockroachdb/errors#Features)
  * [How to use](https://github.com/cockroachdb/errors#How-to-use)
  * [What comes out of an error?](https://github.com/cockroachdb/errors#What-comes-out-of-an-error)
  * [Available error leaves](https://github.com/cockroachdb/errors#Available-error-leaves)
  * [Available wrapper constructors](https://github.com/cockroachdb/errors#Available-wrapper-constructors)
  * [Providing PII-free details](https://github.com/cockroachdb/errors#Providing-PII-free-details)
  * [Building your own error types](https://github.com/cockroachdb/errors#Building-your-own-error-types)
  * [Error composition (summary)](https://github.com/cockroachdb/errors#Error-composition-summary)
  * [API (not constructing error objects)](https://github.com/cockroachdb/errors#API-not-constructing-error-objects)


## Features
[](https://github.com/cockroachdb/errors#features)
Feature | Go's <1.13 `errors` | `github.com/pkg/errors` | Go 1.13 `errors`/`xerrors` | `cockroachdb/errors`  
---|---|---|---|---  
error constructors (`New`, `Errorf` etc) | ✔ | ✔ | ✔ | ✔  
error causes (`Cause` / `Unwrap`) |  | ✔ | ✔ | ✔  
cause barriers (`Opaque` / `Handled`) |  |  | ✔ | ✔  
`errors.As()`, `errors.Is()` |  |  | ✔ | ✔  
automatic error wrap when format ends with `: %w` |  |  | ✔ | ✔  
standard wrappers with efficient stack trace capture |  | ✔ |  | ✔  
**transparent protobuf encode/decode with forward compatibility** |  |  |  | ✔  
**`errors.Is()`recognizes errors across the network** |  |  |  | ✔  
**comprehensive support for PII-free reportable strings** |  |  |  | ✔  
support for both `Cause()` and `Unwrap()` [go#31778](https://github.com/golang/go/issues/31778) |  |  |  | ✔  
standard error reports to Sentry.io |  |  |  | ✔  
wrappers to denote assertion failures |  |  |  | ✔  
wrappers with issue tracker references |  |  |  | ✔  
wrappers for user-facing hints and details |  |  |  | ✔  
wrappers to attach secondary causes |  |  |  | ✔  
wrappers to attach [`logtags`](https://github.com/cockroachdb/logtags) details from `context.Context` |  |  |  | ✔  
`errors.FormatError()`, `Formatter`, `Printer` |  |  | (under construction) | ✔  
`errors.SafeFormatError()`, `SafeFormatter` |  |  |  | ✔  
wrapper-aware `IsPermission()`, `IsTimeout()`, `IsExist()`, `IsNotExist()` |  |  |  | ✔  
"Forward compatibility" above refers to the ability of this library to recognize and properly handle network communication of error types it does not know about, for example when a more recent version of a software package sends a new error object to another system running an older version of the package.
## How to use
[](https://github.com/cockroachdb/errors#how-to-use)
  * construct errors with `errors.New()`, etc as usual, but also see the other [error leaf constructors](https://github.com/cockroachdb/errors#Available-error-leaves) below.
  * wrap errors with `errors.Wrap()` as usual, but also see the [other wrappers](https://github.com/cockroachdb/errors#Available-wrapper-constructors) below.
  * test error identity with `errors.Is()` as usual. **Unique in this library** : this works even if the error has traversed the network! Also, `errors.IsAny()` to recognize two or more reference errors.
  * replace uses of `os.IsPermission()`, `os.IsTimeout()`, `os.IsExist()` and `os.IsNotExist()` by their analog in sub-package `oserror` so that they can peek through layers of wrapping.
  * access error causes with `errors.UnwrapOnce()` / `errors.UnwrapAll()` (note: `errors.Cause()` and `errors.Unwrap()` also provided for compatibility with other error packages).
  * encode/decode errors to protobuf with `errors.EncodeError()` / `errors.DecodeError()`.
  * extract **PII-free safe details** with `errors.GetSafeDetails()`.
  * extract human-facing hints and details with `errors.GetAllHints()`/`errors.GetAllDetails()` or `errors.FlattenHints()`/`errors.FlattenDetails()`.
  * produce detailed Sentry.io reports with `errors.BuildSentryReport()` / `errors.ReportError()`.
  * implement your own error leaf types and wrapper types: 
    * implement the `error` and `errors.Wrapper` interfaces as usual.
    * register encode/decode functions: call `errors.Register{Leaf,Wrapper}{Encoder,Decoder}()` in a `init()` function in your package.
    * implement `Format()` that redirects to `errors.FormatError()`.
    * see the section [Building your own error types](https://github.com/cockroachdb/errors#Building-your-own-error-types) below.


## What comes out of an error?
[](https://github.com/cockroachdb/errors#what-comes-out-of-an-error)
Error detail | `Error()` and format `%s`/`%q`/`%v` | format `%+v` | `GetSafeDetails()` | Sentry report via `ReportError()`  
---|---|---|---|---  
main message, eg `New()` | visible | visible | yes (CHANGED IN v1.6) | full (CHANGED IN v1.6)  
wrap prefix, eg `WithMessage()` | visible (as prefix) | visible | yes (CHANGED IN v1.6) | full (CHANGED IN v1.6)  
stack trace, eg `WithStack()` | not visible | simplified | yes | full  
hint , eg `WithHint()` | not visible | visible | no | type only  
detail, eg `WithDetail()` | not visible | visible | no | type only  
assertion failure annotation, eg `WithAssertionFailure()` | not visible | visible | no | type only  
issue links, eg `WithIssueLink()`, `UnimplementedError()` | not visible | visible | yes | full  
safe details, eg `WithSafeDetails()` | not visible | visible | yes | full  
telemetry keys, eg. `WithTelemetryKey()` | not visible | visible | yes | full  
secondary errors, eg. `WithSecondaryError()`, `CombineErrors()` | not visible | visible | redacted, recursively | redacted, recursively  
barrier origins, eg. `Handled()` | not visible | visible | redacted, recursively | redacted, recursively  
error domain, eg. `WithDomain()` | not visible | visible | yes | full  
context tags, eg. `WithContextTags()` | not visible | visible | keys visible, values redacted | keys visible, values redacted  
## Available error leaves
[](https://github.com/cockroachdb/errors#available-error-leaves)
An error _leaf_ is an object that implements the `error` interface, but does not refer to another error via a `Unwrap()` or `Cause()` method.
  * `New(string) error`, `Newf(string, ...interface{}) error`, `Errorf(string, ...interface{}) error`: leaf errors with message
    * **when to use: common error cases.**
    * what it does: also captures the stack trace at point of call and redacts the provided message for safe reporting.
    * how to access the detail: `Error()`, regular Go formatting. **Details in Sentry report.**
    * see also: Section [Error composition](https://github.com/cockroachdb/errors#Error-composition-summary) below. `errors.NewWithDepth()` variants to customize at which call depth the stack trace is captured.
  * `AssertionFailedf(string, ...interface{}) error`, `NewAssertionFailureWithWrappedErrf(error, string, ...interface{}) error`: signals an assertion failure / programming error.
    * **when to use: when an invariant is violated; when an unreachable code path is reached.**
    * what it does: also captures the stack trace at point of call, redacts the provided strings for safe reporting, prepares a hint to inform a human user.
    * how to access the detail: `IsAssertionFailure()`/`HasAssertionFailure()`, format with `%+v`, Safe details included in Sentry reports.
    * see also: Section [Error composition](https://github.com/cockroachdb/errors#Error-composition-summary) below. `errors.AssertionFailedWithDepthf()` variant to customize at which call depth the stack trace is captured.
  * `Handled(error) error`, `Opaque(error) error`, `HandledWithMessage(error, string) error`: captures an error cause but make it invisible to `Unwrap()` / `Is()`.
    * **when to use: when a new error occurs while handling an error, and the original error must be "hidden".**
    * what it does: captures the cause in a hidden field. The error message is preserved unless the `...WithMessage()` variant is used.
    * how to access the detail: format with `%+v`, redacted details reported in Sentry reports.
  * `UnimplementedError(IssueLink, string) error`: captures a message string and a URL reference to an external resource to denote a feature that was not yet implemented.
    * **when to use: to inform (human) users that some feature is not implemented yet and refer them to some external resource.**
    * what it does: captures the message, URL and detail in a wrapper. The URL and detail are considered safe for reporting.
    * how to access the detail: `errors.GetAllHints()`, `errors.FlattenHints()`, format with `%+v`, URL and detail included in Sentry report (not the message).
    * see also: `errors.WithIssueLink()` below for errors that are not specifically about unimplemented features.


## Available wrapper constructors
[](https://github.com/cockroachdb/errors#available-wrapper-constructors)
An error _wrapper_ is an object that implements the `error` interface, and also refers to another error via an `Unwrap()` (preferred) and/or `Cause()` method.
All wrapper constructors can be applied safely to a `nil` `error`: they behave as no-ops in this case:
```
// The following:
// if err := foo(); err != nil {
//  return errors.Wrap(err, "foo")
// }
// return nil
//
// is not needed. Instead, you can use this:
return errors.Wrap(foo(), "foo")
```

  * `Wrap(error, string) error`, `Wrapf(error, string, ...interface{}) error`:
    * **when to use: on error return paths.**
    * what it does: combines `WithMessage()`, `WithStack()`, `WithSafeDetails()`.
    * how to access the details: `Error()`, regular Go formatting. **Details in Sentry report.**
    * see also: Section [Error composition](https://github.com/cockroachdb/errors#Error-composition-summary) below. `WrapWithDepth()` variants to customize at which depth the stack trace is captured.
  * `WithSecondaryError(error, error) error`: annotate an error with a secondary error.
    * **when to use: when an additional error occurs in the code that is handling a primary error.** Consider using `errors.CombineErrors()` instead (see below).
    * what it does: it captures the secondary error but hides it from `errors.Is()`.
    * how to access the detail: format with `%+v`, redacted recursively in Sentry reports.
    * see also: `errors.CombineErrors()`
  * `CombineErrors(error, error) error`: combines two errors into one.
    * **when to use: when two operations occur concurrently and either can return an error, and only one final error must be returned.**
    * what it does: returns either of its arguments if the other is `nil`, otherwise calls `WithSecondaryError()`.
    * how to access the detail: see `WithSecondaryError()` above.
  * `Mark(error, error) error`: gives the identity of one error to another error.
    * **when to use: when a caller expects to recognize a sentinel error with`errors.Is()` but the callee provides a diversity of error messages.**
    * what it does: it overrides the "error mark" used internally by `errors.Is()`.
    * how to access the detail: format with `%+v`, Sentry reports.
  * `WithStack(error) error`: annotate with stack trace
    * **when to use:** usually not needed, use `errors.Wrap()`/`errors.Wrapf()` instead.
**Special cases:**
      * when returning a sentinel, for example:
```
var myErr = errors.New("foo")
func myFunc() error {
 if ... {
   return errors.WithStack(myErr)
 }
}
```

      * on error return paths, when not trivial but also not warranting a wrap. For example:
```
err := foo()
if err != nil {
 doSomething()
 if !somecond {
   return errors.WithStack(err)
 }
}
```

    * what it does: captures (efficiently) a stack trace.
    * how to access the details: format with `%+v`, `errors.GetSafeDetails()`, Sentry reports. The stack trace is considered safe for reporting.
    * see also: `WithStackDepth()` to customize the call depth at which the stack trace is captured.
  * `WithSafeDetails(error, string, ...interface{}) error`: safe details for reporting.
    * when to use: probably never. Use `errors.Wrap()`/`errors.Wrapf()` instead.
    * what it does: saves some strings for safe reporting.
    * how to access the detail: format with `%+v`, `errors.GetSafeDetails()`, Sentry report.
  * `WithMessage(error, string) error`, `WithMessagef(error, string, ...interface{}) error`: message prefix.
    * when to use: probably never. Use `errors.Wrap()`/`errors.Wrapf()` instead.
    * what it does: adds a message prefix.
    * how to access the detail: `Error()`, regular Go formatting, Sentry Report.
  * `WithDetail(error, string) error`, `WithDetailf(error, string, ...interface{}) error`, user-facing detail with contextual information.
    * **when to use: need to embark a message string to output when the error is presented to a developer.**
    * what it does: captures detail strings.
    * how to access the detail: `errors.GetAllDetails()`, `errors.FlattenDetails()` (all details are preserved), format with `%+v`. Not included in Sentry reports.
  * `WithHint(error, string) error`, `WithHintf(error, string, ...interface{}) error`: user-facing detail with suggestion for action to take.
    * **when to use: need to embark a message string to output when the error is presented to an end user.**
    * what it does: captures hint strings.
    * how to access the detail: `errors.GetAllHints()`, `errors.FlattenHints()` (hints are de-duplicated), format with `%+v`. Not included in Sentry reports.
  * `WithIssueLink(error, IssueLink) error`: annotate an error with an URL and arbitrary string.
    * **when to use: to refer (human) users to some external resources.**
    * what it does: captures the URL and detail in a wrapper. Both are considered safe for reporting.
    * how to access the detail: `errors.GetAllHints()`, `errors.FlattenHints()`, `errors.GetSafeDetails()`, format with `%+v`, Sentry report.
    * see also: `errors.UnimplementedError()` to construct leaves (see previous section).
  * `WithTelemetry(error, string) error`: annotate an error with a key suitable for telemetry.
    * **when to use: to gather strings during error handling, for capture in the telemetry sub-system of a server package.**
    * what it does: captures the string. The telemetry key is considered safe for reporting.
    * how to access the detail: `errors.GetTelemetryKeys()`, `errors.GetSafeDetails()`, format with `%+v`, Sentry report.
  * `WithDomain(error, Domain) error`, `HandledInDomain(error, Domain) error`, `HandledInDomainWithMessage(error, Domain, string) error` **(experimental)** : annotate an error with an origin package.
    * **when to use: at package boundaries.**
    * what it does: captures the identity of the error domain. Can be asserted with `errors.EnsureNotInDomain()`, `errors.NotInDomain()`.
    * how to access the detail: format with `%+v`, Sentry report.
  * `WithAssertionFailure(error) error`: annotate an error as being an assertion failure.
    * when to use: probably never. Use `errors.AssertionFailedf()` and variants.
    * what it does: wraps the error with a special type. Triggers an auto-generated hint.
    * how to access the detail: `IsAssertionFailure()`/`HasAssertionFailure()`, `errors.GetAllHints()`, `errors.FlattenHints()`, format with `%+v`, Sentry report.
  * `WithContextTags(error, context.Context) error`: annotate an error with the k/v pairs attached to a `context.Context` instance with the [`logtags`](https://github.com/cockroachdb/logtags) package.
    * **when to use: when capturing/producing an error and a`context.Context` is available.**
    * what it does: it captures the `logtags.Buffer` object in the wrapper.
    * how to access the detail: `errors.GetContextTags()`, format with `%+v`, Sentry reports.


## Providing PII-free details
[](https://github.com/cockroachdb/errors#providing-pii-free-details)
The library support PII-free strings essentially as follows:
  * by default, many strings included in an error object are considered to be PII-unsafe, and are stripped out when building a Sentry report.
  * some fields in the library are assumed to be PII-safe by default.
  * you can opt additional strings in to Sentry reports.


The following strings from this library are considered to be PII-free, and thus included in Sentry reports automatically:
  * the _type_ of error objects,
  * stack traces (containing only file paths, line numbers, function names - arguments are not included),
  * issue tracker links (including URL and detail field),
  * telemetry keys,
  * error domains,
  * context tag keys,
  * the `format string` argument of `Newf`, `AssertionFailedf`, etc (the constructors ending with `...f()`),
  * the _type_ of the additional arguments passed to the `...f()` constructors,
  * the _value of specific argument types_ passed to the `...f()` constructors, when known to be PII-safe. For details of which arguments are considered PII-free, see the [`redact` package](https://github.com/cockroachdb/redact).


It is possible to opt additional in to Sentry reporting, using either of the following methods:
  * implement the `errors.SafeDetailer` interface, providing the `SafeDetails() []string` method on your error type.
  * enclose additional arguments passed to the `...f()` constructors with `errors.Safe()`. For example: `err := errors.Newf("my code: %d", errors.Safe(123))` — in this example, the value 123 will be included when a Sentry report is constructed.
    * it also makes it available via `errors.GetSafeDetails()`/`GetAllSafeDetails()`.
    * the value 123 is also part of the main error message returned by `Error()`.
  * attach additional arbitrary strings with `errors.WithSafeDetails(error, string, ...interface{}) error` and also use `errors.Safe()`. For example: `err = errors.WithSafeDetails(err, "additional data: %s", errors.Safe("hello"))`.
    * in this example, the string "hello" will be included in Sentry reports.
    * however, it is not part of the main error message returned by `Error()`.


For more details on how Sentry reports are built, see the [`report`](https://github.com/cockroachdb/errors/blob/master/report) sub-package.
## Building your own error types
[](https://github.com/cockroachdb/errors#building-your-own-error-types)
You can create an error type as usual in Go: implement the `error` interface, and, if your type is also a wrapper, the `errors.Wrapper` interface (an `Unwrap()` method). You may also want to implement the `Cause()` method for backward compatibility with `github.com/pkg/errors`, if your project also uses that.
If your error type is a wrapper, you should implement a `Format()` method that redirects to `errors.FormatError()`, otherwise `%+v` will not work. Additionally, if your type has a payload not otherwise visible via `Error()`, you may want to implement `errors.SafeFormatter`. See [making `%+v` work with your type](https://github.com/cockroachdb/errors#Making-v-work-with-your-type) below for details.
Finally, you may want your new error type to be portable across the network.
If your error type is a leaf, and already implements `proto.Message` (from [gogoproto](https://github.com/gogo/protobuf)), you are all set and the errors library will use that automatically. If you do not or cannot implement `proto.Message`, or your error type is a wrapper, read on.
At a minimum, you will need a _decoder function_ : while `cockroachdb/errors` already does a bunch of encoding/decoding work on new types automatically, the one thing it really cannot do on its own is instantiate a Go object using your new type.
Here is the simplest decode function for a new leaf error type and a new wrapper type:
```
// note: we use the gogoproto `proto` sub-package.
func yourDecode(_ string, _ []string, _ proto.Message) error {
  return &yourType{}
}
func init() {
  errors.RegisterLeafEncoder((*yourType)(nil), yourDecodeFunc)
}
func yourDecodeWrapper(cause error, _ string, _ []string, _ proto.Message) error {
  // Note: the library already takes care of encoding/decoding the cause.
  return &yourWrapperType{cause: cause}
}
func init() {
  errors.RegisterWrapperDecoder((*yourWrapperType)(nil), yourDecodeWrapper)
}
```

In the case where your type does not have any other field (empty struct for leafs, just a cause for wrappers), this is all you have to do.
(See the type `withAssertionFailure` in [`assert/assert.go`](https://github.com/cockroachdb/errors/blob/master/assert/assert.go) for an example of this simple case.)
If your type does have additional fields, you _may_ still not need a custom encoder. This is because the library automatically encodes/decodes the main error message and any safe strings that your error types makes available via the `errors.SafeDetailer` interface (the `SafeDetails()` method).
Say, for example, you have the following leaf type:
```
type myLeaf struct {
  code int
}
func (m *myLeaf) Error() string { return fmt.Sprintf("my error: %d" + m.code }
```

In that case, the library will automatically encode the result of calling `Error()`. This string will then be passed back to your decoder function as the first argument. This makes it possible to decode the `code` field exactly:
```
func myLeafDecoder(msg string, _ []string, _ proto.Message) error {
	codeS := strings.TrimPrefix(msg, "my error: ")
	code, _ := strconv.Atoi(codeS)
	// Note: error handling for strconv is omitted here to simplify
	// the explanation. If your decoder function should fail, simply
	// return a `nil` error object (not another unrelated error!).
	return &myLeaf{code: code}
}
```

Likewise, if your fields are PII-free, they are safe to expose via the `errors.SafeDetailer` interface. Those strings also get encoded automatically, and get passed to the decoder function as the second argument.
For example, say you have the following leaf type:
```
type myLeaf struct {
  // both fields are PII-free.
  code int
  tag string
}
func (m *myLeaf) Error() string { ... }
```

Then you can expose the fields as safe details as follows:
```
func (m *myLeaf) SafeDetails() []string {
 return []string{fmt.Sprintf("%d", m.code), m.tag}
}
```

(If the data is PII-free, then it is good to do this in any case: it enables any network system that receives an error of your type, but does not know about it, to still produce useful Sentry reports.)
Once you have this, the decode function receives the strings and you can use them to re-construct the error:
```
func myLeafDecoder(_ string, details []string, _ proto.Message) error {
  // Note: you may want to test the length of the details slice
	// is correct.
  code, _ := strconv.Atoi(details[0])
  tag := details[1]
	return &myLeaf{code: code, tag: tag}
}
```

(For an example, see the `withTelemetry` type in [`telemetry/with_telemetry.go`](https://github.com/cockroachdb/errors/blob/master/telemetry/with_telemetry.go).)
**The only case where you need a custom encoder is when your error type contains some fields that are not reflected in the error message (so you can't extract them back from there), and are not PII-free and thus cannot be reported as "safe details".**
To take inspiration from examples, see the following types in the library that need a custom encoder:
  * Hints/details in [`hintdetail/with_hint.go`](https://github.com/cockroachdb/errors/blob/master/hintdetail/with_hint.go) and [`hintdetail/with_detail.go`](https://github.com/cockroachdb/errors/blob/master/hintdetail/with_detail.go).
  * Secondary error wrappers in [`secondary/with_secondary.go`](https://github.com/cockroachdb/errors/blob/master/secondary/with_secondary.go).
  * Marker error wrappers at the end of [`markers/markers.go`](https://github.com/cockroachdb/errors/blob/master/markers/markers.go).


### Making `%+v` work with your type
[](https://github.com/cockroachdb/errors#making-v-work-with-your-type)
In short:
  * When in doubt, you should always implement the `fmt.Formatter` interface (`Format(fmt.State, rune)`) on your custom error types, exactly as follows:
```
func (e *yourType) Format(s *fmt.State, verb rune) { errors.FormatError(e, s, verb) }
```

(If you do not provide this redirection for your own custom wrapper type, this will disable the recursive application of the `%+v` flag to the causes chained from your wrapper.)
  * You may optionally implement the `errors.SafeFormatter` interface: `SafeFormatError(p errors.Printer) (next error)`. This is optional, but should be done when some details are not included by `Error()` and should be emitted upon `%+v`.


The example `withHTTPCode` wrapper [included in the source tree](https://github.com/cockroachdb/errors/blob/master/exthttp/ext_http.go) achieves this as follows:
```
// Format() implements fmt.Formatter, is required until Go knows about FormatError.
func (w *withHTTPCode) Format(s fmt.State, verb rune) { errors.FormatError(w, s, verb) }
// FormatError() formats the error.
func (w *withHTTPCode) SafeFormatError(p errors.Printer) (next error) {
	// Note: no need to print out the cause here!
	// FormatError() knows how to do this automatically.
	if p.Detail() {
		p.Printf("http code: %d", errors.Safe(w.code))
	}
	return w.cause
}
```

Technical details follow:
  * The errors library follows [the Go 2 proposal](https://go.googlesource.com/proposal/+/master/design/29934-error-values.md).
  * At some point in the future, Go's standard `fmt` library will learn [how to recognize error wrappers, and how to use the `errors.Formatter` interface automatically](https://github.com/golang/go/issues/29934). Until then, you must ensure that you also implement a `Format()` method (from `fmt.Formatter`) that redirects to `errors.FormatError`.
Note: you may implement `fmt.Formatter` (`Format()` method) in this way without implementing `errors.Formatter` (a `FormatError()` method). In that case, `errors.FormatError` will use a separate code path that does "the right thing", even for wrappers.
  * The library provides an implementation of `errors.FormatError()`, modeled after the same function in Go 2. This is responsible for printing out error details, and knows how to present a chain of causes in a semi-structured format upon formatting with `%+v`.


### Ensuring `errors.Is` works when errors/packages are renamed
[](https://github.com/cockroachdb/errors#ensuring-errorsis-works-when-errorspackages-are-renamed)
If a Go package containing a custom error type is renamed, or the error type itself is renamed, and errors of this type are transported over the network, then another system with a different code layout (e.g. running a different version of the software) may not be able to recognize the error any more via `errors.Is`.
To ensure that network portability continues to work across multiple software versions, in the case error types get renamed or Go packages get moved / renamed / etc, the server code must call `errors.RegisterTypeMigration()` from e.g. an `init()` function.
Example use:
```
 previousPath := "github.com/old/path/to/error/package"
 previousTypeName := "oldpackage.oldErrorName"
 newErrorInstance := &newTypeName{...}
 errors.RegisterTypeMigration(previousPath, previousTypeName, newErrorInstance)
```

## Error composition (summary)
[](https://github.com/cockroachdb/errors#error-composition-summary)
Constructor | Composes  
---|---  
`New` | `NewWithDepth` (see below)  
`Errorf` | = `Newf`  
`Newf` | `NewWithDepthf` (see below)  
`WithMessage` | custom wrapper with message prefix and knowledge of safe strings  
`Wrap` | `WrapWithDepth` (see below)  
`Wrapf` | `WrapWithDepthf` (see below)  
`AssertionFailed` | `AssertionFailedWithDepthf` (see below)  
`NewWithDepth` | custom leaf with knowledge of safe strings + `WithStackDepth` (see below)  
`NewWithDepthf` | custom leaf with knowledge of safe strings + `WithSafeDetails` + `WithStackDepth`  
`WithMessagef` | custom wrapper with message prefix and knowledge of safe strings  
`WrapWithDepth` | `WithMessage` + `WithStackDepth`  
`WrapWithDepthf` | `WithMessagef` + `WithStackDepth`  
`AssertionFailedWithDepthf` | `NewWithDepthf` + `WithAssertionFailure`  
`NewAssertionErrorWithWrappedErrf` | `HandledWithMessagef` (barrier) + `WrapWithDepthf` + `WithAssertionFailure`  
`Join` | `JoinWithDepth` (see below)  
`JoinWithDepth` | multi-cause wrapper + `WithStackDepth`  
## API (not constructing error objects)
[](https://github.com/cockroachdb/errors#api-not-constructing-error-objects)
The following is a summary of the non-constructor API functions, grouped by category. Detailed documentation can be found at: <https://pkg.go.dev/github.com/cockroachdb/errors>
```
// Access causes.
func UnwrapAll(err error) error
func UnwrapOnce(err error) error
func Cause(err error) error // compatibility
func Unwrap(err error) error // compatibility
type Wrapper interface { ... } // compatibility
// Error formatting.
type Formatter interface { ... } // compatibility, not recommended
type SafeFormatter interface { ... }
type Printer interface { ... }
func FormatError(err error, s fmt.State, verb rune)
func Formattable(err error) fmt.Formatter
// Identify errors.
func Is(err, reference error) bool
func IsAny(err error, references ...error) bool
func If(err error, pred func(err error) (interface{}, bool)) (interface{}, bool)
func As(err error, target interface{}) bool
// Encode/decode errors.
type EncodedError // this is protobuf-encodable
func EncodeError(ctx context.Context, err error) EncodedError
func DecodeError(ctx context.Context, enc EncodedError) error
// Register encode/decode functions for custom/new error types.
func RegisterLeafDecoder(typeName TypeKey, decoder LeafDecoder)
func RegisterLeafEncoder(typeName TypeKey, encoder LeafEncoder)
func RegisterWrapperDecoder(typeName TypeKey, decoder WrapperDecoder)
func RegisterWrapperEncoder(typeName TypeKey, encoder WrapperEncoder)
func RegisterWrapperEncoderWithMessageOverride (typeName TypeKey, encoder WrapperEncoderWithMessageOverride)
func RegisterMultiCauseEncoder(theType TypeKey, encoder MultiCauseEncoder)
func RegisterMultiCauseDecoder(theType TypeKey, decoder MultiCauseDecoder)
type LeafEncoder = func(ctx context.Context, err error) (msg string, safeDetails []string, payload proto.Message)
type LeafDecoder = func(ctx context.Context, msg string, safeDetails []string, payload proto.Message) error
type WrapperEncoder = func(ctx context.Context, err error) (msgPrefix string, safeDetails []string, payload proto.Message)
type WrapperEncoderWithMessageOverride = func(ctx context.Context, err error) (msgPrefix string, safeDetails []string, payload proto.Message, overrideError bool)
type WrapperDecoder = func(ctx context.Context, cause error, msgPrefix string, safeDetails []string, payload proto.Message) error
type MultiCauseEncoder = func(ctx context.Context, err error) (msg string, safeDetails []string, payload proto.Message)
type MultiCauseDecoder = func(ctx context.Context, causes []error, msgPrefix string, safeDetails []string, payload proto.Message) error
// Registering package renames for custom error types.
func RegisterTypeMigration(previousPkgPath, previousTypeName string, newType error)
// Sentry reports.
func BuildSentryReport(err error) (*sentry.Event, map[string]interface{})
func ReportError(err error) (string)
// Stack trace captures.
func GetOneLineSource(err error) (file string, line int, fn string, ok bool)
type ReportableStackTrace = sentry.StackTrace
func GetReportableStackTrace(err error) *ReportableStackTrace
// Safe (PII-free) details.
type SafeDetailPayload struct { ... }
func GetAllSafeDetails(err error) []SafeDetailPayload
func GetSafeDetails(err error) (payload SafeDetailPayload)
// Obsolete APIs.
type SafeMessager interface { ... }
func Redact(r interface{}) string
// Aliases redact.Safe.
func Safe(v interface{}) SafeMessager
// Assertion failures.
func HasAssertionFailure(err error) bool
func IsAssertionFailure(err error) bool
// User-facing details and hints.
func GetAllDetails(err error) []string
func FlattenDetails(err error) string
func GetAllHints(err error) []string
func FlattenHints(err error) string
// Issue links / URL wrappers.
func HasIssueLink(err error) bool
func IsIssueLink(err error) bool
func GetAllIssueLinks(err error) (issues []IssueLink)
// Unimplemented errors.
func HasUnimplementedError(err error) bool
func IsUnimplementedError(err error) bool
// Telemetry keys.
func GetTelemetryKeys(err error) []string
// Domain errors.
type Domain
const NoDomain Domain
func GetDomain(err error) Domain
func NamedDomain(domainName string) Domain
func PackageDomain() Domain
func PackageDomainAtDepth(depth int) Domain
func EnsureNotInDomain(err error, constructor DomainOverrideFn, forbiddenDomains ...Domain) error
func NotInDomain(err error, doms ...Domain) bool
// Context tags.
func GetContextTags(err error) []*logtags.Buffer
```

## About
Go error library with error portability over the network 
### Resources
[ Readme ](https://github.com/cockroachdb/errors#readme-ov-file)
### License
[ Apache-2.0 license ](https://github.com/cockroachdb/errors#Apache-2.0-1-ov-file)
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/cockroachdb/errors).
[ Activity](https://github.com/cockroachdb/errors/activity)
[ Custom properties](https://github.com/cockroachdb/errors/custom-properties)
### Stars
[ **2.3k** stars](https://github.com/cockroachdb/errors/stargazers)
### Watchers
[ **59** watching](https://github.com/cockroachdb/errors/watchers)
### Forks
[ **68** forks](https://github.com/cockroachdb/errors/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fcockroachdb%2Ferrors&report=cockroachdb+%28user%29)
##  [Releases 19](https://github.com/cockroachdb/errors/releases)
[ v1.12.0 Latest  May 2, 2025 ](https://github.com/cockroachdb/errors/releases/tag/v1.12.0)
[+ 18 releases](https://github.com/cockroachdb/errors/releases)
##  [Packages 0](https://github.com/orgs/cockroachdb/packages?repo_name=errors)
No packages published 
##  [Used by 12.9k](https://github.com/cockroachdb/errors/network/dependents)
[
  * ![@goastian](https://avatars.githubusercontent.com/u/147334806?s=64&v=4)
  * ![@btwiuse](https://avatars.githubusercontent.com/u/54848194?s=64&v=4)
  * ![@wenyue](https://avatars.githubusercontent.com/u/4454019?s=64&v=4)
  * ![@wdantuma](https://avatars.githubusercontent.com/u/4759730?s=64&v=4)
  * ![@shemnon](https://avatars.githubusercontent.com/u/38109?s=64&v=4)
  * ![@zeta-chain](https://avatars.githubusercontent.com/u/86979844?s=64&v=4)
  * ![@Hoosat-Oy](https://avatars.githubusercontent.com/u/127396778?s=64&v=4)
  * ![@ssvlabs](https://avatars.githubusercontent.com/u/33198961?s=64&v=4)

+ 12,872  ](https://github.com/cockroachdb/errors/network/dependents)
##  [Contributors 21](https://github.com/cockroachdb/errors/graphs/contributors)
  * [ ![@knz](https://avatars.githubusercontent.com/u/642886?s=64&v=4) ](https://github.com/knz)
  * [ ![@dhartunian](https://avatars.githubusercontent.com/u/986307?s=64&v=4) ](https://github.com/dhartunian)
  * [ ![@tooolbox](https://avatars.githubusercontent.com/u/4984708?s=64&v=4) ](https://github.com/tooolbox)
  * [ ![@alexandear](https://avatars.githubusercontent.com/u/3228886?s=64&v=4) ](https://github.com/alexandear)
  * [ ![@dependabot\[bot\]](https://avatars.githubusercontent.com/in/29110?s=64&v=4) ](https://github.com/apps/dependabot)
  * [ ![@erikgrinaker](https://avatars.githubusercontent.com/u/644420?s=64&v=4) ](https://github.com/erikgrinaker)
  * [ ![@ajwerner](https://avatars.githubusercontent.com/u/1839234?s=64&v=4) ](https://github.com/ajwerner)
  * [ ![@yuzefovich](https://avatars.githubusercontent.com/u/5135385?s=64&v=4) ](https://github.com/yuzefovich)
  * [ ![@RaduBerinde](https://avatars.githubusercontent.com/u/16544120?s=64&v=4) ](https://github.com/RaduBerinde)
  * [ ![@michael-james-holloway](https://avatars.githubusercontent.com/u/21353951?s=64&v=4) ](https://github.com/michael-james-holloway)
  * [ ![@kenliu-crl](https://avatars.githubusercontent.com/u/81630120?s=64&v=4) ](https://github.com/kenliu-crl)
  * [ ![@jhchabran](https://avatars.githubusercontent.com/u/10151?s=64&v=4) ](https://github.com/jhchabran)
  * [ ![@andreimatei](https://avatars.githubusercontent.com/u/377201?s=64&v=4) ](https://github.com/andreimatei)
  * [ ![@omarkohl](https://avatars.githubusercontent.com/u/1420656?s=64&v=4) ](https://github.com/omarkohl)


[+ 7 contributors](https://github.com/cockroachdb/errors/graphs/contributors)
## Languages
  * [ Go 100.0% ](https://github.com/cockroachdb/errors/search?l=go)


## Footer
[ ](https://github.com) © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 


## Source Information
- URL: https://github.com/cockroachdb/errors
- Harvested: 2025-08-20T00:32:58.727620
- Profile: code_examples
- Agent: architect
