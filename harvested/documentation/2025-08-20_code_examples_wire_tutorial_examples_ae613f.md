---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-20T00:37:05.835918'
profile: code_examples
source: https://github.com/google/wire/tree/main/_tutorial
topic: Wire Tutorial Examples
---

# Wire Tutorial Examples

[Skip to content](https://github.com/google/wire/tree/main/_tutorial#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgoogle%2Fwire%2Ftree%2Fmain%2F_tutorial)
Appearance settings
  * Product 
    * [ GitHub Copilot  Write better code with AI  ](https://github.com/features/copilot)
    * [ GitHub Spark  New  Build and deploy intelligent apps  ](https://github.com/features/spark)
    * [ GitHub Models  New  Manage and compare prompts  ](https://github.com/features/models)
    * [ GitHub Advanced Security  Find and fix vulnerabilities  ](https://github.com/security/advanced-security)
    * [ Actions  Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces  Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues  Plan and track work  ](https://github.com/features/issues)
    * [ Code Review  Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions  Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search  Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ Why GitHub ](https://github.com/why-github)
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors  Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project  GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform  AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ GitHub Advanced Security  Enterprise-grade security features  ](https://github.com/security/advanced-security)
    * [ Copilot for business  Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support  Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgoogle%2Fwire%2Ftree%2Fmain%2F_tutorial)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=google%2Fwire)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/google/wire/tree/main/_tutorial) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/google/wire/tree/main/_tutorial) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/google/wire/tree/main/_tutorial) to refresh your session. Dismiss alert
{{ message }}
This repository was archived by the owner on Aug 7, 2025. It is now read-only. 
[ google ](https://github.com/google) / **[wire](https://github.com/google/wire) ** Public archive
  * [ Notifications ](https://github.com/login?return_to=%2Fgoogle%2Fwire) You must be signed in to change notification settings
  * [ Fork 674 ](https://github.com/login?return_to=%2Fgoogle%2Fwire)
  * [ Star  14.2k ](https://github.com/login?return_to=%2Fgoogle%2Fwire)


  * [ Code ](https://github.com/google/wire)
  * [ Issues 86 ](https://github.com/google/wire/issues)
  * [ Pull requests 23 ](https://github.com/google/wire/pulls)
  * [ Discussions ](https://github.com/google/wire/discussions)
  * [ Actions ](https://github.com/google/wire/actions)
  * [ Security ](https://github.com/google/wire/security)
[ ](https://github.com/google/wire/security)
[ ](https://github.com/google/wire/security)
[ ](https://github.com/google/wire/security)
### [ Uh oh!  ](https://github.com/google/wire/security)
[There was an error while loading. ](https://github.com/google/wire/security)[Please reload this page](https://github.com/google/wire/tree/main/_tutorial).
  * [ Insights ](https://github.com/google/wire/pulse)


Additional navigation options
  * [ Code  ](https://github.com/google/wire)
  * [ Issues  ](https://github.com/google/wire/issues)
  * [ Pull requests  ](https://github.com/google/wire/pulls)
  * [ Discussions  ](https://github.com/google/wire/discussions)
  * [ Actions  ](https://github.com/google/wire/actions)
  * [ Security  ](https://github.com/google/wire/security)
  * [ Insights  ](https://github.com/google/wire/pulse)


## Collapse file tree
## Files
main
Search this repository
  * .github
  * _tutorial
    * README.md
    * main.go
    * wire.go
    * wire_gen.go
  * cmd
  * docs
  * internal
  * .codecov.yml
  * .contributebot
  * .gitattributes
  * AUTHORS
  * CODE_OF_CONDUCT.md
  * CONTRIBUTING.md
  * CONTRIBUTORS
  * LICENSE
  * README.md
  * go.mod
  * go.sum
  * wire.go


## Breadcrumbs
  1. [wire](https://github.com/google/wire/tree/main)


/
# _tutorial
/
Copy path
## Directory actions
## More options
More options
## Directory actions
## More options
More options
## Latest commit
[![wirekang](https://avatars.githubusercontent.com/u/43294688?v=4&size=40)](https://github.com/wirekang)[wirekang](https://github.com/google/wire/commits?author=wirekang)
[README: fix install instructions on tutorial (](https://github.com/google/wire/commit/79660af94317b9c466adc39f27f469f1079c779b)[#357](https://github.com/google/wire/pull/357)[)](https://github.com/google/wire/commit/79660af94317b9c466adc39f27f469f1079c779b)
May 27, 2022
[79660af](https://github.com/google/wire/commit/79660af94317b9c466adc39f27f469f1079c779b) · May 27, 2022
## History
[History](https://github.com/google/wire/commits/main/_tutorial)
Open commit details
[](https://github.com/google/wire/commits/main/_tutorial)
## Breadcrumbs
  1. [wire](https://github.com/google/wire/tree/main)


/
# _tutorial
/
Top
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
### parent directory
[..](https://github.com/google/wire/tree/main)  
[README.md](https://github.com/google/wire/blob/main/_tutorial/README.md "README.md")| [README.md](https://github.com/google/wire/blob/main/_tutorial/README.md "README.md")| [README: fix install instructions on tutorial (](https://github.com/google/wire/commit/79660af94317b9c466adc39f27f469f1079c779b "README: fix install instructions on tutorial \(#357\)")[#357](https://github.com/google/wire/pull/357)[)](https://github.com/google/wire/commit/79660af94317b9c466adc39f27f469f1079c779b "README: fix install instructions on tutorial \(#357\)")| May 27, 2022  
[main.go](https://github.com/google/wire/blob/main/_tutorial/main.go "main.go")| [main.go](https://github.com/google/wire/blob/main/_tutorial/main.go "main.go")| [Copy over Wire tutorial from Go Cloud (](https://github.com/google/wire/commit/31bae0df4e2b8b4fa6d1b4c9a9662d1e3a15f3f1 "Copy over Wire tutorial from Go Cloud \(#86\)
Originally authored by @enocom. Added to CONTRIBUTORS.
Fixes #80")[#86](https://github.com/google/wire/pull/86)[)](https://github.com/google/wire/commit/31bae0df4e2b8b4fa6d1b4c9a9662d1e3a15f3f1 "Copy over Wire tutorial from Go Cloud \(#86\)
Originally authored by @enocom. Added to CONTRIBUTORS.
Fixes #80")| Nov 30, 2018  
[wire.go](https://github.com/google/wire/blob/main/_tutorial/wire.go "wire.go")| [wire.go](https://github.com/google/wire/blob/main/_tutorial/wire.go "wire.go")| [all: fix Github Workflow for tests, drop Travis](https://github.com/google/wire/commit/737d4615ed6064bb949e4cfa2ead194f8d2dec2c "all: fix Github Workflow for tests, drop Travis")| Aug 30, 2021  
[wire_gen.go](https://github.com/google/wire/blob/main/_tutorial/wire_gen.go "wire_gen.go")| [wire_gen.go](https://github.com/google/wire/blob/main/_tutorial/wire_gen.go "wire_gen.go")| [fix: run wire with -mod=mod (](https://github.com/google/wire/commit/f5e937daa903d897e925a8cd6fdc12566cd7e4c5 "fix: run wire with -mod=mod \(#353\)
* fix: run wire with -mod=mod
* chore: update test with mod flag")[#353](https://github.com/google/wire/pull/353)[)](https://github.com/google/wire/commit/f5e937daa903d897e925a8cd6fdc12566cd7e4c5 "fix: run wire with -mod=mod \(#353\)
* fix: run wire with -mod=mod
* chore: update test with mod flag")| May 27, 2022  
View all files  
## [README.md](https://github.com/google/wire/tree/main/_tutorial#readme)
Outline
# Wire Tutorial
[](https://github.com/google/wire/tree/main/_tutorial#wire-tutorial)
Let's learn to use Wire by example. The [Wire guide](https://github.com/google/wire/blob/master/docs/guide.md) provides thorough documentation of the tool's usage. For readers eager to see Wire applied to a larger server, the [guestbook sample in Go Cloud](https://github.com/google/go-cloud/tree/master/samples/guestbook) uses Wire to initialize its components. Here we are going to build a small greeter program to understand how to use Wire. The finished product may be found in the same directory as this README.
## A First Pass of Building the Greeter Program
[](https://github.com/google/wire/tree/main/_tutorial#a-first-pass-of-building-the-greeter-program)
Let's create a small program that simulates an event with a greeter greeting guests with a particular message.
To start, we will create three types: 1) a message for a greeter, 2) a greeter who conveys that message, and 3) an event that starts with the greeter greeting guests. In this design, we have three `struct` types:
```
type Message string
type Greeter struct {
  // ... TBD
}
type Event struct {
  // ... TBD
}
```

The `Message` type just wraps a string. For now, we will create a simple initializer that always returns a hard-coded message:
```
func NewMessage() Message {
  return Message("Hi there!")
}
```

Our `Greeter` will need reference to the `Message`. So let's create an initializer for our `Greeter` as well.
```
func NewGreeter(m Message) Greeter {
  return Greeter{Message: m}
}
type Greeter struct {
  Message Message // <- adding a Message field
}
```

In the initializer we assign a `Message` field to `Greeter`. Now, we can use the `Message` when we create a `Greet` method on `Greeter`:
```
func (g Greeter) Greet() Message {
  return g.Message
}
```

Next, we need our `Event` to have a `Greeter`, so we will create an initializer for it as well.
```
func NewEvent(g Greeter) Event {
  return Event{Greeter: g}
}
type Event struct {
  Greeter Greeter // <- adding a Greeter field
}
```

Then we add a method to start the `Event`:
```
func (e Event) Start() {
  msg := e.Greeter.Greet()
  fmt.Println(msg)
}
```

The `Start` method holds the core of our small application: it tells the greeter to issue a greeting and then prints that message to the screen.
Now that we have all the components of our application ready, let's see what it takes to initialize all the components without using Wire. Our main function would look like this:
```
func main() {
  message := NewMessage()
  greeter := NewGreeter(message)
  event := NewEvent(greeter)
  event.Start()
}
```

First we create a message, then we create a greeter with that message, and finally we create an event with that greeter. With all the initialization done, we're ready to start our event.
We are using the [dependency injection](https://stackoverflow.com/questions/130794/what-is-dependency-injection) design principle. In practice, that means we pass in whatever each component needs. This style of design lends itself to writing easily tested code and makes it easy to swap out one dependency with another.
## Using Wire to Generate Code
[](https://github.com/google/wire/tree/main/_tutorial#using-wire-to-generate-code)
One downside to dependency injection is the need for so many initialization steps. Let's see how we can use Wire to make the process of initializing our components smoother.
Let's start by changing our `main` function to look like this:
```
func main() {
  e := InitializeEvent()
  e.Start()
}
```

Next, in a separate file called `wire.go` we will define `InitializeEvent`. This is where things get interesting:
```
// wire.go
func InitializeEvent() Event {
  wire.Build(NewEvent, NewGreeter, NewMessage)
  return Event{}
}
```

Rather than go through the trouble of initializing each component in turn and passing it into the next one, we instead have a single call to `wire.Build` passing in the initializers we want to use. In Wire, initializers are known as "providers," functions which provide a particular type. We add a zero value for `Event` as a return value to satisfy the compiler. Note that even if we add values to `Event`, Wire will ignore them. In fact, the injector's purpose is to provide information about which providers to use to construct an `Event` and so we will exclude it from our final binary with a build constraint at the top of the file:
```
//+build wireinject
```

Note, a [build constraint](https://godoc.org/go/build#hdr-Build_Constraints) requires a blank, trailing line.
In Wire parlance, `InitializeEvent` is an "injector." Now that we have our injector complete, we are ready to use the `wire` command line tool.
Install the tool with:
```
go install github.com/google/wire/cmd/wire@latest
```

Then in the same directory with the above code, simply run `wire`. Wire will find the `InitializeEvent` injector and generate a function whose body is filled out with all the necessary initialization steps. The result will be written to a file named `wire_gen.go`.
Let's take a look at what Wire did for us:
```
// wire_gen.go
func InitializeEvent() Event {
  message := NewMessage()
  greeter := NewGreeter(message)
  event := NewEvent(greeter)
  return event
}
```

It looks just like what we wrote above! Now this is a simple example with just three components, so writing the initializer by hand isn't too painful. Imagine how useful Wire is for components that are much more complex. When working with Wire, we will commit both `wire.go` and `wire_gen.go` to source control.
## Making Changes with Wire
[](https://github.com/google/wire/tree/main/_tutorial#making-changes-with-wire)
To show a small part of how Wire handles more complex setups, let's refactor our initializer for `Event` to return an error and see what happens.
```
func NewEvent(g Greeter) (Event, error) {
  if g.Grumpy {
    return Event{}, errors.New("could not create event: event greeter is grumpy")
  }
  return Event{Greeter: g}, nil
}
```

We'll say that sometimes a `Greeter` might be grumpy and so we cannot create an `Event`. The `NewGreeter` initializer now looks like this:
```
func NewGreeter(m Message) Greeter {
  var grumpy bool
  if time.Now().Unix()%2 == 0 {
    grumpy = true
  }
  return Greeter{Message: m, Grumpy: grumpy}
}
```

We have added a `Grumpy` field to `Greeter` struct and if the invocation time of the initializer is an even number of seconds since the Unix epoch, we will create a grumpy greeter instead of a friendly one.
The `Greet` method then becomes:
```
func (g Greeter) Greet() Message {
  if g.Grumpy {
    return Message("Go away!")
  }
  return g.Message
}
```

Now you see how a grumpy `Greeter` is no good for an `Event`. So `NewEvent` may fail. Our `main` must now take into account that `InitializeEvent` may in fact fail:
```
func main() {
  e, err := InitializeEvent()
  if err != nil {
    fmt.Printf("failed to create event: %s\n", err)
    os.Exit(2)
  }
  e.Start()
}
```

We also need to update `InitializeEvent` to add an `error` type to the return value:
```
// wire.go
func InitializeEvent() (Event, error) {
  wire.Build(NewEvent, NewGreeter, NewMessage)
  return Event{}, nil
}
```

With the setup complete, we are ready to invoke the `wire` command again. Note, that after running `wire` once to produce a `wire_gen.go` file, we may also use `go generate`. Having run the command, our `wire_gen.go` file looks like this:
```
// wire_gen.go
func InitializeEvent() (Event, error) {
  message := NewMessage()
  greeter := NewGreeter(message)
  event, err := NewEvent(greeter)
  if err != nil {
    return Event{}, err
  }
  return event, nil
}
```

Wire has detected that the `NewEvent` provider may fail and has done the right thing inside the generated code: it checks the error and returns early if one is present.
## Changing the Injector Signature
[](https://github.com/google/wire/tree/main/_tutorial#changing-the-injector-signature)
As another improvement, let's look at how Wire generates code based on the signature of the injector. Presently, we have hard-coded the message inside `NewMessage`. In practice, it's much nicer to allow callers to change that message however they see fit. So let's change `InitializeEvent` to look like this:
```
func InitializeEvent(phrase string) (Event, error) {
  wire.Build(NewEvent, NewGreeter, NewMessage)
  return Event{}, nil
}
```

Now `InitializeEvent` allows callers to pass in the `phrase` for a `Greeter` to use. We also add a `phrase` argument to `NewMessage`:
```
func NewMessage(phrase string) Message {
  return Message(phrase)
}
```

After we run `wire` again, we will see that the tool has generated an initializer which passes the `phrase` value as a `Message` into `Greeter`. Neat!
```
// wire_gen.go
func InitializeEvent(phrase string) (Event, error) {
  message := NewMessage(phrase)
  greeter := NewGreeter(message)
  event, err := NewEvent(greeter)
  if err != nil {
    return Event{}, err
  }
  return event, nil
}
```

Wire inspects the arguments to the injector, sees that we added a string to the list of arguments (e.g., `phrase`), and likewise sees that among all the providers, `NewMessage` takes a string, and so it passes `phrase` into `NewMessage`.
## Catching Mistakes with Helpful Errors
[](https://github.com/google/wire/tree/main/_tutorial#catching-mistakes-with-helpful-errors)
Let's also look at what happens when Wire detects mistakes in our code and see how Wire's error messages help us correct any problems.
For example, when writing our injector `InitializeEvent`, let's say we forget to add a provider for `Greeter`. Let's see what happens:
```
func InitializeEvent(phrase string) (Event, error) {
  wire.Build(NewEvent, NewMessage) // woops! We forgot to add a provider for Greeter
  return Event{}, nil
}
```

Running `wire`, we see the following:
```
# wrapping the error across lines for readability
$GOPATH/src/github.com/google/wire/_tutorial/wire.go:24:1:
inject InitializeEvent: no provider found for github.com/google/wire/_tutorial.Greeter
(required by provider of github.com/google/wire/_tutorial.Event)
wire: generate failed
```

Wire is telling us some useful information: it cannot find a provider for `Greeter`. Note that the error message prints out the full path to the `Greeter` type. It's also telling us the line number and injector name where the problem occurred: line 24 inside `InitializeEvent`. In addition, the error message tells us which provider needs a `Greeter`. It's the `Event` type. Once we pass in a provider of `Greeter`, the problem will be solved.
Alternatively, what happens if we provide one too many providers to `wire.Build`?
```
func NewEventNumber() int {
  return 1
}
func InitializeEvent(phrase string) (Event, error) {
   // woops! NewEventNumber is unused.
  wire.Build(NewEvent, NewGreeter, NewMessage, NewEventNumber)
  return Event{}, nil
}
```

Wire helpfully tells us that we have an unused provider:
```
$GOPATH/src/github.com/google/wire/_tutorial/wire.go:24:1:
inject InitializeEvent: unused provider "NewEventNumber"
wire: generate failed
```

Deleting the unused provider from the call to `wire.Build` resolves the error.
## Conclusion
[](https://github.com/google/wire/tree/main/_tutorial#conclusion)
Let's summarize what we have done here. First, we wrote a number of components with corresponding initializers, or providers. Next, we created an injector function, specifying which arguments it receives and which types it returns. Then, we filled in the injector function with a call to `wire.Build` supplying all necessary providers. Finally, we ran the `wire` command to generate code that wires up all the different initializers. When we added an argument to the injector and an error return value, running `wire` again made all the necessary updates to our generated code.
The example here is small, but it demonstrates some of the power of Wire, and how it takes much of the pain out of initializing code using dependency injection. Furthermore, using Wire produced code that looks much like what we would otherwise write. There are no bespoke types that commit a user to Wire. Instead it's just generated code. We may do with it what we will. Finally, another point worth considering is how easy it is to add new dependencies to our component initialization. As long as we tell Wire how to provide (i.e., initialize) a component, we may add that component anywhere in the dependency graph and Wire will handle the rest.
In closing, it is worth mentioning that Wire supports a number of additional features not discussed here. Providers may be grouped in [provider sets](https://github.com/google/wire/blob/master/docs/guide.md#defining-providers). There is support for [binding interfaces](https://github.com/google/wire/blob/master/docs/guide.md#binding-interfaces), [binding values](https://github.com/google/wire/blob/master/docs/guide.md#binding-values), as well as support for [cleanup functions](https://github.com/google/wire/blob/master/docs/guide.md#cleanup-functions). See the [Advanced Features](https://github.com/google/wire/blob/master/docs/guide.md#advanced-features) section for more.
## Footer
[ ](https://github.com) © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 


## Source Information
- URL: https://github.com/google/wire/tree/main/_tutorial
- Harvested: 2025-08-20T00:37:05.835918
- Profile: code_examples
- Agent: architect
