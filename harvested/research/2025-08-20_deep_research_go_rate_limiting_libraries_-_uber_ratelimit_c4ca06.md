---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-20T00:51:51.746241'
profile: deep_research
source: https://github.com/uber-go/ratelimit
topic: Go Rate Limiting Libraries - Uber RateLimit
---

# Go Rate Limiting Libraries - Uber RateLimit

[Skip to content](https://github.com/uber-go/ratelimit#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fuber-go%2Fratelimit)
Appearance settings
  * Product 
    * [ GitHub Copilot  Write better code with AI  ](https://github.com/features/copilot)
    * [ GitHub Spark  New  Build and deploy intelligent apps  ](https://github.com/features/spark)
    * [ GitHub Models  New  Manage and compare prompts  ](https://github.com/features/models)
    * [ GitHub Advanced Security  Find and fix vulnerabilities  ](https://github.com/security/advanced-security)
    * [ Actions  Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces  Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues  Plan and track work  ](https://github.com/features/issues)
    * [ Code Review  Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions  Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search  Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ Why GitHub ](https://github.com/why-github)
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors  Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project  GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform  AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ GitHub Advanced Security  Enterprise-grade security features  ](https://github.com/security/advanced-security)
    * [ Copilot for business  Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support  Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fuber-go%2Fratelimit)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=uber-go%2Fratelimit)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/uber-go/ratelimit) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/uber-go/ratelimit) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/uber-go/ratelimit) to refresh your session. Dismiss alert
{{ message }}
[ uber-go ](https://github.com/uber-go) / **[ratelimit](https://github.com/uber-go/ratelimit) ** Public
  * [ Notifications ](https://github.com/login?return_to=%2Fuber-go%2Fratelimit) You must be signed in to change notification settings
  * [ Fork 319 ](https://github.com/login?return_to=%2Fuber-go%2Fratelimit)
  * [ Star  4.6k ](https://github.com/login?return_to=%2Fuber-go%2Fratelimit)


A Go blocking leaky-bucket rate limit implementation 
### License
[ MIT license ](https://github.com/uber-go/ratelimit/blob/main/LICENSE)
[ 4.6k stars ](https://github.com/uber-go/ratelimit/stargazers) [ 319 forks ](https://github.com/uber-go/ratelimit/forks) [ Branches ](https://github.com/uber-go/ratelimit/branches) [ Tags ](https://github.com/uber-go/ratelimit/tags) [ Activity ](https://github.com/uber-go/ratelimit/activity)
[ Star  ](https://github.com/login?return_to=%2Fuber-go%2Fratelimit)
[ Notifications ](https://github.com/login?return_to=%2Fuber-go%2Fratelimit) You must be signed in to change notification settings
  * [ Code ](https://github.com/uber-go/ratelimit)
  * [ Issues 8 ](https://github.com/uber-go/ratelimit/issues)
  * [ Pull requests 3 ](https://github.com/uber-go/ratelimit/pulls)
  * [ Discussions ](https://github.com/uber-go/ratelimit/discussions)
  * [ Actions ](https://github.com/uber-go/ratelimit/actions)
  * [ Security ](https://github.com/uber-go/ratelimit/security)
[ ](https://github.com/uber-go/ratelimit/security)
[ ](https://github.com/uber-go/ratelimit/security)
[ ](https://github.com/uber-go/ratelimit/security)
### [ Uh oh!  ](https://github.com/uber-go/ratelimit/security)
[There was an error while loading. ](https://github.com/uber-go/ratelimit/security)[Please reload this page](https://github.com/uber-go/ratelimit).
  * [ Insights ](https://github.com/uber-go/ratelimit/pulse)


Additional navigation options
  * [ Code  ](https://github.com/uber-go/ratelimit)
  * [ Issues  ](https://github.com/uber-go/ratelimit/issues)
  * [ Pull requests  ](https://github.com/uber-go/ratelimit/pulls)
  * [ Discussions  ](https://github.com/uber-go/ratelimit/discussions)
  * [ Actions  ](https://github.com/uber-go/ratelimit/actions)
  * [ Security  ](https://github.com/uber-go/ratelimit/security)
  * [ Insights  ](https://github.com/uber-go/ratelimit/pulse)


# uber-go/ratelimit
main
[**2** Branches](https://github.com/uber-go/ratelimit/branches)[**4** Tags](https://github.com/uber-go/ratelimit/tags)
[](https://github.com/uber-go/ratelimit/branches)[](https://github.com/uber-go/ratelimit/tags)
Go to file
Code
Open more actions menu
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
[![rabbbit](https://avatars.githubusercontent.com/u/290258?v=4&size=40)](https://github.com/rabbbit)[rabbbit](https://github.com/uber-go/ratelimit/commits?author=rabbbit)[Update github actions (](https://github.com/uber-go/ratelimit/commit/3e5300c8868057cbf05a2818400bc45e75eaab6e)[#127](https://github.com/uber-go/ratelimit/pull/127)[)](https://github.com/uber-go/ratelimit/commit/3e5300c8868057cbf05a2818400bc45e75eaab6e)Open commit detailsApr 30, 2024[3e5300c](https://github.com/uber-go/ratelimit/commit/3e5300c8868057cbf05a2818400bc45e75eaab6e) · Apr 30, 2024
## History
[71 Commits](https://github.com/uber-go/ratelimit/commits/main/)Open commit details[](https://github.com/uber-go/ratelimit/commits/main/)  
[.github/workflows](https://github.com/uber-go/ratelimit/tree/main/.github/workflows "This path skips through empty directories")| [.github/workflows](https://github.com/uber-go/ratelimit/tree/main/.github/workflows "This path skips through empty directories")| [Update github actions (](https://github.com/uber-go/ratelimit/commit/3e5300c8868057cbf05a2818400bc45e75eaab6e "Update github actions \(#127\)
Blindly following best-practices from:
- https://github.com/uber-go/zap/pull/1434/files
- https://github.com/uber-go/goleak/pull/122/files")[#127](https://github.com/uber-go/ratelimit/pull/127)[)](https://github.com/uber-go/ratelimit/commit/3e5300c8868057cbf05a2818400bc45e75eaab6e "Update github actions \(#127\)
Blindly following best-practices from:
- https://github.com/uber-go/zap/pull/1434/files
- https://github.com/uber-go/goleak/pull/122/files")| Apr 30, 2024  
[tools](https://github.com/uber-go/ratelimit/tree/main/tools "tools")| [tools](https://github.com/uber-go/ratelimit/tree/main/tools "tools")| [CI to test in 1.21 and 1.22 (](https://github.com/uber-go/ratelimit/commit/6fdffa13a0c646826548d5dcfbcad100e03b75f4 "CI to test in 1.21 and 1.22 \(#126\)
Not updating Go version in go.mod since we don't need any new stuff.
Also using magic.")[#126](https://github.com/uber-go/ratelimit/pull/126)[)](https://github.com/uber-go/ratelimit/commit/6fdffa13a0c646826548d5dcfbcad100e03b75f4 "CI to test in 1.21 and 1.22 \(#126\)
Not updating Go version in go.mod since we don't need any new stuff.
Also using magic.")| Apr 30, 2024  
[.gitignore](https://github.com/uber-go/ratelimit/blob/main/.gitignore ".gitignore")| [.gitignore](https://github.com/uber-go/ratelimit/blob/main/.gitignore ".gitignore")| [Setup benchmarks stats and graphs (](https://github.com/uber-go/ratelimit/commit/7d6ad6d5656706ca407954aea77d5de2d5271503 "Setup benchmarks stats and graphs \(#86\)
* Setup benchmarks stats and graphs
For more details look at: https://github.com/uber-go/ratelimit/pull/85#discussion_r889650431")[#86](https://github.com/uber-go/ratelimit/pull/86)[)](https://github.com/uber-go/ratelimit/commit/7d6ad6d5656706ca407954aea77d5de2d5271503 "Setup benchmarks stats and graphs \(#86\)
* Setup benchmarks stats and graphs
For more details look at: https://github.com/uber-go/ratelimit/pull/85#discussion_r889650431")| Jun 5, 2022  
[CHANGELOG.md](https://github.com/uber-go/ratelimit/blob/main/CHANGELOG.md "CHANGELOG.md")| [CHANGELOG.md](https://github.com/uber-go/ratelimit/blob/main/CHANGELOG.md "CHANGELOG.md")| [Preparing release v0.3.1 (](https://github.com/uber-go/ratelimit/commit/61eed72d6bdef7c5f51be1c7ae7c824750f53efe "Preparing release v0.3.1 \(#125\)
Includes a prety serious slack bug, so IMO we should push a new
minor version.")[#125](https://github.com/uber-go/ratelimit/pull/125)[)](https://github.com/uber-go/ratelimit/commit/61eed72d6bdef7c5f51be1c7ae7c824750f53efe "Preparing release v0.3.1 \(#125\)
Includes a prety serious slack bug, so IMO we should push a new
minor version.")| Mar 4, 2024  
[LICENSE](https://github.com/uber-go/ratelimit/blob/main/LICENSE "LICENSE")| [LICENSE](https://github.com/uber-go/ratelimit/blob/main/LICENSE "LICENSE")| [Crib ratelimit from yab and add a test](https://github.com/uber-go/ratelimit/commit/be46c42222a783d1c5887cf439c0cf8b868a70fe "Crib ratelimit from yab and add a test")| Oct 25, 2016  
[Makefile](https://github.com/uber-go/ratelimit/blob/main/Makefile "Makefile")| [Makefile](https://github.com/uber-go/ratelimit/blob/main/Makefile "Makefile")| [Setup benchmarks stats and graphs (](https://github.com/uber-go/ratelimit/commit/7d6ad6d5656706ca407954aea77d5de2d5271503 "Setup benchmarks stats and graphs \(#86\)
* Setup benchmarks stats and graphs
For more details look at: https://github.com/uber-go/ratelimit/pull/85#discussion_r889650431")[#86](https://github.com/uber-go/ratelimit/pull/86)[)](https://github.com/uber-go/ratelimit/commit/7d6ad6d5656706ca407954aea77d5de2d5271503 "Setup benchmarks stats and graphs \(#86\)
* Setup benchmarks stats and graphs
For more details look at: https://github.com/uber-go/ratelimit/pull/85#discussion_r889650431")| Jun 5, 2022  
[README.md](https://github.com/uber-go/ratelimit/blob/main/README.md "README.md")| [README.md](https://github.com/uber-go/ratelimit/blob/main/README.md "README.md")| [README: Fix typo (](https://github.com/uber-go/ratelimit/commit/c06aa018c8c09e384af06da2cfe0aeb8d007fbe7 "README: Fix typo \(#92\)
overheard => overhead")[#92](https://github.com/uber-go/ratelimit/pull/92)[)](https://github.com/uber-go/ratelimit/commit/c06aa018c8c09e384af06da2cfe0aeb8d007fbe7 "README: Fix typo \(#92\)
overheard => overhead")| Jun 21, 2022  
[example_test.go](https://github.com/uber-go/ratelimit/blob/main/example_test.go "example_test.go")| [example_test.go](https://github.com/uber-go/ratelimit/blob/main/example_test.go "example_test.go")| [Update example to include a withoutSlack option (](https://github.com/uber-go/ratelimit/commit/29ac3a290635dca862934a035e98e4ab3eb5f540 "Update example to include a withoutSlack option \(#96\)
In #90 @twelsh-aw found a bug in a new implementation. This turned out
to be caused by us mocking time.
Since time mocking will always have some risks this diff proposes
to expand the `examples` we're using - since they use "real" time
they should be good enough to cover most basic cases like #90.
In particular:
- we add a "withoutSlack" test so that the exact case reported in #90
 doesn't happen. No slack option seems common enough to add it.
- updates "withSlack" example to actually show how slack operates.
 Due to non-even execution times I'm forced to round the time a bit.
Possible issues:
- test stability: I re-run the test a 1000 times without issues - the
 timing seems to be stable.
- test duration: in total we're extending the examples by 5ms, which
 shouldn't be human noticeable.")[#96](https://github.com/uber-go/ratelimit/pull/96)[)](https://github.com/uber-go/ratelimit/commit/29ac3a290635dca862934a035e98e4ab3eb5f540 "Update example to include a withoutSlack option \(#96\)
In #90 @twelsh-aw found a bug in a new implementation. This turned out
to be caused by us mocking time.
Since time mocking will always have some risks this diff proposes
to expand the `examples` we're using - since they use "real" time
they should be good enough to cover most basic cases like #90.
In particular:
- we add a "withoutSlack" test so that the exact case reported in #90
 doesn't happen. No slack option seems common enough to add it.
- updates "withSlack" example to actually show how slack operates.
 Due to non-even execution times I'm forced to round the time a bit.
Possible issues:
- test stability: I re-run the test a 1000 times without issues - the
 timing seems to be stable.
- test duration: in total we're extending the examples by 5ms, which
 shouldn't be human noticeable.")| Jul 7, 2022  
[go.mod](https://github.com/uber-go/ratelimit/blob/main/go.mod "go.mod")| [go.mod](https://github.com/uber-go/ratelimit/blob/main/go.mod "go.mod")| [Run tests on the latest 2 go versions, update go directive in go.mod (](https://github.com/uber-go/ratelimit/commit/76fa6b7580a5299c769ad605ed3a355b21979a43 "Run tests on the latest 2 go versions, update go directive in go.mod \(#114\)
* Run tests on the latest 2 go versions, update go directive in go.mod
We support the latest two versions; we should be testing them.
Go directive shouldn't change much, I'm updating it to be in sync.
We're still pre Go 1.21, so this should not affect the users.
Need to update statichceck in the same PR:
- without it, it cannot recognize the new go version
- at the same time, staticcheck 0.3.3+ requires Go1.19")[#…](https://github.com/uber-go/ratelimit/pull/114)| Jul 9, 2023  
[go.sum](https://github.com/uber-go/ratelimit/blob/main/go.sum "go.sum")| [go.sum](https://github.com/uber-go/ratelimit/blob/main/go.sum "go.sum")| [Use actively maintained clock library (](https://github.com/uber-go/ratelimit/commit/bca0419e3ebf1149d54434d8c10ec73b9fc0abf4 "Use actively maintained clock library \(#89\)
Bobjohnson original version seems to be more used \(again\). Also see history in #39.")[#89](https://github.com/uber-go/ratelimit/pull/89)[)](https://github.com/uber-go/ratelimit/commit/bca0419e3ebf1149d54434d8c10ec73b9fc0abf4 "Use actively maintained clock library \(#89\)
Bobjohnson original version seems to be more used \(again\). Also see history in #39.")| Jun 5, 2022  
[limiter_atomic.go](https://github.com/uber-go/ratelimit/blob/main/limiter_atomic.go "limiter_atomic.go")| [limiter_atomic.go](https://github.com/uber-go/ratelimit/blob/main/limiter_atomic.go "limiter_atomic.go")| [Correct the comments of Take functions (](https://github.com/uber-go/ratelimit/commit/6c1e786b6241cd65d101c5e545a3024cc963df0f "Correct the comments of Take functions \(#83\)")[#83](https://github.com/uber-go/ratelimit/pull/83)[)](https://github.com/uber-go/ratelimit/commit/6c1e786b6241cd65d101c5e545a3024cc963df0f "Correct the comments of Take functions \(#83\)")| Jun 5, 2022  
[limiter_atomic_int64.go](https://github.com/uber-go/ratelimit/blob/main/limiter_atomic_int64.go "limiter_atomic_int64.go")| [limiter_atomic_int64.go](https://github.com/uber-go/ratelimit/blob/main/limiter_atomic_int64.go "limiter_atomic_int64.go")| [Fix an issue with maxSlack boundary updates. (](https://github.com/uber-go/ratelimit/commit/9364ca3710d709065e7b891d32aeacd0f9157e21 "Fix an issue with maxSlack boundary updates. \(#124\)
Fixes #119
The solution is a copy from #120, but follows the testing framework
that we have - I did not want us to have a real `Sleep` in tests.
I'm not exactly thrilled by the testing setup \(especially the
milliseconds\) or the clock itself, but I'm not willing to totally give
up on it like #120 proposes.
I also wanted ALL implementations of the ratelimiter to be tested,
not just the currently selected.
Might follow up with some testing cleanups and/or clock migration.")[#124](https://github.com/uber-go/ratelimit/pull/124)[)](https://github.com/uber-go/ratelimit/commit/9364ca3710d709065e7b891d32aeacd0f9157e21 "Fix an issue with maxSlack boundary updates. \(#124\)
Fixes #119
The solution is a copy from #120, but follows the testing framework
that we have - I did not want us to have a real `Sleep` in tests.
I'm not exactly thrilled by the testing setup \(especially the
milliseconds\) or the clock itself, but I'm not willing to totally give
up on it like #120 proposes.
I also wanted ALL implementations of the ratelimiter to be tested,
not just the currently selected.
Might follow up with some testing cleanups and/or clock migration.")| Mar 4, 2024  
[limiter_mutexbased.go](https://github.com/uber-go/ratelimit/blob/main/limiter_mutexbased.go "limiter_mutexbased.go")| [limiter_mutexbased.go](https://github.com/uber-go/ratelimit/blob/main/limiter_mutexbased.go "limiter_mutexbased.go")| [Fix stale comment on the mutex based rate-limiter (](https://github.com/uber-go/ratelimit/commit/60908a3375ab1ff7f01a5cfd91180d09dedeaa77 "Fix stale comment on the mutex based rate-limiter \(#115\)
Fixes #105")[#115](https://github.com/uber-go/ratelimit/pull/115)[)](https://github.com/uber-go/ratelimit/commit/60908a3375ab1ff7f01a5cfd91180d09dedeaa77 "Fix stale comment on the mutex based rate-limiter \(#115\)
Fixes #105")| Jul 9, 2023  
[ratelimit.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit.go "ratelimit.go")| [ratelimit.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit.go "ratelimit.go")| [Make int64 based atomic ratelimiter default (](https://github.com/uber-go/ratelimit/commit/a12885fa6127db0aa3c29d33fc8ddeeb1fa1530c "Make int64 based atomic ratelimiter default \(#101\)
* Fix return timestamp discrepancy between regular atomic limiter and int64 based one
* Make int64 based atomic limiter default
Long story: this was added in #85, but reverted in #91 due to #90. #95 fixed the issue, so we're moving forward with the new implementation.")[#101](https://github.com/uber-go/ratelimit/pull/101)[)](https://github.com/uber-go/ratelimit/commit/a12885fa6127db0aa3c29d33fc8ddeeb1fa1530c "Make int64 based atomic ratelimiter default \(#101\)
* Fix return timestamp discrepancy between regular atomic limiter and int64 based one
* Make int64 based atomic limiter default
Long story: this was added in #85, but reverted in #91 due to #90. #95 fixed the issue, so we're moving forward with the new implementation.")| Oct 31, 2022  
[ratelimit_bench_test.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit_bench_test.go "ratelimit_bench_test.go")| [ratelimit_bench_test.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit_bench_test.go "ratelimit_bench_test.go")| [Restore int64 based atomic rate limiter (](https://github.com/uber-go/ratelimit/commit/783ade27bec662b885b265354d2470859dc6173f "Restore int64 based atomic rate limiter \(#94\)
This limiter was introduced and merged in the following PR #85
Later @twelsh-aw found an issue with this implementation #90
So @rabbbit reverted this change in #91
Our tests did not detect this issue, so we have a separate PR #93 that enhances our tests approach to detect potential errors better.
With this PR, we want to restore the int64-based atomic rate limiter implementation as a non-default rate limiter and then check that #93 will detect the bug.
Right after it, we'll open a subsequent PR to fix this bug.")[#94](https://github.com/uber-go/ratelimit/pull/94)[)](https://github.com/uber-go/ratelimit/commit/783ade27bec662b885b265354d2470859dc6173f "Restore int64 based atomic rate limiter \(#94\)
This limiter was introduced and merged in the following PR #85
Later @twelsh-aw found an issue with this implementation #90
So @rabbbit reverted this change in #91
Our tests did not detect this issue, so we have a separate PR #93 that enhances our tests approach to detect potential errors better.
With this PR, we want to restore the int64-based atomic rate limiter implementation as a non-default rate limiter and then check that #93 will detect the bug.
Right after it, we'll open a subsequent PR to fix this bug.")| Jul 2, 2022  
[ratelimit_test.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit_test.go "ratelimit_test.go")| [ratelimit_test.go](https://github.com/uber-go/ratelimit/blob/main/ratelimit_test.go "ratelimit_test.go")| [Fix an issue with maxSlack boundary updates. (](https://github.com/uber-go/ratelimit/commit/9364ca3710d709065e7b891d32aeacd0f9157e21 "Fix an issue with maxSlack boundary updates. \(#124\)
Fixes #119
The solution is a copy from #120, but follows the testing framework
that we have - I did not want us to have a real `Sleep` in tests.
I'm not exactly thrilled by the testing setup \(especially the
milliseconds\) or the clock itself, but I'm not willing to totally give
up on it like #120 proposes.
I also wanted ALL implementations of the ratelimiter to be tested,
not just the currently selected.
Might follow up with some testing cleanups and/or clock migration.")[#124](https://github.com/uber-go/ratelimit/pull/124)[)](https://github.com/uber-go/ratelimit/commit/9364ca3710d709065e7b891d32aeacd0f9157e21 "Fix an issue with maxSlack boundary updates. \(#124\)
Fixes #119
The solution is a copy from #120, but follows the testing framework
that we have - I did not want us to have a real `Sleep` in tests.
I'm not exactly thrilled by the testing setup \(especially the
milliseconds\) or the clock itself, but I'm not willing to totally give
up on it like #120 proposes.
I also wanted ALL implementations of the ratelimiter to be tested,
not just the currently selected.
Might follow up with some testing cleanups and/or clock migration.")| Mar 4, 2024  
View all files  
## Repository files navigation
  * [README](https://github.com/uber-go/ratelimit)
  * [MIT license](https://github.com/uber-go/ratelimit)


# Go rate limiter [![GoDoc](https://camo.githubusercontent.com/a8650901506cfb2d174fb2518f76aa310ae82491d86821f482f367c115927b74/68747470733a2f2f706b672e676f2e6465762f62616467652f676f2e756265722e6f72672f726174656c696d6974)](https://pkg.go.dev/go.uber.org/ratelimit) [![Coverage Status](https://camo.githubusercontent.com/32396945a0e3510a814a2da94ee763b4940d4ea96885c1646e4a58abde0e864b/68747470733a2f2f636f6465636f762e696f2f67682f756265722d676f2f726174656c696d69742f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d7a684c65556a6a726d32)](https://codecov.io/gh/uber-go/ratelimit) [![test](https://github.com/uber-go/ratelimit/workflows/test/badge.svg)](https://github.com/uber-go/ratelimit/workflows/test/badge.svg)
[](https://github.com/uber-go/ratelimit#go-rate-limiter---)
This package provides a Golang implementation of the leaky-bucket rate limit algorithm. This implementation refills the bucket based on the time elapsed between requests instead of requiring an interval clock to fill the bucket discretely.
Create a rate limiter with a maximum number of operations to perform per second. Call Take() before each operation. Take will sleep until you can continue.
```
import (
	"fmt"
	"time"
	"go.uber.org/ratelimit"
)
func main() {
  rl := ratelimit.New(100) // per second
  prev := time.Now()
  for i := 0; i < 10; i++ {
    now := rl.Take()
    fmt.Println(i, now.Sub(prev))
    prev = now
  }
  // Output:
  // 0 0
  // 1 10ms
  // 2 10ms
  // 3 10ms
  // 4 10ms
  // 5 10ms
  // 6 10ms
  // 7 10ms
  // 8 10ms
  // 9 10ms
}
```

## FAQ:
[](https://github.com/uber-go/ratelimit#faq)
  * What's the major diff v.s. <https://pkg.go.dev/golang.org/x/time/rate>? (based on #77)
This ratelimiter was meant to have a (1) simple API and (2) minimal overhead. For more complex use-cases [x/time/rate](https://pkg.go.dev/golang.org/x/time/rate) is a great choice. See [here](https://www.reddit.com/r/golang/comments/59k2bi/ubergoratelimit_a_golang_blocking_leakybucket/d99ob9q) for historical context, and [here](https://gist.github.com/prashantv/26016a7dbc6fc1ec52d8c2b6591f3582) for benchmarks (from 2016).
  * Why does example_test.go fail when I run it locally on Windows? (based on #80)
Windows has some known issues with timers precision. See [golang/go#44343](https://github.com/golang/go/issues/44343). We don't expect to work around it.


## About
A Go blocking leaky-bucket rate limit implementation 
### Resources
[ Readme ](https://github.com/uber-go/ratelimit#readme-ov-file)
### License
[ MIT license ](https://github.com/uber-go/ratelimit#MIT-1-ov-file)
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/uber-go/ratelimit).
[ Activity](https://github.com/uber-go/ratelimit/activity)
[ Custom properties](https://github.com/uber-go/ratelimit/custom-properties)
### Stars
[ **4.6k** stars](https://github.com/uber-go/ratelimit/stargazers)
### Watchers
[ **35** watching](https://github.com/uber-go/ratelimit/watchers)
### Forks
[ **319** forks](https://github.com/uber-go/ratelimit/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fuber-go%2Fratelimit&report=uber-go+%28user%29)
##  [Releases](https://github.com/uber-go/ratelimit/releases)
[ 4 tags ](https://github.com/uber-go/ratelimit/tags)
##  [Packages 0](https://github.com/orgs/uber-go/packages?repo_name=ratelimit)
No packages published 
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/uber-go/ratelimit).
##  [Contributors 7](https://github.com/uber-go/ratelimit/graphs/contributors)
  * [ ![@rabbbit](https://avatars.githubusercontent.com/u/290258?s=64&v=4) ](https://github.com/rabbbit)
  * [ ![@kriskowal](https://avatars.githubusercontent.com/u/60294?s=64&v=4) ](https://github.com/kriskowal)
  * [ ![@storozhukBM](https://avatars.githubusercontent.com/u/3532750?s=64&v=4) ](https://github.com/storozhukBM)
  * [ ![@abhinav](https://avatars.githubusercontent.com/u/41730?s=64&v=4) ](https://github.com/abhinav)
  * [ ![@prashantv](https://avatars.githubusercontent.com/u/140159?s=64&v=4) ](https://github.com/prashantv)
  * [ ![@cncal](https://avatars.githubusercontent.com/u/23520240?s=64&v=4) ](https://github.com/cncal)
  * [ ![@theperiscope](https://avatars.githubusercontent.com/u/1619363?s=64&v=4) ](https://github.com/theperiscope)


## Languages
  * [ Go 95.0% ](https://github.com/uber-go/ratelimit/search?l=go)
  * [ Makefile 5.0% ](https://github.com/uber-go/ratelimit/search?l=makefile)


## Footer
[ ](https://github.com) © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 


## Source Information
- URL: https://github.com/uber-go/ratelimit
- Harvested: 2025-08-20T00:51:51.746241
- Profile: deep_research
- Agent: architect
