---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-20T00:52:09.164277'
profile: deep_research
source: https://pkg.go.dev/golang.org/x/time/rate
topic: Go Standard Rate Limiting golang x time rate
---

# Go Standard Rate Limiting golang x time rate

[ ![Go](https://pkg.go.dev/static/shared/logo/go-white.svg) ](https://go.dev/)
[ Skip to Main Content ](https://pkg.go.dev/golang.org/x/time/rate#main-content)
![](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg) ![](https://pkg.go.dev/static/shared/icon/search_gm_grey_24dp.svg)
  * [ Why Go ![submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg) ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Case Studies ](https://go.dev/solutions#case-studies)
Common problems companies solve with Go
    * [ Use Cases ](https://go.dev/solutions#use-cases)
Stories about how and why companies use Go
    * [ Security ](https://go.dev/security/)
How Go can help keep you secure by default
  * [Learn](https://go.dev/learn/)
  * [ Docs ![submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg) ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Effective Go ](https://go.dev/doc/effective_go)
Tips for writing clear, performant, and idiomatic Go code
    * [ Go User Manual ](https://go.dev/doc/)
A complete introduction to building software with Go
    * [ Standard library ](https://pkg.go.dev/std)
Reference documentation for Go's standard library
    * [ Release Notes ](https://go.dev/doc/devel/release)
Learn what's new in each Go release
  * [Packages](https://pkg.go.dev/)
  * [ Community ![submenu dropdown icon](https://pkg.go.dev/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg) ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Recorded Talks ](https://go.dev/talks/)
Videos from prior events
    * [ Meetups _![](https://pkg.go.dev/static/shared/icon/launch_gm_grey_24dp.svg) _ ](https://www.meetup.com/pro/go)
Meet other local Go developers
    * [ Conferences _![](https://pkg.go.dev/static/shared/icon/launch_gm_grey_24dp.svg) _ ](https://github.com/golang/go/wiki/Conferences)
Learn and network with Go developers from around the world
    * [ Go blog ](https://go.dev/blog)
The Go project's official blog.
    * [ Go project ](https://go.dev/help)
Get help and stay informed from Go
    * Get connected 
[ ![](https://pkg.go.dev/static/shared/logo/social/google-groups.svg) ](https://groups.google.com/g/golang-nuts "Get connected with google-groups \(Opens in new window\)") [ ![](https://pkg.go.dev/static/shared/logo/social/github.svg) ](https://github.com/golang "Get connected with github \(Opens in new window\)") [ ![](https://pkg.go.dev/static/shared/logo/social/twitter.svg) ](https://twitter.com/golang "Get connected with twitter \(Opens in new window\)") [ ![](https://pkg.go.dev/static/shared/logo/social/reddit.svg) ](https://www.reddit.com/r/golang/ "Get connected with reddit \(Opens in new window\)") [ ![](https://pkg.go.dev/static/shared/logo/social/slack.svg) ](https://invite.slack.golangbridge.org/ "Get connected with slack \(Opens in new window\)") [ ![](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg) ](https://stackoverflow.com/collectives/go)


[ ![Go.](https://pkg.go.dev/static/shared/logo/go-blue.svg) ](https://go.dev/)
  * [ Why Go _![](https://pkg.go.dev/static/shared/icon/navigate_next_gm_grey_24dp.svg) _ ](https://pkg.go.dev/golang.org/x/time/rate)
[ _![](https://pkg.go.dev/static/shared/icon/navigate_before_gm_grey_24dp.svg) _ Why Go ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Case Studies ](https://go.dev/solutions#case-studies)
    * [ Use Cases ](https://go.dev/solutions#use-cases)
    * [ Security ](https://go.dev/security/)
  * [Learn](https://go.dev/learn/)
  * [ Docs _![](https://pkg.go.dev/static/shared/icon/navigate_next_gm_grey_24dp.svg) _ ](https://pkg.go.dev/golang.org/x/time/rate)
[_![](https://pkg.go.dev/static/shared/icon/navigate_before_gm_grey_24dp.svg) _ Docs ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Effective Go ](https://go.dev/doc/effective_go)
    * [ Go User Manual ](https://go.dev/doc/)
    * [ Standard library ](https://pkg.go.dev/std)
    * [ Release Notes ](https://go.dev/doc/devel/release)
  * [Packages](https://pkg.go.dev/)
  * [ Community _![](https://pkg.go.dev/static/shared/icon/navigate_next_gm_grey_24dp.svg) _ ](https://pkg.go.dev/golang.org/x/time/rate)
[ _![](https://pkg.go.dev/static/shared/icon/navigate_before_gm_grey_24dp.svg) _ Community ](https://pkg.go.dev/golang.org/x/time/rate)
    * [ Recorded Talks ](https://go.dev/talks/)
    * [ Meetups _![](https://pkg.go.dev/static/shared/icon/launch_gm_grey_24dp.svg) _ ](https://www.meetup.com/pro/go)
    * [ Conferences _![](https://pkg.go.dev/static/shared/icon/launch_gm_grey_24dp.svg) _ ](https://github.com/golang/go/wiki/Conferences)
    * [ Go blog ](https://go.dev/blog)
    * [ Go project ](https://go.dev/help)
    * Get connected
[![](https://pkg.go.dev/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts) [![](https://pkg.go.dev/static/shared/logo/social/github.svg)](https://github.com/golang) [![](https://pkg.go.dev/static/shared/logo/social/twitter.svg)](https://twitter.com/golang) [![](https://pkg.go.dev/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/) [![](https://pkg.go.dev/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/) [![](https://pkg.go.dev/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go)


  1. [Discover Packages](https://pkg.go.dev/)
  2. [golang.org/x/time](https://pkg.go.dev/golang.org/x/time)
  3. [ rate ](https://pkg.go.dev/golang.org/x/time@v0.12.0/rate) ![](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)


[ ![Go](https://pkg.go.dev/static/shared/logo/go-blue.svg) ](https://go.dev/)
# rate
package ![](https://pkg.go.dev/static/shared/icon/content_copy_gm_grey_24dp.svg)
[ Version:  v0.12.0 ](https://pkg.go.dev/golang.org/x/time/rate?tab=versions)
Opens a new window with list of versions in this module. 
Latest Latest  ![Warning](https://pkg.go.dev/static/shared/icon/alert_gm_grey_24dp.svg)
This package is not in the latest version of its module.
[ Go to latest ](https://pkg.go.dev/golang.org/x/time/rate) Published: Jun 4, 2025  License: [BSD-3-Clause](https://pkg.go.dev/golang.org/x/time/rate?tab=licenses)
Opens a new window with license information. 
[ Imports: 5 ](https://pkg.go.dev/golang.org/x/time/rate?tab=imports)
Opens a new window with list of imports. 
[ Imported by: 12,827 ](https://pkg.go.dev/golang.org/x/time/rate?tab=importedby)
Opens a new window with list of known importers. 
Main Versions  Licenses  Imports  Imported By 
## Details
  * ![checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Valid [go.mod](https://cs.opensource.google/go/x/time/+/v0.12.0:/go.mod) file ![](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
The Go module system was introduced in Go 1.11 and is the official dependency management solution for Go. 
  * ![checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Redistributable license ![](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Redistributable licenses place minimal restrictions on how software can be used, modified, and redistributed. 
  * ![checked](https://pkg.go.dev/static/shared/icon/check_circle_gm_grey_24dp.svg) Tagged version ![](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
Modules with tagged versions give importers more predictable builds.
  * ![unchecked](https://pkg.go.dev/static/shared/icon/cancel_gm_grey_24dp.svg) Stable version ![](https://pkg.go.dev/static/shared/icon/help_gm_grey_24dp.svg)
When a project reaches major version v1 it is considered stable.
  * [Learn more about best practices](https://pkg.go.dev/about#best-practices)


## Repository
[ cs.opensource.google/go/x/time ](https://cs.opensource.google/go/x/time "https://cs.opensource.google/go/x/time")
## Links
  * [ ![](https://pkg.go.dev/static/shared/icon/security_grey_24dp.svg) Report a Vulnerability ](https://go.dev/security/policy "Report security issues in the Go standard library and sub-repositories")
  * [ ![Open Source Insights Logo](https://pkg.go.dev/static/shared/icon/depsdev-logo.svg) Open Source Insights ](https://deps.dev/go/golang.org%2Fx%2Ftime/v0.12.0 "View this module on Open Source Insights")


Jump to ... 
  * [ Documentation ](https://pkg.go.dev/golang.org/x/time/rate#section-documentation)
    * [Overview](https://pkg.go.dev/golang.org/x/time/rate#pkg-overview)
    * [ Index ](https://pkg.go.dev/golang.org/x/time/rate#pkg-index)
      * [ Examples ](https://pkg.go.dev/golang.org/x/time/rate#pkg-examples)
    * [ Constants ](https://pkg.go.dev/golang.org/x/time/rate#pkg-constants)
    * [ Variables ](https://pkg.go.dev/golang.org/x/time/rate#pkg-variables)
    * [ Functions ](https://pkg.go.dev/golang.org/x/time/rate#pkg-functions)
    * [ Types ](https://pkg.go.dev/golang.org/x/time/rate#pkg-types)
      * [ type Limit ](https://pkg.go.dev/golang.org/x/time/rate#Limit "type Limit")
        * [ Every(interval) ](https://pkg.go.dev/golang.org/x/time/rate#Every "Every\(interval\)")
      * [ type Limiter ](https://pkg.go.dev/golang.org/x/time/rate#Limiter "type Limiter")
        * [ NewLimiter(r, b) ](https://pkg.go.dev/golang.org/x/time/rate#NewLimiter "NewLimiter\(r, b\)")
        * [ (lim) Allow() ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Allow "\(lim\) Allow\(\)")
        * [ (lim) AllowN(t, n) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.AllowN "\(lim\) AllowN\(t, n\)")
        * [ (lim) Burst() ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Burst "\(lim\) Burst\(\)")
        * [ (lim) Limit() ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Limit "\(lim\) Limit\(\)")
        * [ (lim) Reserve() ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Reserve "\(lim\) Reserve\(\)")
        * [ (lim) ReserveN(t, n) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.ReserveN "\(lim\) ReserveN\(t, n\)")
        * [ (lim) SetBurst(newBurst) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurst "\(lim\) SetBurst\(newBurst\)")
        * [ (lim) SetBurstAt(t, newBurst) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurstAt "\(lim\) SetBurstAt\(t, newBurst\)")
        * [ (lim) SetLimit(newLimit) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimit "\(lim\) SetLimit\(newLimit\)")
        * [ (lim) SetLimitAt(t, newLimit) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimitAt "\(lim\) SetLimitAt\(t, newLimit\)")
        * [ (lim) Tokens() ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Tokens "\(lim\) Tokens\(\)")
        * [ (lim) TokensAt(t) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.TokensAt "\(lim\) TokensAt\(t\)")
        * [ (lim) Wait(ctx) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Wait "\(lim\) Wait\(ctx\)")
        * [ (lim) WaitN(ctx, n) ](https://pkg.go.dev/golang.org/x/time/rate#Limiter.WaitN "\(lim\) WaitN\(ctx, n\)")
      * [ type Reservation ](https://pkg.go.dev/golang.org/x/time/rate#Reservation "type Reservation")
        * [ (r) Cancel() ](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Cancel "\(r\) Cancel\(\)")
        * [ (r) CancelAt(t) ](https://pkg.go.dev/golang.org/x/time/rate#Reservation.CancelAt "\(r\) CancelAt\(t\)")
        * [ (r) Delay() ](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Delay "\(r\) Delay\(\)")
        * [ (r) DelayFrom(t) ](https://pkg.go.dev/golang.org/x/time/rate#Reservation.DelayFrom "\(r\) DelayFrom\(t\)")
        * [ (r) OK() ](https://pkg.go.dev/golang.org/x/time/rate#Reservation.OK "\(r\) OK\(\)")
      * [ type Sometimes ](https://pkg.go.dev/golang.org/x/time/rate#Sometimes "type Sometimes")
        * [ (s) Do(f) ](https://pkg.go.dev/golang.org/x/time/rate#Sometimes.Do "\(s\) Do\(f\)")
  * [ Source Files ](https://pkg.go.dev/golang.org/x/time/rate#section-sourcefiles)


DocumentationSource FilesOverviewIndexConstantsVariablesFunctionsTypesExamplestype Limittype Limitertype Reservationtype SometimesEvery(interval)NewLimiter(r, b)(lim) Allow()(lim) AllowN(t, n)(lim) Burst()(lim) Limit()(lim) Reserve()(lim) ReserveN(t, n)(lim) SetBurst(newBurst)(lim) SetBurstAt(t, newBurst)(lim) SetLimit(newLimit)(lim) SetLimitAt(t, newLimit)(lim) Tokens()(lim) TokensAt(t)(lim) Wait(ctx)(lim) WaitN(ctx, n)(r) Cancel()(r) CancelAt(t)(r) Delay()(r) DelayFrom(t)(r) OK()(s) Do(f)
##  ![](https://pkg.go.dev/static/shared/icon/code_gm_grey_24dp.svg) Documentation [¶](https://pkg.go.dev/golang.org/x/time/rate#section-documentation "Go to Documentation")
### Overview [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-overview "Go to Overview")
Package rate provides a rate limiter. 
### Index [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-index "Go to Index")
  * [Constants](https://pkg.go.dev/golang.org/x/time/rate#pkg-constants)
  * [type Limit](https://pkg.go.dev/golang.org/x/time/rate#Limit)
  *     * [func Every(interval time.Duration) Limit](https://pkg.go.dev/golang.org/x/time/rate#Every)
  * [type Limiter](https://pkg.go.dev/golang.org/x/time/rate#Limiter)
  *     * [func NewLimiter(r Limit, b int) *Limiter](https://pkg.go.dev/golang.org/x/time/rate#NewLimiter)
  *     * [func (lim *Limiter) Allow() bool](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Allow)
    * [func (lim *Limiter) AllowN(t time.Time, n int) bool](https://pkg.go.dev/golang.org/x/time/rate#Limiter.AllowN)
    * [func (lim *Limiter) Burst() int](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Burst)
    * [func (lim *Limiter) Limit() Limit](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Limit)
    * [func (lim *Limiter) Reserve() *Reservation](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Reserve)
    * [func (lim *Limiter) ReserveN(t time.Time, n int) *Reservation](https://pkg.go.dev/golang.org/x/time/rate#Limiter.ReserveN)
    * [func (lim *Limiter) SetBurst(newBurst int)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurst)
    * [func (lim *Limiter) SetBurstAt(t time.Time, newBurst int)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurstAt)
    * [func (lim *Limiter) SetLimit(newLimit Limit)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimit)
    * [func (lim *Limiter) SetLimitAt(t time.Time, newLimit Limit)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimitAt)
    * [func (lim *Limiter) Tokens() float64](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Tokens)
    * [func (lim *Limiter) TokensAt(t time.Time) float64](https://pkg.go.dev/golang.org/x/time/rate#Limiter.TokensAt)
    * [func (lim *Limiter) Wait(ctx context.Context) (err error)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Wait)
    * [func (lim *Limiter) WaitN(ctx context.Context, n int) (err error)](https://pkg.go.dev/golang.org/x/time/rate#Limiter.WaitN)
  * [type Reservation](https://pkg.go.dev/golang.org/x/time/rate#Reservation)
  *     * [func (r *Reservation) Cancel()](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Cancel)
    * [func (r *Reservation) CancelAt(t time.Time)](https://pkg.go.dev/golang.org/x/time/rate#Reservation.CancelAt)
    * [func (r *Reservation) Delay() time.Duration](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Delay)
    * [func (r *Reservation) DelayFrom(t time.Time) time.Duration](https://pkg.go.dev/golang.org/x/time/rate#Reservation.DelayFrom)
    * [func (r *Reservation) OK() bool](https://pkg.go.dev/golang.org/x/time/rate#Reservation.OK)
  * [type Sometimes](https://pkg.go.dev/golang.org/x/time/rate#Sometimes)
  *     * [func (s *Sometimes) Do(f func())](https://pkg.go.dev/golang.org/x/time/rate#Sometimes.Do)


#### Examples [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-examples "Go to Examples")
  * [Sometimes (Every)](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Every)
  * [Sometimes (First)](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-First)
  * [Sometimes (Interval)](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Interval)
  * [Sometimes (Mix)](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Mix)
  * [Sometimes (Once)](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Once)


### Constants [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-constants "Go to Constants")
[View Source](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=22) ```
const Inf = Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit)(math[](https://pkg.go.dev/math).MaxFloat64[](https://pkg.go.dev/math#MaxFloat64))
```

Inf is the infinite rate limit; it allows all events (even if burst is zero). 
[View Source](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=144) ```
const InfDuration = time[](https://pkg.go.dev/time).Duration[](https://pkg.go.dev/time#Duration)(math[](https://pkg.go.dev/math).MaxInt64[](https://pkg.go.dev/math#MaxInt64))
```

InfDuration is the duration returned by Delay when a Reservation is not OK. 
### Variables [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-variables "Go to Variables")
This section is empty.
### Functions [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-functions "Go to Functions")
This section is empty.
### Types [¶](https://pkg.go.dev/golang.org/x/time/rate#pkg-types "Go to Types")
####  type [Limit](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=19) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limit "Go to Limit")
```
type Limit float64[](https://pkg.go.dev/builtin#float64)
```

Limit defines the maximum frequency of some events. Limit is represented as number of events per second. A zero Limit allows no events. 
####  func [Every](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=25) [¶](https://pkg.go.dev/golang.org/x/time/rate#Every "Go to Every")
```
func Every(interval time[](https://pkg.go.dev/time).Duration[](https://pkg.go.dev/time#Duration)) Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit)
```

Every converts a minimum time interval between events to a Limit. 
####  type [Limiter](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=57) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter "Go to Limiter")
```
type Limiter struct {
	// contains filtered or unexported fields
}
```

A Limiter controls how frequently events are allowed to happen. It implements a "token bucket" of size b, initially full and refilled at rate r tokens per second. Informally, in any large enough time interval, the Limiter limits the rate to r tokens per second, with a maximum burst size of b events. As a special case, if r == Inf (the infinite rate), b is ignored. See <https://en.wikipedia.org/wiki/Token_bucket> for more about token buckets. 
The zero value is a valid Limiter, but it will reject all events. Use NewLimiter to create non-zero Limiters. 
Limiter has three main methods, Allow, Reserve, and Wait. Most callers should use Wait. 
Each of the three methods consumes a single token. They differ in their behavior when no token is available. If no token is available, Allow returns false. If no token is available, Reserve returns a reservation for a future token and the amount of time the caller must wait before using it. If no token is available, Wait blocks until one can be obtained or its associated context.Context is canceled. 
The methods AllowN, ReserveN, and WaitN consume n tokens. 
Limiter is safe for simultaneous use by multiple goroutines. 
####  func [NewLimiter](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=100) [¶](https://pkg.go.dev/golang.org/x/time/rate#NewLimiter "Go to NewLimiter")
```
func NewLimiter(r Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit), b int[](https://pkg.go.dev/builtin#int)) *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)
```

NewLimiter returns a new Limiter that allows events up to rate r and permits bursts of at most b tokens. 
####  func (*Limiter) [Allow](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=109) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Allow "Go to Limiter.Allow")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Allow() bool[](https://pkg.go.dev/builtin#bool)
```

Allow reports whether an event may happen now. 
####  func (*Limiter) [AllowN](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=116) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.AllowN "Go to Limiter.AllowN")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) AllowN(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time), n int[](https://pkg.go.dev/builtin#int)) bool[](https://pkg.go.dev/builtin#bool)
```

AllowN reports whether n events may happen at time t. Use this method if you intend to drop / skip events that exceed the rate limit. Otherwise use Reserve or Wait. 
####  func (*Limiter) [Burst](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=79) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Burst "Go to Limiter.Burst")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Burst() int[](https://pkg.go.dev/builtin#int)
```

Burst returns the maximum burst size. Burst is the maximum number of tokens that can be consumed in a single call to Allow, Reserve, or Wait, so higher Burst values allow more events to happen at once. A zero Burst allows no events, unless limit == Inf. 
####  func (*Limiter) [Limit](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=69) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Limit "Go to Limiter.Limit")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Limit() Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit)
```

Limit returns the maximum overall event rate. 
####  func (*Limiter) [Reserve](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=207) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Reserve "Go to Limiter.Reserve")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Reserve() *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)
```

Reserve is shorthand for ReserveN(time.Now(), 1). 
####  func (*Limiter) [ReserveN](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=227) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.ReserveN "Go to Limiter.ReserveN")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) ReserveN(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time), n int[](https://pkg.go.dev/builtin#int)) *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)
```

ReserveN returns a Reservation that indicates how long the caller must wait before n events happen. The Limiter takes this Reservation into account when allowing future events. The returned Reservation’s OK() method returns false if n exceeds the Limiter's burst size. Usage example: 
```
r := lim.ReserveN(time.Now(), 1)
if !r.OK() {
 // Not allowed to act! Did you remember to set lim.burst to be > 0 ?
 return
}
time.Sleep(r.Delay())
Act()

```

Use this method if you wish to wait and slow down in accordance with the rate limit without dropping events. If you need to respect a deadline or cancel the delay, use Wait instead. To drop or skip events exceeding rate limit, use Allow instead. 
####  func (*Limiter) [SetBurst](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=318) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurst "Go to Limiter.SetBurst")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) SetBurst(newBurst int[](https://pkg.go.dev/builtin#int))
```

SetBurst is shorthand for SetBurstAt(time.Now(), newBurst). 
####  func (*Limiter) [SetBurstAt](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=323) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetBurstAt "Go to Limiter.SetBurstAt")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) SetBurstAt(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time), newBurst int[](https://pkg.go.dev/builtin#int))
```

SetBurstAt sets a new burst size for the limiter. 
####  func (*Limiter) [SetLimit](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=299) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimit "Go to Limiter.SetLimit")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) SetLimit(newLimit Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit))
```

SetLimit is shorthand for SetLimitAt(time.Now(), newLimit). 
####  func (*Limiter) [SetLimitAt](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=306) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.SetLimitAt "Go to Limiter.SetLimitAt")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) SetLimitAt(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time), newLimit Limit[](https://pkg.go.dev/golang.org/x/time/rate#Limit))
```

SetLimitAt sets a new Limit for the limiter. The new Limit, and Burst, may be violated or underutilized by those which reserved (using Reserve or Wait) but did not yet act before SetLimitAt was called. 
####  func (*Limiter) [Tokens](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=94) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Tokens "Go to Limiter.Tokens")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Tokens() float64[](https://pkg.go.dev/builtin#float64)
```

Tokens returns the number of tokens available now. 
####  func (*Limiter) [TokensAt](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=86) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.TokensAt "Go to Limiter.TokensAt")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) TokensAt(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time)) float64[](https://pkg.go.dev/builtin#float64)
```

TokensAt returns the number of tokens available at time t. 
####  func (*Limiter) [Wait](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=233) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.Wait "Go to Limiter.Wait")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) Wait(ctx context[](https://pkg.go.dev/context).Context[](https://pkg.go.dev/context#Context)) (err error[](https://pkg.go.dev/builtin#error))
```

Wait is shorthand for WaitN(ctx, 1). 
####  func (*Limiter) [WaitN](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=241) [¶](https://pkg.go.dev/golang.org/x/time/rate#Limiter.WaitN "Go to Limiter.WaitN")
```
func (lim *Limiter[](https://pkg.go.dev/golang.org/x/time/rate#Limiter)) WaitN(ctx context[](https://pkg.go.dev/context).Context[](https://pkg.go.dev/context#Context), n int[](https://pkg.go.dev/builtin#int)) (err error[](https://pkg.go.dev/builtin#error))
```

WaitN blocks until lim permits n events to happen. It returns an error if n exceeds the Limiter's burst size, the Context is canceled, or the expected wait time exceeds the Context's Deadline. The burst limit is ignored if the rate limit is Inf. 
####  type [Reservation](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=122) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation "Go to Reservation")
```
type Reservation struct {
	// contains filtered or unexported fields
}
```

A Reservation holds information about events that are permitted by a Limiter to happen after a delay. A Reservation may be canceled, which may enable the Limiter to permit additional events. 
####  func (*Reservation) [Cancel](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=162) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Cancel "Go to Reservation.Cancel")
```
func (r *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)) Cancel()
```

Cancel is shorthand for CancelAt(time.Now()). 
####  func (*Reservation) [CancelAt](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=169) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation.CancelAt "Go to Reservation.CancelAt")
```
func (r *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)) CancelAt(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time))
```

CancelAt indicates that the reservation holder will not perform the reserved action and reverses the effects of this Reservation on the rate limit as much as possible, considering that other reservations may have already been made. 
####  func (*Reservation) [Delay](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=139) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation.Delay "Go to Reservation.Delay")
```
func (r *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)) Delay() time[](https://pkg.go.dev/time).Duration[](https://pkg.go.dev/time#Duration)
```

Delay is shorthand for DelayFrom(time.Now()). 
####  func (*Reservation) [DelayFrom](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=150) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation.DelayFrom "Go to Reservation.DelayFrom")
```
func (r *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)) DelayFrom(t time[](https://pkg.go.dev/time).Time[](https://pkg.go.dev/time#Time)) time[](https://pkg.go.dev/time).Duration[](https://pkg.go.dev/time#Duration)
```

DelayFrom returns the duration for which the reservation holder must wait before taking the reserved action. Zero duration means act immediately. InfDuration means the limiter cannot grant the tokens requested in this Reservation within the maximum wait time. 
####  func (*Reservation) [OK](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go;l=134) [¶](https://pkg.go.dev/golang.org/x/time/rate#Reservation.OK "Go to Reservation.OK")
```
func (r *Reservation[](https://pkg.go.dev/golang.org/x/time/rate#Reservation)) OK() bool[](https://pkg.go.dev/builtin#bool)
```

OK returns whether the limiter can provide the requested number of tokens within the maximum wait time. If OK is false, Delay returns InfDuration, and Cancel does nothing. 
####  type [Sometimes](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/sometimes.go;l=22) [¶](https://pkg.go.dev/golang.org/x/time/rate#Sometimes "Go to Sometimes") added in v0.2.0
```
type Sometimes struct {
	First  int[](https://pkg.go.dev/builtin#int)      // if non-zero, the first N calls to Do will run f.
	Every  int[](https://pkg.go.dev/builtin#int)      // if non-zero, every Nth call to Do will run f.
	Interval time[](https://pkg.go.dev/time).Duration[](https://pkg.go.dev/time#Duration) // if non-zero and Interval has elapsed since f's last run, Do will run f.
	// contains filtered or unexported fields
}
```

  * [Example: logging with rate limiting](https://pkg.go.dev/golang.org/x/time/rate#hdr-Example__logging_with_rate_limiting-Sometimes)


Sometimes will perform an action occasionally. The First, Every, and Interval fields govern the behavior of Do, which performs the action. A zero Sometimes value will perform an action exactly once. 
#### Example: logging with rate limiting [¶](https://pkg.go.dev/golang.org/x/time/rate#hdr-Example__logging_with_rate_limiting-Sometimes "Go to Example: logging with rate limiting")
```
var sometimes = rate.Sometimes{First: 3, Interval: 10*time.Second}
func Spammy() {
    sometimes.Do(func() { log.Info("here I am!") })
}

```
Example (Every) [¶](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Every "Go to Example \(Every\)")
```
Output:
1
3

```

Share Format Run
Example (First) [¶](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-First "Go to Example \(First\)")
```
Output:
1
2

```

Share Format Run
Example (Interval) [¶](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Interval "Go to Example \(Interval\)")
```
Output:
1
3

```

Share Format Run
Example (Mix) [¶](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Mix "Go to Example \(Mix\)")
```
Output:
1 (First:2)
2 (First:2)
3 (Every:2)
4 (Interval)
5 (Every:2)

```

Share Format Run
Example (Once) [¶](https://pkg.go.dev/golang.org/x/time/rate#example-Sometimes-Once "Go to Example \(Once\)")
```
Output:
1

```

Share Format Run
####  func (*Sometimes) [Do](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/sometimes.go;l=56) [¶](https://pkg.go.dev/golang.org/x/time/rate#Sometimes.Do "Go to Sometimes.Do") added in v0.2.0
```
func (s *Sometimes[](https://pkg.go.dev/golang.org/x/time/rate#Sometimes)) Do(f func())
```

Do runs the function f as allowed by First, Every, and Interval. 
The model is a union (not intersection) of filters. The first call to Do always runs f. Subsequent calls to Do run f if allowed by First or Every or Interval. 
A non-zero First:N causes the first N Do(f) calls to run f. 
A non-zero Every:M causes every Mth Do(f) call, starting with the first, to run f. 
A non-zero Interval causes Do(f) to run f if Interval has elapsed since Do last ran f. 
Specifying multiple filters produces the union of these execution streams. For example, specifying both First:N and Every:M causes the first N Do(f) calls and every Mth Do(f) call, starting with the first, to run f. See Examples for more. 
If Do is called multiple times simultaneously, the calls will block and run serially. Therefore, Do is intended for lightweight operations. 
Because a call to Do may block until f returns, if f causes Do to be called, it will deadlock. 
##  ![](https://pkg.go.dev/static/shared/icon/insert_drive_file_gm_grey_24dp.svg) Source Files [¶](https://pkg.go.dev/golang.org/x/time/rate#section-sourcefiles "Go to Source Files")
[View all Source files](https://cs.opensource.google/go/x/time/+/v0.12.0:rate)
  * [rate.go](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/rate.go "rate.go")
  * [sometimes.go](https://cs.opensource.google/go/x/time/+/v0.12.0:rate/sometimes.go "sometimes.go")


Click to show internal directories. 
Click to hide internal directories. 
[ Why Go ](https://go.dev/solutions) [ Use Cases ](https://go.dev/solutions#use-cases) [ Case Studies ](https://go.dev/solutions#case-studies)
[ Get Started ](https://learn.go.dev/) [ Playground ](https://play.golang.org) [ Tour ](https://tour.golang.org) [ Stack Overflow ](https://stackoverflow.com/questions/tagged/go?tab=Newest) [ Help ](https://go.dev/help)
[ Packages ](https://pkg.go.dev) [ Standard Library ](https://pkg.go.dev/std) [ Sub-repositories ](https://pkg.go.dev/golang.org/x) [ About Go Packages ](https://pkg.go.dev/about)
[ About ](https://go.dev/project) [Download](https://go.dev/dl/) [Blog](https://go.dev/blog) [ Issue Tracker ](https://github.com/golang/go/issues) [ Release Notes ](https://go.dev/doc/devel/release.html) [ Brand Guidelines ](https://go.dev/brand) [ Code of Conduct ](https://go.dev/conduct)
[ Connect ](https://www.twitter.com/golang) [ Twitter ](https://www.twitter.com/golang) [GitHub](https://github.com/golang) [ Slack ](https://invite.slack.golangbridge.org/) [ r/golang ](https://reddit.com/r/golang) [ Meetup ](https://www.meetup.com/pro/go) [ Golang Weekly ](https://golangweekly.com/)
![Gopher in flight goggles](https://pkg.go.dev/static/shared/gopher/pilot-bust-1431x901.svg)
  * [Copyright](https://go.dev/copyright)
  * [Terms of Service](https://go.dev/tos)
  * [ Privacy Policy ](http://www.google.com/intl/en/policies/privacy/)
  * [ Report an Issue ](https://go.dev/s/pkgsite-feedback)
  * ![System theme](https://pkg.go.dev/static/shared/icon/brightness_6_gm_grey_24dp.svg) ![Dark theme](https://pkg.go.dev/static/shared/icon/brightness_2_gm_grey_24dp.svg) ![Light theme](https://pkg.go.dev/static/shared/icon/light_mode_gm_grey_24dp.svg)
Theme Toggle 
  * ![](https://pkg.go.dev/static/shared/icon/keyboard_grey_24dp.svg)
Shortcuts Modal 

[ ![Google logo](https://pkg.go.dev/static/shared/logo/google-white.svg) ](https://google.com)
## Jump to
![](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)
Close
## Keyboard shortcuts
![](https://pkg.go.dev/static/shared/icon/close_gm_grey_24dp.svg)
**?**|  : This menu  
---|---  
**/**|  : Search site  
**f** or **F**|  : Jump to  
**y** or **Y** |  : Canonical URL  
Close
go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)
Okay


## Source Information
- URL: https://pkg.go.dev/golang.org/x/time/rate
- Harvested: 2025-08-20T00:52:09.164277
- Profile: deep_research
- Agent: architect
