---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-19T14:10:41.351541'
profile: deep_research
source: https://www.apollographql.com/docs/apollo-server/performance/caching/
topic: GraphQL Caching Strategies for Financial Applications
---

# GraphQL Caching Strategies for Financial Applications

[ Docs  ](https://www.apollographql.com/docs)
[ ](https://www.apollographql.com/docs)
Search Apollo content (Cmd+K or /)
[Launch GraphOS Studio ](https://studio.apollographql.com/signup?referrer=docs)
[ Home Home ](https://www.apollographql.com/docs/)[ Schema Design Schema Design ](https://www.apollographql.com/docs/graphos/schema-design)[ Connectors Connectors ](https://www.apollographql.com/docs/graphos/connectors)[ GraphOS Platform GraphOS Platform ](https://www.apollographql.com/docs/graphos/platform)[ Routing Routing ](https://www.apollographql.com/docs/graphos/routing)[ Resources Resources ](https://www.apollographql.com/docs/graphos/resources)
Apollo Server Apollo Server
[Rover CLI](https://www.apollographql.com/docs/rover)[IDE Support](https://www.apollographql.com/docs/ide-support)[Apollo Client (Web)](https://www.apollographql.com/docs/react)[Apollo iOS](https://www.apollographql.com/docs/ios)[Apollo Kotlin](https://www.apollographql.com/docs/kotlin)[Apollo Server](https://www.apollographql.com/docs/apollo-server)[Apollo MCP Server](https://www.apollographql.com/docs/apollo-mcp-server)[Apollo Operator](https://www.apollographql.com/docs/apollo-operator)
Apollo Server - v4â€“v5 (latest)
[Introduction](https://www.apollographql.com/docs/apollo-server)[Get started](https://www.apollographql.com/docs/apollo-server/getting-started)
### New in v4 and v5
[Migrating from Apollo Server 4](https://www.apollographql.com/docs/apollo-server/migration)[Migrating from Apollo Server 3](https://www.apollographql.com/docs/apollo-server/migration-from-v3)[Previous versions](https://www.apollographql.com/docs/apollo-server/previous-versions)[Changelog](https://github.com/apollographql/apollo-server/blob/main/packages/server/CHANGELOG.md)
### Defining a Schema
[Schema basics](https://www.apollographql.com/docs/apollo-server/schema/schema)[Unions and interfaces](https://www.apollographql.com/docs/apollo-server/schema/unions-interfaces)[Custom scalars](https://www.apollographql.com/docs/apollo-server/schema/custom-scalars)[Directives](https://www.apollographql.com/docs/apollo-server/schema/directives)
### Resolving Operations
[Resolvers](https://www.apollographql.com/docs/apollo-server/data/resolvers)[Sharing context](https://www.apollographql.com/docs/apollo-server/data/context)[Error handling](https://www.apollographql.com/docs/apollo-server/data/errors)[Subscriptions](https://www.apollographql.com/docs/apollo-server/data/subscriptions)
### Fetching Data
[Overview](https://www.apollographql.com/docs/apollo-server/data/fetching-data)[REST APIs](https://www.apollographql.com/docs/apollo-server/data/fetching-rest)
### Web Frameworks
[Integrations](https://www.apollographql.com/docs/apollo-server/integrations/integration-index)[Building integrations](https://www.apollographql.com/docs/apollo-server/integrations/building-integrations)[MERN stack tutorial](https://www.apollographql.com/docs/apollo-server/integrations/mern)
### Development Workflow
[Build and run queries](https://www.apollographql.com/docs/apollo-server/workflow/build-run-queries)[Request format](https://www.apollographql.com/docs/apollo-server/workflow/requests)[Generating TS types](https://www.apollographql.com/docs/apollo-server/workflow/generate-types)[Mocking](https://www.apollographql.com/docs/apollo-server/testing/mocking)[Integration testing](https://www.apollographql.com/docs/apollo-server/testing/testing)[Apollo Studio Explorer](https://www.apollographql.com/docs/studio/explorer/)
### Performance
[Caching](https://www.apollographql.com/docs/apollo-server/performance/caching)[Cache backends](https://www.apollographql.com/docs/apollo-server/performance/cache-backends)[Response Cache Eviction](https://www.apollographql.com/docs/apollo-server/performance/response-cache-eviction)[Automatic persisted queries](https://www.apollographql.com/docs/apollo-server/performance/apq)
### Security
[Auth](https://www.apollographql.com/docs/apollo-server/security/authentication)[CORS](https://www.apollographql.com/docs/apollo-server/security/cors)[Terminating SSL](https://www.apollographql.com/docs/apollo-server/security/terminating-ssl)[Proxy configuration](https://www.apollographql.com/docs/apollo-server/security/proxy-configuration)
### Deployment
[Lambda](https://www.apollographql.com/docs/apollo-server/deployment/lambda)[Heroku](https://www.apollographql.com/docs/apollo-server/deployment/heroku)
### Monitoring
[Metrics and logging](https://www.apollographql.com/docs/apollo-server/monitoring/metrics)[Health checks](https://www.apollographql.com/docs/apollo-server/monitoring/health-checks)
### API Reference
[ApolloServer](https://www.apollographql.com/docs/apollo-server/api/apollo-server)[startStandaloneServer](https://www.apollographql.com/docs/apollo-server/api/standalone)[expressMiddleware](https://www.apollographql.com/docs/apollo-server/api/express-middleware)
### Plugins
[Overview](https://www.apollographql.com/docs/apollo-server/builtin-plugins)
### Built-in
[Usage reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/usage-reporting)[Schema reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/schema-reporting)[Inline trace](https://www.apollographql.com/docs/apollo-server/api/plugin/inline-trace)[Drain HTTP server](https://www.apollographql.com/docs/apollo-server/api/plugin/drain-http-server)[Cache control](https://www.apollographql.com/docs/apollo-server/api/plugin/cache-control)[Landing pages](https://www.apollographql.com/docs/apollo-server/api/plugin/landing-pages)[Federated subscriptions](https://www.apollographql.com/docs/apollo-server/api/plugin/subscription-callback)
### Custom
[Creating plugins](https://www.apollographql.com/docs/apollo-server/integrations/plugins)[Event reference](https://www.apollographql.com/docs/apollo-server/integrations/plugins-event-reference)
### Using with Federation
### As a subgraph
[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-subgraph-setup)[@apollo/subgraph reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-subgraph)
### As a gateway
[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-gateway-setup)[Gateway performance](https://www.apollographql.com/docs/apollo-server/using-federation/gateway-performance)[@apollo/gateway reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-gateway)
Navigation controls
## Schema Design
[Overview](https://www.apollographql.com/docs/graphos/schema-design)
### Federated Schemas
[Overview](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/federation)[Schema Types](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/schema-types)[Schema Composition](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/composition)[Sharing Types (Value Types)](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/sharing-types)
### Federation Reference
[Federation Changelog](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/versions)[Federation Directives](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/directives)[Composition Rules](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/composition-rules)
### Subgraph Reference
[Federation Subgraphs Specification](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/subgraph-spec)[Subgraph Specific Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/subgraph-specific-fields)[Compatible Subgraph Libraries](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/compatible-subgraphs)
### Development and Tooling
[Query Plans](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/query-plans)[Composition Hints](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/hints)[Errors](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/errors)
### From Federation 1 to 2
[Upgrade Guide](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/moving-to-federation-2)[Federation 2 Backwards Compatibility](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/reference/backward-compatibility)
### Entities
[Introduction](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/intro)
### Entity Essentials
[Entity Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/contribute-fields)[Advanced Keys](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/define-keys)[Entity Interfaces](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/interfaces)
### Entity Guides
[Entity Best Practices](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/best-practices)[Migrate Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/migrate-fields)[Resolve Another Subgraph's Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/resolve-another-subgraphs-fields)[Enforce Ownership](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/enforce-ownership)[Use Contexts](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/use-contexts)
### Schema Design Guides
### Schema Design Principles
[Demand Oriented Schema Design](https://www.apollographql.com/docs/graphos/schema-design/guides/demand-oriented-schema-design)[Naming Conventions](https://www.apollographql.com/docs/graphos/schema-design/guides/naming-conventions)[Namespacing](https://www.apollographql.com/docs/graphos/schema-design/guides/namespacing-by-separation-of-concerns)
### Server-Driven UI
[Basics](https://www.apollographql.com/docs/graphos/schema-design/guides/sdui/basics)[Schema Design](https://www.apollographql.com/docs/graphos/schema-design/guides/sdui/schema-design)[Client Design](https://www.apollographql.com/docs/graphos/schema-design/guides/sdui/client-design)
### Data Handling Techniques
[Handling the N+1 Problem](https://www.apollographql.com/docs/graphos/schema-design/guides/handling-n-plus-one)[Nullability](https://www.apollographql.com/docs/graphos/schema-design/guides/nullability)[Interfaces](https://www.apollographql.com/docs/graphos/schema-design/guides/interfaces)[Response Type Pattern](https://www.apollographql.com/docs/graphos/schema-design/guides/response-type-pattern)[Errors as Data](https://www.apollographql.com/docs/graphos/schema-design/guides/errors-as-data-explained)[Aggregating Data](https://www.apollographql.com/docs/graphos/schema-design/guides/aggregating-data-across-subgraphs)[Graph Identities](https://www.apollographql.com/docs/graphos/schema-design/guides/graph-identities)
### Schema Development and Evolution
[Mocking to Unblock Development](https://www.apollographql.com/docs/graphos/schema-design/guides/mocking)[Deprecations](https://www.apollographql.com/docs/graphos/schema-design/guides/deprecations)[Distributed Orchestration](https://www.apollographql.com/docs/graphos/schema-design/guides/distributed-orchestration)[Migrating from a Monolith](https://www.apollographql.com/docs/graphos/schema-design/guides/from-monolith)[Migrating from Schema Stitching](https://www.apollographql.com/docs/graphos/schema-design/guides/migrating-from-stitching)
## Connectors
[Overview](https://www.apollographql.com/docs/graphos/connectors)[Why use Connectors?](https://www.apollographql.com/docs/graphos/connectors/why-connectors)
### Getting Started
[Quickstart](https://www.apollographql.com/docs/graphos/connectors/getting-started)[API Requirements](https://www.apollographql.com/docs/graphos/connectors/getting-started/requirements)[Version Requirements](https://www.apollographql.com/docs/graphos/connectors/getting-started/version-requirements)
### Connectors Library
[Overview](https://www.apollographql.com/docs/graphos/connectors/library)
### Prebuilt Connectors
[Anthropic](https://www.apollographql.com/docs/graphos/connectors/library/anthropic)[Open AI](https://www.apollographql.com/docs/graphos/connectors/library/openai)[AWS DynamoDB](https://www.apollographql.com/docs/graphos/connectors/library/aws-dynamodb)[AWS Lambda](https://www.apollographql.com/docs/graphos/connectors/library/aws-lambda)[Strapi](https://www.apollographql.com/docs/graphos/connectors/library/strapi)[Stripe](https://www.apollographql.com/docs/graphos/connectors/library/stripe)[OData](https://www.apollographql.com/docs/graphos/connectors/library/odata)
### Development and Tooling
[Overview](https://www.apollographql.com/docs/graphos/connectors/tooling)[IDE Extensions](https://www.apollographql.com/docs/graphos/connectors/tooling/ide-extensions)[Using Rover](https://www.apollographql.com/docs/graphos/connectors/tooling/rover)[Mapping Playground](https://www.apollographql.com/docs/graphos/connectors/tooling/mapping-playground)
### Making Requests
[Overview](https://www.apollographql.com/docs/graphos/connectors/requests)[Request URLs](https://www.apollographql.com/docs/graphos/connectors/requests/url)[Request Headers](https://www.apollographql.com/docs/graphos/connectors/requests/headers)[Request Bodies](https://www.apollographql.com/docs/graphos/connectors/requests/body)[Batch Requests](https://www.apollographql.com/docs/graphos/connectors/requests/batching)[gRPC over JSON](https://www.apollographql.com/docs/graphos/connectors/requests/grpc-json-bridge)
### Handling Responses
[Overview](https://www.apollographql.com/docs/graphos/connectors/responses)[Mapping Response Fields](https://www.apollographql.com/docs/graphos/connectors/responses/fields)[Error Handling](https://www.apollographql.com/docs/graphos/connectors/responses/error-handling)
### Working with Entities
[Overview](https://www.apollographql.com/docs/graphos/connectors/entities)[Common Patterns](https://www.apollographql.com/docs/graphos/connectors/entities/patterns)[Working Across Subgraphs](https://www.apollographql.com/docs/graphos/connectors/entities/across-subgraphs)
### Mapping Language
[Overview](https://www.apollographql.com/docs/graphos/connectors/mapping)[Handling Arrays](https://www.apollographql.com/docs/graphos/connectors/mapping/arrays)[Mapping Enums](https://www.apollographql.com/docs/graphos/connectors/mapping/enums)[Using Literal Values](https://www.apollographql.com/docs/graphos/connectors/mapping/literals)[Variable Reference](https://www.apollographql.com/docs/graphos/connectors/mapping/variables)[Method Reference](https://www.apollographql.com/docs/graphos/connectors/mapping/methods)
### Deployment
[Overview](https://www.apollographql.com/docs/graphos/connectors/deployment)[Configuration](https://www.apollographql.com/docs/graphos/connectors/deployment/configuration)
### Deployment Configurations
[Overriding Base URLs](https://www.apollographql.com/docs/graphos/connectors/deployment/overriding-base-urls)[Overriding Headers](https://www.apollographql.com/docs/graphos/connectors/deployment/overriding-headers)
### Security Configurations
[Overview](https://www.apollographql.com/docs/graphos/connectors/security)[Authentication](https://www.apollographql.com/docs/graphos/connectors/security/auth)[Request Limits](https://www.apollographql.com/docs/graphos/connectors/security/request-limits)[TLS](https://www.apollographql.com/docs/graphos/connectors/security/tls)
### Performance Configurations
[Overview](https://www.apollographql.com/docs/graphos/connectors/performance)[Traffic Shaping](https://www.apollographql.com/docs/graphos/connectors/performance/traffic-shaping)
### Observability
[Overview](https://www.apollographql.com/docs/graphos/connectors/observability)[Telemetry Configurations](https://www.apollographql.com/docs/graphos/connectors/observability/telemetry)
### Connectors Reference
[Changelog](https://www.apollographql.com/docs/graphos/connectors/reference/changelog)[Directives](https://www.apollographql.com/docs/graphos/connectors/reference/directives)[Limitations](https://www.apollographql.com/docs/graphos/connectors/reference/limitations)
[Troubleshooting](https://www.apollographql.com/docs/graphos/connectors/troubleshooting)
## GraphOS Platform
[Overview](https://www.apollographql.com/docs/graphos/platform)[Apollo Sandbox](https://www.apollographql.com/docs/graphos/platform/sandbox)
### Schema Management
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management)
### Schema Delivery
### Publishing
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/publishing)[Publish with Rover](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/publishing/rover)[Publish with the Platform API](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/publishing/platform-api)
[Launches](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/launch)
### Contracts
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/overview)[Create](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/create)[Usage Patterns](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/usage-patterns)[Reference](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/reference)
### Schema Checks
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/checks)[Run Checks](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/run)[Custom Checks](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/custom)[Checks Configuration](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/configure)[GitHub Integration](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/github-integration)[Checks Reference](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/reference)
### Schema Linting
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/linting)[Linter Rules](https://www.apollographql.com/docs/graphos/platform/schema-management/linting/rules)
### Schema Proposals
[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals)[Configure](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/configure)[Create](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/create)[Review](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/review)[Implement](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/implement)
### Explorer IDE
[Overview](https://www.apollographql.com/docs/graphos/platform/explorer)[Connect and Authenticate](https://www.apollographql.com/docs/graphos/platform/explorer/connect)[Operation Collections](https://www.apollographql.com/docs/graphos/platform/explorer/operation-collections)[Subscription Support](https://www.apollographql.com/docs/graphos/platform/explorer/subscription-support)[Embed](https://www.apollographql.com/docs/graphos/platform/explorer/embed)[Scripting](https://www.apollographql.com/docs/graphos/platform/explorer/scripting)[Additional Features](https://www.apollographql.com/docs/graphos/platform/explorer/additional-features)
### Graph Security
[Overview](https://www.apollographql.com/docs/graphos/platform/security/overview)[Persisted Queries](https://www.apollographql.com/docs/graphos/platform/security/persisted-queries)
### Metrics and Insights
[Overview](https://www.apollographql.com/docs/graphos/platform/insights)
### Metrics Collection and Forwarding
[Sending Metrics to GraphOS](https://www.apollographql.com/docs/graphos/platform/insights/sending-operation-metrics)[Operation Signatures](https://www.apollographql.com/docs/graphos/platform/insights/operation-signatures)[Datadog Forwarding](https://www.apollographql.com/docs/graphos/platform/insights/datadog-forwarding)
### Insights and Analysis
[Operation Metrics](https://www.apollographql.com/docs/graphos/platform/insights/operation-metrics)[Field Usage](https://www.apollographql.com/docs/graphos/platform/insights/field-usage)[Error Diagnostics](https://www.apollographql.com/docs/graphos/platform/insights/errors)[Segmenting by Client](https://www.apollographql.com/docs/graphos/platform/insights/client-segmentation)
### Notifications and Alerts
[Overview](https://www.apollographql.com/docs/graphos/platform/insights/notifications)[Daily Reports](https://www.apollographql.com/docs/graphos/platform/insights/notifications/daily-reports)[Schema Changes](https://www.apollographql.com/docs/graphos/platform/insights/notifications/schema-changes)[Schema Proposals](https://www.apollographql.com/docs/graphos/platform/insights/notifications/schema-proposals)[Performance Alerts](https://www.apollographql.com/docs/graphos/platform/insights/notifications/performance-alerts)[Build Status](https://www.apollographql.com/docs/graphos/platform/insights/notifications/build-status)
### Access Management
[Organizations](https://www.apollographql.com/docs/graphos/platform/access-management/org)[API Keys](https://www.apollographql.com/docs/graphos/platform/access-management/api-keys)[Members, Roles, and Permissions](https://www.apollographql.com/docs/graphos/platform/access-management/member-roles)[Audit Logs](https://www.apollographql.com/docs/graphos/platform/access-management/audit-log)
### SSO
[Overview](https://www.apollographql.com/docs/graphos/platform/access-management/sso/overview)[Multi-Organization](https://www.apollographql.com/docs/graphos/platform/access-management/sso/multi-organization)
### SAML
[Okta](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-okta)[Microsoft Entra ID](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-microsoft-entra-id)[Generic SAML Setup](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-integration-guide)
### OIDC
[Okta](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-okta)[Microsoft Entra ID](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-microsoft-entra-id)[Generic OIDC Setup](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-integration-guide)
### SCIM
[Overview](https://www.apollographql.com/docs/graphos/platform/access-management/scim)[Okta](https://www.apollographql.com/docs/graphos/platform/access-management/scim/okta)[Microsoft Entra ID](https://www.apollographql.com/docs/graphos/platform/access-management/scim/microsoft-entra-id)
### Graph Management
[Using Variants](https://www.apollographql.com/docs/graphos/platform/graph-management/variants)[Adding Subgraphs](https://www.apollographql.com/docs/graphos/platform/graph-management/add-subgraphs)[Managing Subgraphs](https://www.apollographql.com/docs/graphos/platform/graph-management/manage-subgraphs)[Updating Graph Components](https://www.apollographql.com/docs/graphos/platform/graph-management/updates)[Transferring Graphs](https://www.apollographql.com/docs/graphos/platform/graph-management/transfers)
### Production Readiness
[Production Readiness Checklist](https://www.apollographql.com/docs/graphos/platform/production-readiness/checklist)
### Testing and Load Management
[Overload Protection](https://www.apollographql.com/docs/graphos/platform/production-readiness/overload-protection)[Load Testing](https://www.apollographql.com/docs/graphos/platform/production-readiness/load-testing)[Testing with Federation](https://www.apollographql.com/docs/graphos/platform/production-readiness/testing-with-apollo-federation)
### Environment and Deployment
[Environment Best Practices](https://www.apollographql.com/docs/graphos/platform/production-readiness/environment-best-practices)[Schema Change Management](https://www.apollographql.com/docs/graphos/platform/production-readiness/change-management)[Updating Client Schema](https://www.apollographql.com/docs/graphos/platform/production-readiness/updating-client-schema)[Deployment Best Practices](https://www.apollographql.com/docs/graphos/platform/production-readiness/deployment-best-practices)
[Platform Limits](https://www.apollographql.com/docs/graphos/platform/platform-limits)[GraphOS Platform API](https://www.apollographql.com/docs/graphos/platform/platform-api)
## Routing
Apollo Router - v2 (latest)
[Overview](https://www.apollographql.com/docs/graphos/routing)[Get Started](https://www.apollographql.com/docs/graphos/routing/get-started)[Request Lifecycle](https://www.apollographql.com/docs/graphos/routing/request-lifecycle)
### Configuration
[Overview](https://www.apollographql.com/docs/graphos/routing/configuration/overview)[Environment Variable Reference](https://www.apollographql.com/docs/graphos/routing/configuration/envvars)[CLI Reference](https://www.apollographql.com/docs/graphos/routing/configuration/cli)[YAML Reference](https://www.apollographql.com/docs/graphos/routing/configuration/yaml)
### Features
### Security
[Overview](https://www.apollographql.com/docs/graphos/routing/security)[Persisted Queries](https://www.apollographql.com/docs/graphos/routing/security/persisted-queries)[Authorization](https://www.apollographql.com/docs/graphos/routing/security/authorization)
### Authentication
[JWT Authentication](https://www.apollographql.com/docs/graphos/routing/security/jwt)[Router Authentication](https://www.apollographql.com/docs/graphos/routing/security/router-authentication)[Subgraph Authentication](https://www.apollographql.com/docs/graphos/routing/security/subgraph-authentication)
[CORS](https://www.apollographql.com/docs/graphos/routing/security/cors)[CSRF Prevention](https://www.apollographql.com/docs/graphos/routing/security/csrf)[TLS](https://www.apollographql.com/docs/graphos/routing/security/tls)[Request Limits](https://www.apollographql.com/docs/graphos/routing/security/request-limits)[Demand Control](https://www.apollographql.com/docs/graphos/routing/security/demand-control)
### Observability
[Overview](https://www.apollographql.com/docs/graphos/routing/observability)[Federated Trace Data](https://www.apollographql.com/docs/graphos/routing/observability/federated-trace-data)
### Router Telemetry
[Overview](https://www.apollographql.com/docs/graphos/routing/observability/telemetry)
### Log Exporters
[Overview](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/log-exporters/overview)[Stdout](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/log-exporters/stdout)
### Metrics Exporters
[Overview](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/dynatrace)[New Relic](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/otlp)[Prometheus](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/metrics-exporters/prometheus)
### Trace Exporters
[Overview](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/dynatrace)[Jaeger](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/jaeger)[New Relic](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/otlp)[Zipkin](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/trace-exporters/zipkin)
### Instrumentation
[Instruments](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/instruments)[Events](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/events)[Conditions](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/conditions)[Spans](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/spans)[Selectors](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/selectors)[Standard Attributes](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/standard-attributes)[Standard Instruments](https://www.apollographql.com/docs/graphos/routing/observability/telemetry/instrumentation/standard-instruments)
### Subgraph Observability
[Subgraph Error Inclusion](https://www.apollographql.com/docs/graphos/routing/observability/subgraph-error-inclusion)[Debugging Subgraph Requests](https://www.apollographql.com/docs/graphos/routing/observability/debugging-subgraph-requests)
### Client Observability
[Debugging Client Requests](https://www.apollographql.com/docs/graphos/routing/observability/debugging-client-requests)[Client ID Enforcement](https://www.apollographql.com/docs/graphos/routing/observability/client-id-enforcement)
### OpenTelemetry
[Set up OTel](https://www.apollographql.com/docs/graphos/routing/observability/otel)[Connect OTel to Prometheus](https://www.apollographql.com/docs/graphos/routing/observability/otel-traces-to-prometheus)
### Query Planning
[Native Query Planner](https://www.apollographql.com/docs/graphos/routing/query-planning/native-query-planner)[Query Planning Best Practices](https://www.apollographql.com/docs/graphos/routing/query-planning/query-planning-best-practices)
### Caching
[In-Memory Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/in-memory)[Distributed Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/distributed)[Entity Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/entity)
### Performance and Scaling
[Overview](https://www.apollographql.com/docs/graphos/routing/performance)[Traffic Shaping](https://www.apollographql.com/docs/graphos/routing/performance/traffic-shaping)[Query Batching](https://www.apollographql.com/docs/graphos/routing/performance/query-batching)
### Client Features
[HTTP Header Propagation](https://www.apollographql.com/docs/graphos/routing/header-propagation)[@defer](https://www.apollographql.com/docs/graphos/routing/operations/defer)
### GraphQL Subscriptions
[Overview](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/overview)[Configuration](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/configuration)[Callback Protocol](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/callback-protocol)[Multipart Protocol](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/multipart-protocol)[Enable with API Gateway](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/api-gateway)
[File Upload](https://www.apollographql.com/docs/graphos/routing/operations/file-upload)
### Customization
[Overview](https://www.apollographql.com/docs/graphos/routing/customization/overview)
### Coprocessors
[Coprocessor Configuration](https://www.apollographql.com/docs/graphos/routing/customization/coprocessor)[Coprocessor Reference](https://www.apollographql.com/docs/graphos/routing/customization/coprocessor/reference)
### Rhai Scripts
[Rhai Configuration](https://www.apollographql.com/docs/graphos/routing/customization/rhai)[Rhai API Reference](https://www.apollographql.com/docs/graphos/routing/customization/rhai/reference)
### Custom Builds
[Building a Binary](https://www.apollographql.com/docs/graphos/routing/customization/custom-binary)[Rust Plugins](https://www.apollographql.com/docs/graphos/routing/customization/native-plugins)
### Deployment
[Overview](https://www.apollographql.com/docs/graphos/routing/self-hosted)
### Docker
[Docker with the Apollo Runtime Container](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/docker)[Docker with Apollo Router](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/docker-router-only)
### Kubernetes
[Quickstart](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/kubernetes/quickstart)[Deploying with Extensibility](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/kubernetes/extensibility)[Enabling Metrics](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/kubernetes/metrics)[Other Considerations](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/kubernetes/other-considerations)
### AWS
[AWS ECS](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/aws)
### Azure
[Azure Container Apps](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/azure)
### GCP
[Google Cloud Run](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/gcp)
### Apollo Cloud Routing
[Overview](https://www.apollographql.com/docs/graphos/routing/cloud)[Configuration](https://www.apollographql.com/docs/graphos/routing/cloud/configuration)[Secure Subgraphs](https://www.apollographql.com/docs/graphos/routing/cloud/secure-subgraphs)[Subscriptions](https://www.apollographql.com/docs/graphos/routing/cloud/subscriptions)[Serverless](https://www.apollographql.com/docs/graphos/routing/cloud/serverless)
### Dedicated
[Overview](https://www.apollographql.com/docs/graphos/routing/cloud/dedicated)[Quickstart](https://www.apollographql.com/docs/graphos/routing/cloud/dedicated-quickstart)[Custom Domains](https://www.apollographql.com/docs/graphos/routing/cloud/custom-domains)[Throughput Guide](https://www.apollographql.com/docs/graphos/routing/cloud/throughput-guide)[Migrate to Dedicated](https://www.apollographql.com/docs/graphos/routing/cloud/migrate-to-dedicated)
### AWS Lattice
[Lattice Configuration](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-configuration)[Lattice Management](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-management)[Lattice Troubleshooting](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-troubleshooting)
### Tools
[Router Resource Estimator](https://www.apollographql.com/docs/graphos/routing/self-hosted/resource-estimator)[Health Checks](https://www.apollographql.com/docs/graphos/routing/self-hosted/health-checks)[Resource Management](https://www.apollographql.com/docs/graphos/routing/self-hosted/resource-management)
### Releases
[Changelogs](https://www.apollographql.com/docs/graphos/routing/changelog)[What's New in Router v2](https://www.apollographql.com/docs/graphos/routing/about-v2)[Upgrade from Router v1](https://www.apollographql.com/docs/graphos/routing/upgrade/from-router-v1)[Migrate from Gateway](https://www.apollographql.com/docs/graphos/routing/migration/from-gateway)[API Gateway Comparison](https://www.apollographql.com/docs/graphos/routing/router-api-gateway-comparison)
### GraphOS Integration
[GraphOS Plan License](https://www.apollographql.com/docs/graphos/routing/license)[GraphOS Plan Features](https://www.apollographql.com/docs/graphos/routing/graphos-features)[Apollo Uplink](https://www.apollographql.com/docs/graphos/routing/uplink)[Operation Metrics Reporting](https://www.apollographql.com/docs/graphos/routing/graphos-reporting)
### Reference
[Federation Version Support](https://www.apollographql.com/docs/graphos/routing/federation-version-support)[Errors](https://www.apollographql.com/docs/graphos/routing/errors)
## Resources
[Overview](https://www.apollographql.com/docs/graphos/resources)[Changelogs](https://www.apollographql.com/docs/graphos/resources/changelog)[Glossary](https://www.apollographql.com/docs/graphos/resources/glossary)[Examples](https://www.apollographql.com/docs/graphos/resources/solutions)
### Release Policies
[Apollo Feature Launch Stages](https://www.apollographql.com/docs/graphos/resources/feature-launch-stages)[GraphOS Router Release Lifecycle](https://www.apollographql.com/docs/graphos/resources/router-release-lifecycle)[Apollo Client Library Release Lifecycle](https://www.apollographql.com/docs/graphos/resources/client-library-release-lifecycle)
### Architecture
[Reference Architecture](https://www.apollographql.com/docs/graphos/resources/architecture)
### Supergraph Architecture Framework
[Overview](https://www.apollographql.com/docs/graphos/resources/saf)[Operational Excellence](https://www.apollographql.com/docs/graphos/resources/saf/operational-excellence)[Security](https://www.apollographql.com/docs/graphos/resources/saf/security)[Reliability](https://www.apollographql.com/docs/graphos/resources/saf/reliability)[Performance](https://www.apollographql.com/docs/graphos/resources/saf/performance)[Developer Experience](https://www.apollographql.com/docs/graphos/resources/saf/developer-experience)
### GraphQL Adoption Guides
[GraphQL Adoption Patterns](https://www.apollographql.com/docs/graphos/resources/guides/graphql-adoption-patterns)[Using GraphQL for Abstraction](https://www.apollographql.com/docs/graphos/resources/guides/using-graphql-for-abstraction)[Supergraph Stewardship](https://www.apollographql.com/docs/graphos/resources/guides/supergraph-stewardship)
## Rover CLI
[Overview](https://www.apollographql.com/docs/rover)[Install](https://www.apollographql.com/docs/rover/getting-started)[Configure](https://www.apollographql.com/docs/rover/configuring)[Proxy Configuration](https://www.apollographql.com/docs/rover/proxy)[CI/CD](https://www.apollographql.com/docs/rover/ci-cd)[Conventions](https://www.apollographql.com/docs/rover/conventions)[Privacy and Data Collection](https://www.apollographql.com/docs/rover/privacy)[Contributing](https://www.apollographql.com/docs/rover/contributing)[Error Codes](https://www.apollographql.com/docs/rover/errors)
### Commands
[cloud](https://www.apollographql.com/docs/rover/commands/cloud)[config](https://www.apollographql.com/docs/rover/commands/config)[contract](https://www.apollographql.com/docs/rover/commands/contracts)[dev](https://www.apollographql.com/docs/rover/commands/dev)[explain](https://www.apollographql.com/docs/rover/commands/explain)[graph](https://www.apollographql.com/docs/rover/commands/graphs)[init](https://www.apollographql.com/docs/rover/commands/init)[license](https://www.apollographql.com/docs/rover/commands/license)[persisted-queries](https://www.apollographql.com/docs/rover/commands/persisted-queries)[readme](https://www.apollographql.com/docs/rover/commands/readmes)[subgraph](https://www.apollographql.com/docs/rover/commands/subgraphs)[supergraph](https://www.apollographql.com/docs/rover/commands/supergraphs)[template](https://www.apollographql.com/docs/rover/commands/template)
### The Apollo CLI (deprecated)
[Installation](https://www.apollographql.com/docs/rover/apollo-cli)[Validating Client Operations](https://www.apollographql.com/docs/rover/validating-client-operations)[Moving to Rover](https://www.apollographql.com/docs/rover/migration)
## IDE Support
### IDE Support
[Overview](https://www.apollographql.com/docs/ide-support)[Visual Studio Code](https://www.apollographql.com/docs/ide-support/vs-code)[JetBrains IDEs](https://www.apollographql.com/docs/ide-support/jetbrains)[Vim/NeoVim](https://www.apollographql.com/docs/ide-support/vim)
## Apollo Client (Web)
Apollo Client (Web) - v3 (latest)
[Introduction](https://www.apollographql.com/docs/react)[Why Apollo Client?](https://www.apollographql.com/docs/react/why-apollo)[Get started](https://www.apollographql.com/docs/react/get-started)[Changelog](https://github.com/apollographql/apollo-client/blob/main/CHANGELOG.md)
### Fetching
[Queries](https://www.apollographql.com/docs/react/data/queries)[Suspense](https://www.apollographql.com/docs/react/data/suspense)[Fragments](https://www.apollographql.com/docs/react/data/fragments)[Mutations](https://www.apollographql.com/docs/react/data/mutations)[Refetching](https://www.apollographql.com/docs/react/data/refetching)[Subscriptions](https://www.apollographql.com/docs/react/data/subscriptions)[Directives](https://www.apollographql.com/docs/react/data/directives)[Error handling](https://www.apollographql.com/docs/react/data/error-handling)[Document transforms](https://www.apollographql.com/docs/react/data/document-transforms)[Deferring response data](https://www.apollographql.com/docs/react/data/defer)[Best practices](https://www.apollographql.com/docs/react/data/operation-best-practices)
### Caching
[Overview](https://www.apollographql.com/docs/react/caching/overview)[Configuration](https://www.apollographql.com/docs/react/caching/cache-configuration)[Reading and writing](https://www.apollographql.com/docs/react/caching/cache-interaction)[Garbage collection and eviction](https://www.apollographql.com/docs/react/caching/garbage-collection)[Customizing field behavior](https://www.apollographql.com/docs/react/caching/cache-field-behavior)[Memory Management](https://www.apollographql.com/docs/react/caching/memory-management)[Advanced topics](https://www.apollographql.com/docs/react/caching/advanced-topics)
### Pagination
[Overview](https://www.apollographql.com/docs/react/pagination/overview)[Core API](https://www.apollographql.com/docs/react/pagination/core-api)[Offset-based](https://www.apollographql.com/docs/react/pagination/offset-based)[Cursor-based](https://www.apollographql.com/docs/react/pagination/cursor-based)[keyArgs](https://www.apollographql.com/docs/react/pagination/key-args)
### Local State
[Overview](https://www.apollographql.com/docs/react/local-state/local-state-management)[Local-only fields](https://www.apollographql.com/docs/react/local-state/managing-state-with-field-policies)[Reactive variables](https://www.apollographql.com/docs/react/local-state/reactive-variables)[Client-side schema](https://www.apollographql.com/docs/react/local-state/client-side-schema)[Local resolvers](https://www.apollographql.com/docs/react/local-state/local-resolvers)
### Development & Testing
[Developer tools](https://www.apollographql.com/docs/react/development-testing/developer-tooling)[Using TypeScript](https://www.apollographql.com/docs/react/development-testing/static-typing)[Testing React components](https://www.apollographql.com/docs/react/development-testing/testing)[Schema-driven testing](https://www.apollographql.com/docs/react/development-testing/schema-driven-testing)[Mocking schema capabilities](https://www.apollographql.com/docs/react/development-testing/client-schema-mocking)[Reducing bundle size](https://www.apollographql.com/docs/react/development-testing/reducing-bundle-size)
### Performance
[Improving performance](https://www.apollographql.com/docs/react/performance/performance)[Optimistic mutation results](https://www.apollographql.com/docs/react/performance/optimistic-ui)[Server-side rendering](https://www.apollographql.com/docs/react/performance/server-side-rendering)[Compiling queries with Babel](https://www.apollographql.com/docs/react/performance/babel)
### Integrations
[Using Apollo Client with your view layer](https://www.apollographql.com/docs/react/integrations/integrations)[Integrating with React Native](https://www.apollographql.com/docs/react/integrations/react-native)[Loading queries with Webpack](https://www.apollographql.com/docs/react/integrations/webpack)
### Networking
[Basic HTTP networking](https://www.apollographql.com/docs/react/networking/basic-http-networking)[Advanced HTTP networking](https://www.apollographql.com/docs/react/networking/advanced-http-networking)[Authentication](https://www.apollographql.com/docs/react/networking/authentication)
### Migrating
[Migrating to Apollo Client 3.0](https://www.apollographql.com/docs/react/migrating/apollo-client-3-migration)[Hooks migration guide](https://www.apollographql.com/docs/react/migrating/hooks-migration)
### API Reference
### Core
[ApolloClient](https://www.apollographql.com/docs/react/api/core/ApolloClient)[InMemoryCache](https://www.apollographql.com/docs/react/api/cache/InMemoryCache)[ObservableQuery](https://www.apollographql.com/docs/react/api/core/ObservableQuery)
### React
[Hooks](https://www.apollographql.com/docs/react/api/react/hooks)[Preloading](https://www.apollographql.com/docs/react/api/react/preloading)[Testing](https://www.apollographql.com/docs/react/api/react/testing)[SSR](https://www.apollographql.com/docs/react/api/react/ssr)[Components (deprecated)](https://www.apollographql.com/docs/react/api/react/components)[HOC (deprecated)](https://www.apollographql.com/docs/react/api/react/hoc)
### Apollo Link
[Overview](https://www.apollographql.com/docs/react/api/link/introduction)[HTTP](https://www.apollographql.com/docs/react/api/link/apollo-link-http)[HTTP Batch](https://www.apollographql.com/docs/react/api/link/apollo-link-batch-http)[Context](https://www.apollographql.com/docs/react/api/link/apollo-link-context)[Error](https://www.apollographql.com/docs/react/api/link/apollo-link-error)[Persisted Queries](https://www.apollographql.com/docs/react/api/link/persisted-queries)[Remove Typename](https://www.apollographql.com/docs/react/api/link/apollo-link-remove-typename)[REST](https://www.apollographql.com/docs/react/api/link/apollo-link-rest)[Retry](https://www.apollographql.com/docs/react/api/link/apollo-link-retry)[Schema](https://www.apollographql.com/docs/react/api/link/apollo-link-schema)[Subscriptions (newer protocol)](https://www.apollographql.com/docs/react/api/link/apollo-link-subscriptions)[WebSocket (older protocol)](https://www.apollographql.com/docs/react/api/link/apollo-link-ws)[Community links](https://www.apollographql.com/docs/react/api/link/community-links)
## Apollo iOS
Apollo iOS - v1 (latest)
[Introduction](https://www.apollographql.com/docs/ios)[Get Started](https://www.apollographql.com/docs/ios/get-started)
### Project Configuration
[Introduction](https://www.apollographql.com/docs/ios/project-configuration/intro)[1. Project Modularization](https://www.apollographql.com/docs/ios/project-configuration/modularization)[2. Schema Types](https://www.apollographql.com/docs/ios/project-configuration/schema-types)[3. Operation Models](https://www.apollographql.com/docs/ios/project-configuration/operation-models)[SDK components](https://www.apollographql.com/docs/ios/project-configuration/sdk-components)
### Migration Guides
[v1.0](https://www.apollographql.com/docs/ios/migrations/1.0)[v1.2](https://www.apollographql.com/docs/ios/migrations/1.2)[v1.3](https://www.apollographql.com/docs/ios/migrations/1.3)[v1.5](https://www.apollographql.com/docs/ios/migrations/1.5)[v1.6](https://www.apollographql.com/docs/ios/migrations/1.6)[v1.7](https://www.apollographql.com/docs/ios/migrations/1.7)
### Tutorial
[Code Generation](https://www.apollographql.com/docs/ios/tutorial/codegen-getting-started)
### Build a project with Apollo
[Introduction](https://www.apollographql.com/docs/ios/tutorial/tutorial-introduction)[1. Configure your project](https://www.apollographql.com/docs/ios/tutorial/tutorial-configure-project)[2. Add the GraphQL schema](https://www.apollographql.com/docs/ios/tutorial/tutorial-add-graphql-schema)[3. Write your first query](https://www.apollographql.com/docs/ios/tutorial/tutorial-write-your-first-query)[4. Running code generation](https://www.apollographql.com/docs/ios/tutorial/tutorial-running-code-generation)[5. Execute your first query](https://www.apollographql.com/docs/ios/tutorial/tutorial-execute-first-query)[6. Connect your queries to your UI](https://www.apollographql.com/docs/ios/tutorial/tutorial-connect-queries-to-ui)[7. Add more info to the list](https://www.apollographql.com/docs/ios/tutorial/tutorial-add-more-info-to-list)[8. Paginate results](https://www.apollographql.com/docs/ios/tutorial/tutorial-paginate-results)[9. Complete the details view](https://www.apollographql.com/docs/ios/tutorial/tutorial-complete-details-view)[10. Write your first mutation](https://www.apollographql.com/docs/ios/tutorial/tutorial-first-mutation)[11. Authenticate your operations](https://www.apollographql.com/docs/ios/tutorial/tutorial-authenticate-operations)[12. Define additional mutations](https://www.apollographql.com/docs/ios/tutorial/tutorial-define-additional-mutations)[13. Write your first subscription](https://www.apollographql.com/docs/ios/tutorial/tutorial-subscriptions)
### API Reference
[Overview](https://www.apollographql.com/docs/ios/docc/documentation/index)[Apollo Client](https://www.apollographql.com/docs/ios/docc/documentation/Apollo)[ApolloAPI](https://www.apollographql.com/docs/ios/docc/documentation/ApolloAPI)[ApolloWebSocket](https://www.apollographql.com/docs/ios/docc/documentation/ApolloWebSocket)[ApolloSQLite](https://www.apollographql.com/docs/ios/docc/documentation/ApolloSQLite)[ApolloCodegenLib](https://www.apollographql.com/docs/ios/docc/documentation/ApolloCodegenLib)[ApolloPagination](https://www.apollographql.com/docs/ios/docc/documentation/ApolloPagination)[Client Directives](https://www.apollographql.com/docs/ios/client-directives)
### Code Generation
[Introduction](https://www.apollographql.com/docs/ios/code-generation/introduction)[The Codegen CLI](https://www.apollographql.com/docs/ios/code-generation/codegen-cli)[Configuration](https://www.apollographql.com/docs/ios/code-generation/codegen-configuration)[Downloading a Schema](https://www.apollographql.com/docs/ios/code-generation/downloading-schema)[Running Code Generation in Swift Code](https://www.apollographql.com/docs/ios/code-generation/run-codegen-in-swift-code)[Code Generation Troubleshooting](https://www.apollographql.com/docs/ios/troubleshooting/codegen-troubleshooting)
### Fetching
[Fetching Data](https://www.apollographql.com/docs/ios/fetching/fetching-data)
### Operations
[Queries](https://www.apollographql.com/docs/ios/fetching/queries)[Mutations](https://www.apollographql.com/docs/ios/fetching/mutations)[Subscriptions](https://www.apollographql.com/docs/ios/fetching/subscriptions)[Fragments](https://www.apollographql.com/docs/ios/fetching/fragments)
[Operation Arguments](https://www.apollographql.com/docs/ios/fetching/operation-arguments)[Error Handling](https://www.apollographql.com/docs/ios/fetching/error-handling)[Type Conditions](https://www.apollographql.com/docs/ios/fetching/type-conditions)[Custom Scalars](https://www.apollographql.com/docs/ios/custom-scalars)[Persisted Queries](https://www.apollographql.com/docs/ios/fetching/persisted-queries)[@defer support (experimental)](https://www.apollographql.com/docs/ios/fetching/defer)
### Caching
[Introduction](https://www.apollographql.com/docs/ios/caching/introduction)[Setup](https://www.apollographql.com/docs/ios/caching/cache-setup)[Direct Cache Access](https://www.apollographql.com/docs/ios/caching/cache-transactions)[Custom Cache Keys](https://www.apollographql.com/docs/ios/caching/cache-key-resolution)[Programmatic Cache Keys](https://www.apollographql.com/docs/ios/caching/programmatic-cache-keys)
### Networking
[Creating a Client](https://www.apollographql.com/docs/ios/networking/client-creation)
### Pagination
[Introduction](https://www.apollographql.com/docs/ios/pagination/introduction)[Using Custom Response Models](https://www.apollographql.com/docs/ios/pagination/custom-types)[Directional Pagination](https://www.apollographql.com/docs/ios/pagination/directional-pagers)[Multi-query Pagination](https://www.apollographql.com/docs/ios/pagination/multi-query)
### Development & Testing
[Test Mocks](https://www.apollographql.com/docs/ios/testing/test-mocks)[Including Apollo as an XCFramework](https://www.apollographql.com/docs/ios/development/using-xcframework)
### Advanced
[File Uploads](https://www.apollographql.com/docs/ios/advanced/file-uploads)[Request Chain Customization](https://www.apollographql.com/docs/ios/advanced/request-pipeline)[Request Configuration](https://www.apollographql.com/docs/ios/advanced/request-configuration)
## Apollo Kotlin
Apollo Kotlin - v4 (latest)
[Get Started](https://www.apollographql.com/docs/kotlin)[Migrating to v4](https://www.apollographql.com/docs/kotlin/migration/4.0)[Modules](https://www.apollographql.com/docs/kotlin/essentials/modules)[Evolution policy](https://www.apollographql.com/docs/kotlin/essentials/evolution)[Tutorial](https://www.apollographql.com/tutorials/apollo-kotlin-android-part1)[Kdoc](https://apollographql.github.io/apollo-kotlin/kdoc/older/4.2.0/)[Changelog](https://github.com/apollographql/apollo-kotlin/blob/main/CHANGELOG.md)
### Configuration
[Gradle plugin configuration](https://www.apollographql.com/docs/kotlin/advanced/plugin-configuration)[Gradle plugin recipes](https://www.apollographql.com/docs/kotlin/advanced/plugin-recipes)[Multi Modules](https://www.apollographql.com/docs/kotlin/advanced/multi-modules)[File types](https://www.apollographql.com/docs/kotlin/essentials/file-types)[Client Awareness](https://www.apollographql.com/docs/kotlin/advanced/client-awareness)
### Fetching
[Queries](https://www.apollographql.com/docs/kotlin/essentials/queries)[Mutations](https://www.apollographql.com/docs/kotlin/essentials/mutations)[Subscriptions](https://www.apollographql.com/docs/kotlin/essentials/subscriptions)[GraphQL variables](https://www.apollographql.com/docs/kotlin/advanced/operation-variables)[Error handling](https://www.apollographql.com/docs/kotlin/essentials/errors)[Custom scalars](https://www.apollographql.com/docs/kotlin/essentials/custom-scalars)[Fragments](https://www.apollographql.com/docs/kotlin/essentials/fragments)[@defer support](https://www.apollographql.com/docs/kotlin/fetching/defer)[Persisted queries](https://www.apollographql.com/docs/kotlin/advanced/persisted-queries)
### Caching
[Introduction](https://www.apollographql.com/docs/kotlin/caching/introduction)[Normalized caches](https://www.apollographql.com/docs/kotlin/caching/normalized-cache)[Declarative cache IDs](https://www.apollographql.com/docs/kotlin/caching/declarative-ids)[Programmatic cache IDs](https://www.apollographql.com/docs/kotlin/caching/programmatic-ids)[Watching cached data](https://www.apollographql.com/docs/kotlin/caching/query-watchers)[ApolloStore](https://www.apollographql.com/docs/kotlin/caching/store)[HTTP cache](https://www.apollographql.com/docs/kotlin/caching/http-cache)[Troubleshooting](https://www.apollographql.com/docs/kotlin/caching/troubleshooting)
### Networking
[Interceptors](https://www.apollographql.com/docs/kotlin/advanced/interceptors-http)[Custom HTTP clients](https://www.apollographql.com/docs/kotlin/advanced/http-engine)[Using the models without apollo-runtime](https://www.apollographql.com/docs/kotlin/advanced/no-runtime)[Authentication](https://www.apollographql.com/docs/kotlin/advanced/authentication)[WebSocket errors](https://www.apollographql.com/docs/kotlin/advanced/websocket-errors)[Batching operations](https://www.apollographql.com/docs/kotlin/advanced/query-batching)
### Development & Testing
[Testing overview](https://www.apollographql.com/docs/kotlin/testing/overview)[Mocking HTTP responses](https://www.apollographql.com/docs/kotlin/testing/mocking-http-responses)[Mocking GraphQL responses](https://www.apollographql.com/docs/kotlin/testing/mocking-graphql-responses)[Data builders](https://www.apollographql.com/docs/kotlin/testing/data-builders)[Android Studio plugin](https://www.apollographql.com/docs/kotlin/testing/android-studio-plugin)[Apollo Debug Server](https://www.apollographql.com/docs/kotlin/testing/apollo-debug-server)
### Advanced
[Uploading files](https://www.apollographql.com/docs/kotlin/advanced/upload)[Monitoring the network state](https://www.apollographql.com/docs/kotlin/advanced/network-connectivity)[Handling nullability](https://www.apollographql.com/docs/kotlin/advanced/nullability)[Experimental WebSockets](https://www.apollographql.com/docs/kotlin/advanced/experimental-websockets)[Using aliases](https://www.apollographql.com/docs/kotlin/advanced/using-aliases)[Using Java](https://www.apollographql.com/docs/kotlin/advanced/java)[Apollo AST](https://www.apollographql.com/docs/kotlin/advanced/apollo-ast)[Compiler plugins](https://www.apollographql.com/docs/kotlin/advanced/compiler-plugins)[JS Interoperability](https://www.apollographql.com/docs/kotlin/advanced/js-interop)[Response based codegen](https://www.apollographql.com/docs/kotlin/advanced/response-based)[Apollo Kotlin galaxy](https://www.apollographql.com/docs/kotlin/advanced/galaxy)
## Apollo Server
Apollo Server - v4â€“v5 (latest)
[Introduction](https://www.apollographql.com/docs/apollo-server)[Get started](https://www.apollographql.com/docs/apollo-server/getting-started)
### New in v4 and v5
[Migrating from Apollo Server 4](https://www.apollographql.com/docs/apollo-server/migration)[Migrating from Apollo Server 3](https://www.apollographql.com/docs/apollo-server/migration-from-v3)[Previous versions](https://www.apollographql.com/docs/apollo-server/previous-versions)[Changelog](https://github.com/apollographql/apollo-server/blob/main/packages/server/CHANGELOG.md)
### Defining a Schema
[Schema basics](https://www.apollographql.com/docs/apollo-server/schema/schema)[Unions and interfaces](https://www.apollographql.com/docs/apollo-server/schema/unions-interfaces)[Custom scalars](https://www.apollographql.com/docs/apollo-server/schema/custom-scalars)[Directives](https://www.apollographql.com/docs/apollo-server/schema/directives)
### Resolving Operations
[Resolvers](https://www.apollographql.com/docs/apollo-server/data/resolvers)[Sharing context](https://www.apollographql.com/docs/apollo-server/data/context)[Error handling](https://www.apollographql.com/docs/apollo-server/data/errors)[Subscriptions](https://www.apollographql.com/docs/apollo-server/data/subscriptions)
### Fetching Data
[Overview](https://www.apollographql.com/docs/apollo-server/data/fetching-data)[REST APIs](https://www.apollographql.com/docs/apollo-server/data/fetching-rest)
### Web Frameworks
[Integrations](https://www.apollographql.com/docs/apollo-server/integrations/integration-index)[Building integrations](https://www.apollographql.com/docs/apollo-server/integrations/building-integrations)[MERN stack tutorial](https://www.apollographql.com/docs/apollo-server/integrations/mern)
### Development Workflow
[Build and run queries](https://www.apollographql.com/docs/apollo-server/workflow/build-run-queries)[Request format](https://www.apollographql.com/docs/apollo-server/workflow/requests)[Generating TS types](https://www.apollographql.com/docs/apollo-server/workflow/generate-types)[Mocking](https://www.apollographql.com/docs/apollo-server/testing/mocking)[Integration testing](https://www.apollographql.com/docs/apollo-server/testing/testing)[Apollo Studio Explorer](https://www.apollographql.com/docs/studio/explorer/)
### Performance
[Caching](https://www.apollographql.com/docs/apollo-server/performance/caching)[Cache backends](https://www.apollographql.com/docs/apollo-server/performance/cache-backends)[Response Cache Eviction](https://www.apollographql.com/docs/apollo-server/performance/response-cache-eviction)[Automatic persisted queries](https://www.apollographql.com/docs/apollo-server/performance/apq)
### Security
[Auth](https://www.apollographql.com/docs/apollo-server/security/authentication)[CORS](https://www.apollographql.com/docs/apollo-server/security/cors)[Terminating SSL](https://www.apollographql.com/docs/apollo-server/security/terminating-ssl)[Proxy configuration](https://www.apollographql.com/docs/apollo-server/security/proxy-configuration)
### Deployment
[Lambda](https://www.apollographql.com/docs/apollo-server/deployment/lambda)[Heroku](https://www.apollographql.com/docs/apollo-server/deployment/heroku)
### Monitoring
[Metrics and logging](https://www.apollographql.com/docs/apollo-server/monitoring/metrics)[Health checks](https://www.apollographql.com/docs/apollo-server/monitoring/health-checks)
### API Reference
[ApolloServer](https://www.apollographql.com/docs/apollo-server/api/apollo-server)[startStandaloneServer](https://www.apollographql.com/docs/apollo-server/api/standalone)[expressMiddleware](https://www.apollographql.com/docs/apollo-server/api/express-middleware)
### Plugins
[Overview](https://www.apollographql.com/docs/apollo-server/builtin-plugins)
### Built-in
[Usage reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/usage-reporting)[Schema reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/schema-reporting)[Inline trace](https://www.apollographql.com/docs/apollo-server/api/plugin/inline-trace)[Drain HTTP server](https://www.apollographql.com/docs/apollo-server/api/plugin/drain-http-server)[Cache control](https://www.apollographql.com/docs/apollo-server/api/plugin/cache-control)[Landing pages](https://www.apollographql.com/docs/apollo-server/api/plugin/landing-pages)[Federated subscriptions](https://www.apollographql.com/docs/apollo-server/api/plugin/subscription-callback)
### Custom
[Creating plugins](https://www.apollographql.com/docs/apollo-server/integrations/plugins)[Event reference](https://www.apollographql.com/docs/apollo-server/integrations/plugins-event-reference)
### Using with Federation
### As a subgraph
[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-subgraph-setup)[@apollo/subgraph reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-subgraph)
### As a gateway
[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-gateway-setup)[Gateway performance](https://www.apollographql.com/docs/apollo-server/using-federation/gateway-performance)[@apollo/gateway reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-gateway)
## Apollo MCP Server
Apollo MCP Server - v0 (latest)
[Welcome](https://www.apollographql.com/docs/apollo-mcp-server)[Quickstart](https://www.apollographql.com/docs/apollo-mcp-server/quickstart)[Install](https://www.apollographql.com/docs/apollo-mcp-server/install)[User Guide](https://www.apollographql.com/docs/apollo-mcp-server/guides)[Authorization](https://www.apollographql.com/docs/apollo-mcp-server/guides/auth)[Command Reference](https://www.apollographql.com/docs/apollo-mcp-server/command-reference)[Best Practices](https://www.apollographql.com/docs/apollo-mcp-server/best-practices)[Licensing](https://www.apollographql.com/docs/apollo-mcp-server/licensing)[Limitations](https://www.apollographql.com/docs/apollo-mcp-server/limitations)
## Apollo Operator
[Overview](https://www.apollographql.com/docs/apollo-operator)
### Getting Started
[Install Operator](https://www.apollographql.com/docs/apollo-operator/get-started/install-operator)[Add Subgraphs](https://www.apollographql.com/docs/apollo-operator/get-started/add-subgraphs)[Deploy Supergraphs](https://www.apollographql.com/docs/apollo-operator/get-started/deploy-supergraph)
### Kubernetes Resources
### Supergraph
[Overview](https://www.apollographql.com/docs/apollo-operator/resources/supergraph)[Autoscaling your Supergraphs](https://www.apollographql.com/docs/apollo-operator/resources/supergraph/autoscalers)[Supergraph podTemplate](https://www.apollographql.com/docs/apollo-operator/resources/supergraph/pod_template)[Supergraph networking](https://www.apollographql.com/docs/apollo-operator/resources/supergraph/networking)
[SupergraphSchema](https://www.apollographql.com/docs/apollo-operator/resources/supergraphschema)[SupergraphSet](https://www.apollographql.com/docs/apollo-operator/resources/supergraphset)[Subgraph](https://www.apollographql.com/docs/apollo-operator/resources/subgraph)
### Workflows
[Overview](https://www.apollographql.com/docs/apollo-operator/workflows)[Single Cluster Setup](https://www.apollographql.com/docs/apollo-operator/workflows/single-cluster)[Multi-Cluster Setup](https://www.apollographql.com/docs/apollo-operator/workflows/multi-cluster)[Hybrid Setup](https://www.apollographql.com/docs/apollo-operator/workflows/hybrid)[Deploy Only](https://www.apollographql.com/docs/apollo-operator/workflows/deploy-only)
### Configuration
[Overview](https://www.apollographql.com/docs/apollo-operator/configuration)[Telemetry](https://www.apollographql.com/docs/apollo-operator/configuration/telemetry)[Controllers](https://www.apollographql.com/docs/apollo-operator/configuration/controllers)[OCI](https://www.apollographql.com/docs/apollo-operator/configuration/oci)
[Security Best Practices](https://www.apollographql.com/docs/apollo-operator/security-best-practices)
[Apollo Server](https://www.apollographql.com/docs/apollo-server/performance/apollo-server)
On this page
Copy as MD
  * [ Setting cache hints ](https://www.apollographql.com/docs/apollo-server/performance/caching#setting-cache-hints)
  * [ In your schema (static) ](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static)
  * [ In your resolvers (dynamic) ](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-resolvers-dynamic)
  * [ Calculating cache behavior ](https://www.apollographql.com/docs/apollo-server/performance/caching#calculating-cache-behavior)
  * [ Default maxAge ](https://www.apollographql.com/docs/apollo-server/performance/caching#default-maxage)
  * [ Recommended starting usage ](https://www.apollographql.com/docs/apollo-server/performance/caching#recommended-starting-usage)
  * [ Example maxAge calculations ](https://www.apollographql.com/docs/apollo-server/performance/caching#example-maxage-calculations)
  * [ Using with Federation ](https://www.apollographql.com/docs/apollo-server/performance/caching#using-with-federation)
  * [ Setting entity cache hints ](https://www.apollographql.com/docs/apollo-server/performance/caching#setting-entity-cache-hints)
  * [ Overriding subgraph cache hints in the gateway ](https://www.apollographql.com/docs/apollo-server/performance/caching#overriding-subgraph-cache-hints-in-the-gateway)
  * [ Caching with a CDN ](https://www.apollographql.com/docs/apollo-server/performance/caching#caching-with-a-cdn)
  * [ Using GET requests ](https://www.apollographql.com/docs/apollo-server/performance/caching#using-get-requests)
  * [ Disabling cache control ](https://www.apollographql.com/docs/apollo-server/performance/caching#disabling-cache-control)
  * [ Caching with responseCachePlugin (advanced) ](https://www.apollographql.com/docs/apollo-server/performance/caching#caching-with-responsecacheplugin-advanced)
  * [ In-memory cache setup ](https://www.apollographql.com/docs/apollo-server/performance/caching#in-memory-cache-setup)
  * [ Memcached/Redis setup ](https://www.apollographql.com/docs/apollo-server/performance/caching#memcachedredis-setup)
  * [ Identifying users for PRIVATE responses ](https://www.apollographql.com/docs/apollo-server/performance/caching#identifying-users-for-private-responses)
  * [ Separating responses for logged-in and logged-out users ](https://www.apollographql.com/docs/apollo-server/performance/caching#separating-responses-for-logged-in-and-logged-out-users)
  * [ Configuring reads and writes ](https://www.apollographql.com/docs/apollo-server/performance/caching#configuring-reads-and-writes)


[ Home ](https://www.apollographql.com/docs/)
/ [ Apollo Server ](https://www.apollographql.com/docs/apollo-server)
/ [ Performance ](https://www.apollographql.com/docs/apollo-server/performance/caching)
[ Apollo Server ](https://www.apollographql.com/docs/apollo-server)
#  Server-Side Caching 
Configure caching behavior on a per-field basis
[Once enabled](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static), Apollo Server lets you to define cache control settings (`maxAge` and `scope`) for each field in your schema:
GraphQL
copy
```
1type Post {
2 id: ID!
3 title: String
4 author: Author
5 votes: Int @cacheControl(maxAge: 30)
6 comments: [Comment]
7 readByCurrentUser: Boolean! @cacheControl(maxAge: 10, scope: PRIVATE)
8}
```

When Apollo Server resolves an operation, it calculates the result's correct cache behavior based on the [_most restrictive_ settings](https://www.apollographql.com/docs/apollo-server/performance/caching#calculating-cache-behavior) among the result's fields. You can then use this calculation to support any form of cache implementation you want, such as by providing it to your CDN via a `Cache-Control` header.
## Setting cache hints
You can define field-level cache hints [statically](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static) in your schema definition or [dynamically](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-resolvers-dynamic) in your resolvers (or both).
Note that when setting cache hints, it's important to understand:
  * Which fields of your schema can be cached safely
  * How long a cached value should remain valid
  * Whether a cached value is global or user-specific


These details can vary significantly, even among the fields of a single object type.
### In your schema (static)
Apollo Server recognizes the `@cacheControl` directive, which you can use in your schema to define caching behavior either for a [single field](https://www.apollographql.com/docs/apollo-server/performance/caching#field-level-definitions), or for _all_ fields that return a particular [type](https://www.apollographql.com/docs/apollo-server/performance/caching#type-level-definitions).
**To use the`@cacheControl` directive, you must add the following definitions to your server's schema:**
GraphQL
copy
```
1enum CacheControlScope {
2 PUBLIC
3 PRIVATE
4}
5
6directive @cacheControl(
7 maxAge: Int
8 scope: CacheControlScope
9 inheritMaxAge: Boolean
10) on FIELD_DEFINITION | OBJECT | INTERFACE | UNION
```

If you don't add these definitions, Apollo Server throws an `Unknown directive "@cacheControl"` error on startup.
The `@cacheControl` directive accepts the following arguments:
Name| Description  
---|---  
`maxAge`| The maximum amount of time the field's cached value is valid, in seconds. The default value is `0`, but you can [set a different default](https://www.apollographql.com/docs/apollo-server/performance/caching#setting-a-different-default-maxage).  
`scope`| If `PRIVATE`, the field's value is specific to a single user. The default value is `PUBLIC`. See also [Identifying users for `PRIVATE` responses](https://www.apollographql.com/docs/apollo-server/performance/caching#identifying-users-for-private-responses).  
`inheritMaxAge`| If `true`, this field inherits the `maxAge` of its parent field instead of using the [default `maxAge`](https://www.apollographql.com/docs/apollo-server/performance/caching#setting-a-different-default-maxage). Do not provide `maxAge` if you provide this argument.  
Use `@cacheControl` for fields that should usually be cached with the same settings. If caching settings might change at runtime, you can use the [dynamic method](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-resolvers-dynamic).
> **Important:** Apollo Server assigns each GraphQL response a `maxAge` equal to the _lowest_ `maxAge` among included fields. If any field has a `maxAge` of `0`, the response will not be cached at all.
> Similarly, Apollo Server sets a response's `scope` to `PRIVATE` if _any_ included field is `PRIVATE`.
#### Field-level definitions
This example defines cache control settings for two fields of the `Post` type: `votes` and `readByCurrentUser`:
GraphQL
schema.graphql
copy
```
1type Post {
2 id: ID!
3 title: String
4 author: Author
5 votes: Int @cacheControl(maxAge: 30)
6 comments: [Comment]
7 readByCurrentUser: Boolean! @cacheControl(maxAge: 10, scope: PRIVATE)
8}
```

In this example:
  * The value of the `votes` field is cached for a maximum of 30 seconds.
  * The value of the `readByCurrentUser` field is cached for a maximum of 10 seconds, and its visibility is restricted to a single user.


#### Type-level definitions
This example defines cache control settings for _all_ schema fields that return a `Post` object:
GraphQL
schema.graphql
copy
```
1type Post @cacheControl(maxAge: 240) {
2 id: Int!
3 title: String
4 author: Author
5 votes: Int
6 comments: [Comment]
7 readByCurrentUser: Boolean!
8}
```

If another object type in this schema includes a field of type `Post` (or a list of `Post`s), that field's value is cached for a maximum of 240 seconds:
GraphQL
schema.graphql
copy
```
1type Comment {
2 post: Post! # Cached for up to 240 seconds
3 body: String!
4}
```

**Note that[field-level settings](https://www.apollographql.com/docs/apollo-server/performance/caching#field-level-definitions) override type-level settings.** In the following case, `Comment.post` is cached for a maximum of 120 seconds, _not_ 240 seconds:
GraphQL
schema.graphql
copy
```
1type Comment {
2 post: Post! @cacheControl(maxAge: 120)
3 body: String!
4}
```

### In your resolvers (dynamic)
You can decide how to cache a particular field's result _while_ you're resolving it. To support this, Apollo Server's [cache control plugin](https://www.apollographql.com/docs/apollo-server/api/plugin/cache-control) provides a `cacheControl` object in the [`info` parameter](https://www.apollographql.com/docs/apollo-server/data/resolvers/#resolver-arguments) that's passed to every resolver.
> If you set a field's cache hint in its resolver, it **overrides** any cache hint you [provided in your schema](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static).
#### `cacheControl.setCacheHint`
The `cacheControl` object includes a `setCacheHint` method, which you call like so:
TypeScript
copy
```
1import { cacheControlFromInfo } from '@apollo/cache-control-types';
2
3const resolvers = {
4 Query: {
5  post: (_, { id }, _, info) => {
6   // Access ApolloServerPluginCacheControl's extension of the GraphQLResolveInfo object
7   const cacheControl = cacheControlFromInfo(info)
8   cacheControl.setCacheHint({ maxAge: 60, scope: 'PRIVATE' });
9   return find(posts, { id });
10  },
11 },
12};
```

The `setCacheHint` method accepts an object with `maxAge` and `scope` fields.
#### `cacheControl.cacheHint`
This object represents the field's current cache hint. Its fields include the following:
  * The field's current `maxAge` and `scope` (which might have been set [statically](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static))
  * A `restrict` method, which is similar to `setCacheHint` but it can't _relax_ existing hint settings:
TypeScript
copy
```
1import { cacheControlFromInfo } from '@apollo/cache-control-types';
2
3// Access ApolloServerPluginCacheControl's extension of the GraphQLResolveInfo object
4const cacheControl = cacheControlFromInfo(info)
5
6// If we call this first...
7cacheControl.setCacheHint({ maxAge: 60, scope: 'PRIVATE' });
8
9// ...then this changes maxAge (more restrictive) but NOT scope (less restrictive)
10cacheControl.cacheHint.restrict({ maxAge: 30, scope: 'PUBLIC' });
```



#### `cacheControl.cacheHintFromType`
This method enables you to get the default cache hint for a particular object type. This can be useful when resolving a union or interface field, which might return one of multiple object types.
### Calculating cache behavior
For security, each operation response's cache behavior is calculated based on the _most restrictive_ cache hints among the result's fields:
  * The response's `maxAge` equals the lowest `maxAge` among all fields. If that value is `0`, the entire result is _not_ cached.
  * The response's `scope` is `PRIVATE` if _any_ field's `scope` is `PRIVATE`.


### Default `maxAge`
By default, the following schema fields have a `maxAge` of `0` _if you don't specify one_ :
  * **Root fields** (i.e., the fields of the `Query`, `Mutation`, and `Subscription` types)
    * Because _every_ GraphQL operation includes a root field, this means that by default, **no operation results are cached unless you set cache hints!**
  * **Fields that return a non- scalar type** (object, interface, or union) or a list of non-scalar types.


You can [customize this default](https://www.apollographql.com/docs/apollo-server/performance/caching#setting-a-different-default-maxage).
All other schema fields (i.e., **non-root fields that return scalar types**) instead inherit their default `maxAge` from their parent field.
#### Why are these the `maxAge` defaults?
Our philosophy behind Apollo Server caching is that a response should only be considered cacheable if every part of that response _opts in_ to being cacheable. At the same time, we don't think developers should have to specify cache hints for every single field in their schema.
So, we follow these heuristics:
  * Root field resolvers are extremely likely to fetch data (because these fields have no parent), so we set their default `maxAge` to `0` to avoid automatically caching data that _shouldn't_ be cached.
  * Resolvers for other non-scalar fields (objects, interfaces, and unions) _also_ commonly fetch data because they contain arbitrarily many fields. Consequently, we also set their default `maxAge` to `0`.
  * Resolvers for scalar, non-root fields _rarely_ fetch data and instead usually populate data via the `parent` argument. Consequently, these fields inherit their default `maxAge` from their parent to reduce schema clutter.


Of course, these heuristics aren't always correct! For example, the resolver for a non-root scalar field might indeed fetch remote data. You can always set your own cache hint for any field with an undesirable default behavior.
Ideally, you can provide a `maxAge` for every field with a resolver that actually fetches data from a data source (such as a database or REST API). _Most_ other fields can then inherit their cache hint from their parent (fields with resolvers that _don't_ fetch data less commonly have specific caching needs). For more on this, see [Recommended starting usage](https://www.apollographql.com/docs/apollo-server/performance/caching#recommended-starting-usage).
#### Setting a different default `maxAge`
You can set a default `maxAge` that's applied to fields that otherwise receive the [default `maxAge` of `0`](https://www.apollographql.com/docs/apollo-server/performance/caching#default-maxage).
> You should identify and address all exceptions to your default `maxAge` before you enable it in production, but this is a great way to get started with cache control.
Set your default `maxAge` by passing the cache control plugin to the `ApolloServer` constructor, like so:
TypeScript
copy
```
1import { ApolloServerPluginCacheControl } from '@apollo/server/plugin/cacheControl';
2
3const server = new ApolloServer({
4 // ...other options...
5 plugins: [ApolloServerPluginCacheControl({ defaultMaxAge: 5 })], // 5 seconds
6});
```

### Recommended starting usage
You usually don't need to specify cache hints for every field in your schema. Instead, we recommend doing the following as a starting point:
  * For fields that should _never_ be cached, explicitly set `maxAge` to `0`.
  * Set a `maxAge` for every field with a resolver that _actually fetches data from a data source_ (such as a database or REST API). You can base the value of `maxAge` on the frequency of updates that are made to the relevant data.
  * Set `inheritMaxAge: true` for each other non-root field that returns a non-scalar type.
    * Note that you can only set `inheritMaxAge` [statically](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static).


### Example `maxAge` calculations
Consider the following schema:
GraphQL
copy
```
1type Query {
2 book: Book
3 cachedBook: Book @cacheControl(maxAge: 60)
4 reader: Reader @cacheControl(maxAge: 40)
5}
6
7type Book {
8 title: String
9 cachedTitle: String @cacheControl(maxAge: 30)
10}
11
12type Reader {
13 book: Book @cacheControl(inheritMaxAge: true)
14}
```

Let's look at some queries and their resulting `maxAge` values:
GraphQL
copy
```
1# maxAge: 0
2# Query.book doesn't set a maxAge and it's a root field (default 0).
3query GetBookTitle {
4 book { # 0
5  cachedTitle # 30
6 }
7}
8
9# maxAge: 60
10# Query.cachedBook has a maxAge of 60, and Book.title is a scalar, so it
11# inherits maxAge from its parent by default.
12query GetCachedBookTitle {
13 cachedBook { # 60
14  title # inherits
15 }
16}
17
18# maxAge: 30
19# Query.cachedBook has a maxAge of 60, but Book.cachedTitle has
20# a maxAge of 30.
21query GetCachedBookCachedTitle {
22 cachedBook { # 60
23  cachedTitle # 30
24 }
25}
26
27# maxAge: 40
28# Query.reader has a maxAge of 40. Reader.Book is set to
29# inheritMaxAge from its parent, and Book.title is a scalar
30# that inherits maxAge from its parent by default.
31query GetReaderBookTitle {
32 reader { # 40
33  book { # inherits
34   title # inherits
35  }
36 }
37}
```

## Using with Federation
> Using cache control with Apollo Federation requires v0.1.0 of `@apollo/subgraph` in your subgraph as well as non-EOL versions of `@apollo/gateway` and Apollo Server.
When using [Apollo Federation](https://www.apollographql.com/docs/federation), the `@cacheControl` directive and `CacheControlScope` enum may be defined in a subgraph's schema. An Apollo Server-based subgraph will calculate and set the cache hint for the response that it sends to the gateway as it would for a non-federated Apollo Server sending a response to a client. The gateway will then calculate the cache hint for the overall response based on the most restrictive settings among all of the responses received from the subgraphs involved in query plan execution.
### Setting entity cache hints
Subgraph schemas contain an `_entities` root field on the `Query` type, so all query plans that require entity resolution will have a [`maxAge` of `0` set by default](https://www.apollographql.com/docs/apollo-server/performance/caching#default-maxage). To override this default behavior, you can add a `@cacheControl` directive to an entity's definition:
GraphQL
copy
```
1type Book @key(fields: "isbn") @cacheControl(maxAge: 30) {
2 isbn: String!
3 title: String
4}
```

When the `_entities` field is resolved it will check the applicable concrete type for a cache hint (which would be the `Book` type in the example above) and apply that hint instead.
To set cache hints dynamically, the [`cacheControl` object and its methods](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-resolvers-dynamic) are also available in the `info` parameter of the `__resolveReference` resolver.
### Overriding subgraph cache hints in the gateway
If a subgraph does not specify a `max-age`, the gateway will assume its response (and in turn, the overall response) cannot be cached. To override this behavior, you can set the `Cache-Control` header in the `didReceiveResponse` method of a `RemoteGraphQLDataSource`.
Additionally, if the gateway should ignore `Cache-Control` response headers from subgraphs that will affect the operation's cache policy, then you can set the `honorSubgraphCacheControlHeader` property of a `RemoteGraphQLDataSource` to `false` (this value is `true` by default):
TypeScript
copy
```
1const gateway = new ApolloGateway({
2 // ...
3 buildService({ url }) {
4  return new RemoteGraphQLDataSource({
5   url,
6   honorSubgraphCacheControlHeader: false;
7  });
8 }
9});
```

The effect of setting `honorSubgraphCacheControlHeader` to `false` is to have no impact on the cacheability of the response in either direction. In other words, this property wonâ€™t determine whether the response can be cached, but it does exclude a subgraph's `Cache-Control` header from consideration in the gateway's calculation. If all subgraphs are excluded from consideration when calculating the overall `Cache-Control` header, the response sent to the client will not be cached.
## Caching with a CDN
By default, Apollo Server sends a `Cache-Control` header with all responses that describes the response's cache policy.
When the response is cacheable, the header has this format:
Text
copy
```
1Cache-Control: max-age=60, private
```

When the response is not cacheable, the header has the value `Cache-Control: no-store`.
To be cacheable, all of the following must be true:
  * The operation has a non-zero `maxAge`.
  * The operation has a single response rather than an [incremental delivery](https://www.apollographql.com/docs/apollo-server/workflow/requests#incremental-delivery-experimental) response.
  * There are no errors in the response.


If you run Apollo Server behind a CDN or another caching proxy, you can configure it to use this header's value to cache responses appropriately. See your CDN's documentation for details (for example, here's the [documentation for Amazon CloudFront](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#expiration-individual-objects)).
Some CDNs require custom headers for caching or custom values in the `cache-control` header like `s-maxage`. You can configure your `ApolloServer` instance accordingly by telling the built-in cache control plugin to just calculate a policy without setting HTTP headers, and specifying your own [plugin](https://www.apollographql.com/docs/apollo-server/integrations/plugins):
TypeScript
copy
```
1new ApolloServer({
2 plugins: [
3  ApolloServerPluginCacheControl({ calculateHttpHeaders: false }),
4  {
5   async requestDidStart() {
6    return {
7     async willSendResponse(requestContext) {
8      const { response, overallCachePolicy } = requestContext;
9      const policyIfCacheable = overallCachePolicy.policyIfCacheable();
10      if (policyIfCacheable && !response.headers && response.http) {
11       response.http.headers.set(
12        'cache-control',
13        // ... or the values your CDN recommends
14        `max-age=0, s-maxage=${
15         overallCachePolicy.maxAge
16        }, ${policyIfCacheable.scope.toLowerCase()}`,
17       );
18      }
19     },
20    };
21   },
22  },
23 ],
24});
```

### Using GET requests
Because CDNs and caching proxies only cache GET requests (not POST requests, which Apollo Client sends for all operations by default), we recommend enabling [automatic persisted queries](https://www.apollographql.com/docs/apollo-server/performance/apq/) and the [`useGETForHashedQueries` option](https://www.apollographql.com/docs/apollo-server/performance/apq/) in Apollo Client.
Alternatively, you can set the `useGETForQueries` option of [HttpLink](https://www.apollographql.com/docs/react/api/link/apollo-link-http) in your `ApolloClient` instance. However, most browsers enforce a size limit on GET requests, and large query strings might exceed this limit.
## Disabling cache control
You can prevent Apollo Server from setting `Cache-Control` headers by installing the `ApolloServerPluginCacheControl` plugin yourself and setting `calculateHttpHeaders` to `false`:
TypeScript
copy
```
1import { ApolloServerPluginCacheControl } from '@apollo/server/plugin/cacheControl';
2
3const server = new ApolloServer({
4 // ...other options...
5 plugins: [ApolloServerPluginCacheControl({ calculateHttpHeaders: false })],
6});
```

If you do this, the cache control plugin still calculates caching behavior for each operation response. You can then use this information with other plugins (like the [response cache plugin](https://www.apollographql.com/docs/apollo-server/performance/caching#caching-with-responsecacheplugin-advanced)).
To disable cache control calculations entirely, instead install the `ApolloServerPluginCacheControlDisabled` plugin (this plugin has no effect other than preventing the cache control plugin from being installed):
TypeScript
copy
```
1import { ApolloServerPluginCacheControlDisabled } from '@apollo/server/plugin/disabled';
2
3const server = new ApolloServer({
4 // ...other options...
5 plugins: [ApolloServerPluginCacheControlDisabled()],
6});
```

## Caching with `responseCachePlugin` (advanced)
You can cache Apollo Server query responses in stores like Redis, Memcached, or Apollo Server's default in-memory cache. For more information, see [Configuring cache backends](https://www.apollographql.com/docs/apollo-server/performance/cache-backends).
### In-memory cache setup
To set up your in-memory response cache, you first import the `responseCachePlugin` and provide it to the `ApolloServer` constructor:
TypeScript
copy
```
1import responseCachePlugin from '@apollo/server-plugin-response-cache';
2
3const server = new ApolloServer({
4 // ...other options...
5 plugins: [responseCachePlugin()],
6});
```

On initialization, this plugin automatically begins caching responses according to [field settings](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static).
The plugin uses the same in-memory LRU cache as Apollo Server's other features. For environments with multiple server instances, you might instead want to use a shared cache backend, such as [Memcached or Redis](https://www.apollographql.com/docs/apollo-server/performance/cache-backends#configuring-external-caching).
> In addition to the [`Cache-Control` HTTP header](https://www.apollographql.com/docs/apollo-server/performance/caching#caching-with-a-cdn), the `responseCachePlugin` also sets the `Age` HTTP header to the number of seconds the returned value has been in the cache.
### Memcached/Redis setup
See [Configuring external caching](https://www.apollographql.com/docs/apollo-server/performance/cache-backends#configuring-external-caching).
> You can also [implement your own cache backend](https://www.apollographql.com/docs/apollo-server/performance/cache-backends#implementing-your-own-cache-backend).
### Identifying users for `PRIVATE` responses
If a cached response has a [`PRIVATE` scope](https://www.apollographql.com/docs/apollo-server/performance/caching#in-your-schema-static), its value is accessible by only a single user. To enforce this restriction, the cache needs to know how to _identify_ that user.
To enable this identification, you provide a `sessionId` function to your `responseCachePlugin`, like so:
TypeScript
copy
```
1import responseCachePlugin from '@apollo/server-plugin-response-cache';
2const server = new ApolloServer({
3 // ...other settings...
4 plugins: [
5  responseCachePlugin({
6   sessionId: (requestContext) =>
7    requestContext.request.http.headers.get('session-id') || null,
8  }),
9 ],
10});
```

> **Important:** If you don't define a `sessionId` function, `PRIVATE` responses are not cached at all.
The cache uses the return value of this function to identify the user who can later access the cached `PRIVATE` response. In the example above, the function uses a `session-id` header from the original operation request.
If a client later executes the exact same query _and_ has the same identifier, Apollo Server returns the `PRIVATE` cached response if it's still available.
### Separating responses for logged-in and logged-out users
By default, `PUBLIC` cached responses are accessible by all users. However, if you define a `sessionId` function ([as shown above](https://www.apollographql.com/docs/apollo-server/performance/caching#identifying-users-for-private-responses)), Apollo Server caches up to _two versions_ of each `PUBLIC` response:
  * One version for users with a **null`sessionId`**
  * One version for users with a **non-null`sessionId`**


This enables you to cache different responses for logged-in and logged-out users. For example, you might want your page header to display different menu items depending on a user's logged-in status.
### Configuring reads and writes
In addition to [the `sessionId` function](https://www.apollographql.com/docs/apollo-server/performance/caching#identifying-users-for-private-responses), you can provide the following functions to your `responseCachePlugin` to configure cache reads and writes. Each of these functions takes a `GraphQLRequestContext` (representing the incoming operation) as a parameter.
Function| Description  
---|---  
`extraCacheKeyData`| This function's return value (any JSON-stringifiable object) is added to the key for the cached response. For example, if your API includes translatable text, this function can return a string derived from `requestContext.request.http.headers.get('accept-language')`.  
`shouldReadFromCache`| If this function returns `false`, Apollo Server _skips_ the cache for the incoming operation, even if a valid response is available.  
`shouldWriteToCache`| If this function returns `false`, Apollo Server doesn't cache its response for the incoming operation, even if the response's `maxAge` is greater than `0`.  
`generateCacheKey`| Customize generation of the cache key. By default, this is the SHA256 hash of the JSON encoding of an object containing relevant data.  
[PreviousIntegration Testing](https://www.apollographql.com/docs/apollo-server/testing/testing)[NextConfiguring Cache Backends](https://www.apollographql.com/docs/apollo-server/performance/cache-backends)
Give FeedbackFeedback
[ Edit on GitHub ](https://github.com/apollographql/apollo-server/blob/main/docs/source/performance/caching.md) [ Ask Community ](https://community.apollographql.com/)
[ ](https://www.apollographql.com)
Â© 2025 Apollo Graph Inc., d/b/a Apollo GraphQL. 
[ Privacy Policy ](https://www.apollographql.com/privacy-policy)
## Company
  * [ About Apollo ](https://www.apollographql.com/about-us)
  * [ Careers ](https://www.apollographql.com/careers)
  * [ Partners ](https://www.apollographql.com/partners)


## Resources
  * [ Blog ](https://blog.apollographql.com)
  * [ Tutorials ](https://www.apollographql.com/tutorials)
  * [ Content Library ](https://www.apollographql.com/resources)


## Get in touch
  * [ Contact Sales ](https://www.apollographql.com/contact-sales)
  * [ Contact Support ](https://www.apollographql.com/support)


This website uses cookies to ensure you receive the best possible experience. [Learn More](https://www.apollographql.com/Apollo-Privacy-Policy.pdf)
Got It
## Privacy Preference Center
When you visit any website, it may store or retrieve information on your browser, mostly in the form of cookies. This information might be about you, your preferences or your device and is mostly used to make the site work as you expect it to. The information does not usually directly identify you, but it can give you a more personalized web experience. Because we respect your right to privacy, you can choose not to allow some types of cookies. Click on the different category headings to find out more and change our default settings. However, blocking some types of cookies may impact your experience of the site and the services we are able to offer. [More information](https://cookiepedia.co.uk/giving-consent-to-cookies)
Allow All
###  Manage Consent Preferences
#### Targeting Cookies
Targeting Cookies
These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.
#### Strictly Necessary Cookies
Always Active
These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.
#### Performance Cookies
Performance Cookies
These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.
#### Functional Cookies
Functional Cookies
These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. If you do not allow these cookies then some or all of these services may not function properly.
Back Button
### Performance Cookies
Search Icon
Filter Icon
Clear
checkbox label label
Apply Cancel
Consent Leg.Interest
checkbox label label
checkbox label label
checkbox label label
Reject All Confirm My Choices
[![Powered by Onetrust](https://cdn.cookielaw.org/logos/static/powered_by_logo.svg)](https://www.onetrust.com/products/cookie-consent/)


## Source Information
- URL: https://www.apollographql.com/docs/apollo-server/performance/caching/
- Harvested: 2025-08-19T14:10:41.351541
- Profile: deep_research
- Agent: architect
