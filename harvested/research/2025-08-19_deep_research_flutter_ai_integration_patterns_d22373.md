---
agent_context: architect
confidence: 0.95
harvested_at: '2025-08-19T11:48:21.410588'
profile: deep_research
source: https://docs.flutter.dev/packages-and-plugins/developing-packages
topic: Flutter AI integration patterns
---

# Flutter AI integration patterns

docs.flutter.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. [Learn more](https://policies.google.com/technologies/cookies).
OK, got it
[ Skip to main content ](https://docs.flutter.dev/packages-and-plugins/developing-packages#document-title)[ ![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg) Flutter Docs ](https://docs.flutter.dev/ "Go to the Flutter docs homepage")
[ search ](https://docs.flutter.dev/search "Navigate to the docs search page.")
routine
  * light_mode Light
  * dark_mode Dark
  * night_sight_auto Automatic


apps
  * [ ![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg) Flutter ](https://flutter.dev "Flutter homepage")
  * [ ![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg) Flutter Docs ](https://docs.flutter.dev/ "Flutter docs homepage")
  * [ ![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo/default.svg) Flutter API ](https://api.flutter.dev "Flutter API reference")
  * [ ![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg) Dart ](https://dart.dev "Dart homepage")
  * [ ![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg) DartPad ](https://dartpad.dev "DartPad playground")
  * [ ![Dart logo](https://docs.flutter.dev/assets/images/branding/dart/logo.svg) pub.dev ](https://pub.dev "pub.dev homepage")


[Get started](https://docs.flutter.dev/get-started/install/) menu close
  * Get started
  * [Set up Flutter](https://docs.flutter.dev/get-started/install)
  * Install Flutter expand_more
    * [Overview](https://docs.flutter.dev/install)
    * [Install with VS Code](https://docs.flutter.dev/install/with-vs-code)
    * [Install manually](https://docs.flutter.dev/install/manual)
    * [Upgrade SDK](https://docs.flutter.dev/install/upgrade)
    * [SDK archive](https://docs.flutter.dev/install/archive)
    * [Add to path](https://docs.flutter.dev/install/add-to-path)
    * [Troubleshoot](https://docs.flutter.dev/install/troubleshoot)
    * [Uninstall SDK](https://docs.flutter.dev/install/uninstall)
  * Learn Flutter expand_more
    * [Introduction](https://docs.flutter.dev/get-started/learn-flutter)
    * [Write your first app](https://docs.flutter.dev/get-started/codelab)
    * Learn the fundamentals expand_more
      * [Introduction](https://docs.flutter.dev/get-started/fundamentals)
      * [Intro to Dart](https://docs.flutter.dev/get-started/fundamentals/dart)
      * [Widgets](https://docs.flutter.dev/get-started/fundamentals/widgets)
      * [Layout](https://docs.flutter.dev/get-started/fundamentals/layout)
      * [State management](https://docs.flutter.dev/get-started/fundamentals/state-management)
      * [Handling user input](https://docs.flutter.dev/get-started/fundamentals/user-input)
      * [Networking and data](https://docs.flutter.dev/get-started/fundamentals/networking)
      * [Local data and caching](https://docs.flutter.dev/get-started/fundamentals/local-caching)
    * From another platform? expand_more
      * [Flutter for Android devs](https://docs.flutter.dev/get-started/flutter-for/android-devs)
      * [Flutter for Jetpack Compose devs](https://docs.flutter.dev/get-started/flutter-for/compose-devs)
      * [Flutter for SwiftUI devs](https://docs.flutter.dev/get-started/flutter-for/swiftui-devs)
      * [Flutter for UIKit devs](https://docs.flutter.dev/get-started/flutter-for/uikit-devs)
      * [Flutter for React Native devs](https://docs.flutter.dev/get-started/flutter-for/react-native-devs)
      * [Flutter for web devs](https://docs.flutter.dev/get-started/flutter-for/web-devs)
      * [Flutter for Xamarin.Forms devs](https://docs.flutter.dev/get-started/flutter-for/xamarin-forms-devs)
      * [Introduction to declarative UI](https://docs.flutter.dev/get-started/flutter-for/declarative)
      * [Flutter versus Swift concurrency](https://docs.flutter.dev/get-started/flutter-for/dart-swift-concurrency)
    * [Samples & tutorials](https://docs.flutter.dev/reference/learning-resources)
  * Stay up to date expand_more
    * [Release notes](https://docs.flutter.dev/release/release-notes)
    * [Breaking changes](https://docs.flutter.dev/release/breaking-changes)
    * [Compatibility policy](https://docs.flutter.dev/release/compatibility-policy)
    * [Medium publicationopen_in_new](https://medium.com/flutter)
    * [What's new in the docs](https://docs.flutter.dev/release/whats-new)
  * App solutions expand_more
    * Develop with Firebase expand_more
      * [Overview](https://docs.flutter.dev/data-and-backend/firebase)
      * [Discover Firebase for Flutteropen_in_new](https://firebase.google.com/docs/flutter)
      * [Get to know Firebase for Flutteropen_in_new](https://www.youtube.com/watch?v=wUSkeTaBonA)
      * [Add a user authentication flow to a Flutter app using FirebaseUIopen_in_new](https://firebase.google.com/codelabs/firebase-auth-in-flutter-apps)
      * [Get to know Firebase for webopen_in_new](https://firebase.google.com/codelabs/firebase-get-to-know-web)
    * Build multi-platform games expand_more
      * [Overview](https://docs.flutter.dev/resources/games-toolkit)
      * [Add achievements and leaderboards](https://docs.flutter.dev/cookbook/games/achievements-leaderboard)
      * [Build leaderboards with Firestoreopen_in_new](https://firebase.google.com/codelabs/build-leaderboards-with-firestore#0)
      * [Add advertising](https://docs.flutter.dev/cookbook/plugins/google-mobile-ads)
      * [Add multiplayer support](https://docs.flutter.dev/cookbook/games/firestore-multiplayer)
      * [Add in-app purchasesopen_in_new](https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases)
      * [Add user authenticationopen_in_new](https://firebase.google.com/codelabs/firebase-auth-in-flutter-apps)
      * [Debug using Crashlyticsopen_in_new](https://firebase.google.com/docs/crashlytics/get-started?platform=flutter)
      * [Intro to Flame with Flutteropen_in_new](https://codelabs.developers.google.com/codelabs/flutter-flame-brick-breaker)
    * Monetize your app expand_more
      * Integrate ads expand_more
        * [Ads overview](https://docs.flutter.dev/resources/ads-overview)
        * [Add advertising](https://docs.flutter.dev/cookbook/plugins/google-mobile-ads)
        * [Add AdMob ads to your Flutter appopen_in_new](https://codelabs.developers.google.com/codelabs/admob-ads-in-flutter)
        * [Add an AdMob banner and native inline adsopen_in_new](https://codelabs.developers.google.com/codelabs/admob-inline-ads-in-flutter)
        * [Integrate multimedia ads (video)open_in_new](https://www.youtube.com/watch?v=U8x5n6RwZOo)
        * [Google AdMob mediationopen_in_new](https://developers.google.com/admob/flutter/mediation)
        * [Interactive Media Ads SDKopen_in_new](https://pub.dev/packages/interactive_media_ads)
      * Support payments expand_more
        * [Payments overview](https://docs.flutter.dev/resources/payments-overview)
        * [Google pay packageopen_in_new](https://pub.dev/packages/pay)
      * [Add in-app purchasesopen_in_new](https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases)
    * Integrate maps expand_more
      * [Add Google maps to a Flutter appopen_in_new](https://codelabs.developers.google.com/codelabs/google-maps-in-flutter)
      * [Google Maps packageopen_in_new](https://developers.google.com/maps/flutter-package)
    * [Build a news app](https://docs.flutter.dev/resources/news-toolkit)
  * Create with AI expand_more
    * [Overview](https://docs.flutter.dev/ai/create-with-ai)
    * AI Toolkit expand_more
      * [Overview](https://docs.flutter.dev/ai-toolkit)
      * [User experience](https://docs.flutter.dev/ai-toolkit/user-experience)
      * [Feature integration](https://docs.flutter.dev/ai-toolkit/feature-integration)
      * [Custom LLM providers](https://docs.flutter.dev/ai-toolkit/custom-llm-providers)
      * [Chat client sample](https://docs.flutter.dev/ai-toolkit/chat-client-sample)
    * [Vertex AI in Firebaseopen_in_new](https://firebase.google.com/docs/vertex-ai/get-started?platform=flutter)
  * User interface
  * [Introduction](https://docs.flutter.dev/ui)
  * [Widget catalog](https://docs.flutter.dev/ui/widgets)
  * Layout expand_more
    * [Introduction](https://docs.flutter.dev/ui/layout)
    * [Build a layout](https://docs.flutter.dev/ui/layout/tutorial)
    * Lists & grids expand_more
      * [Create and use lists](https://docs.flutter.dev/cookbook/lists/basic-list)
      * [Create a horizontal list](https://docs.flutter.dev/cookbook/lists/horizontal-list)
      * [Create a grid view](https://docs.flutter.dev/cookbook/lists/grid-lists)
      * [Create lists with different types of items](https://docs.flutter.dev/cookbook/lists/mixed-list)
      * [Create lists with spaced items](https://docs.flutter.dev/cookbook/lists/spaced-items)
      * [Work with long lists](https://docs.flutter.dev/cookbook/lists/long-lists)
    * Scrolling expand_more
      * [Overview](https://docs.flutter.dev/ui/layout/scrolling)
      * [Use slivers to achieve fancy scrolling](https://docs.flutter.dev/ui/layout/scrolling/slivers)
      * [Place a floating app bar above a list](https://docs.flutter.dev/cookbook/lists/floating-app-bar)
      * [Create a scrolling parallax effect](https://docs.flutter.dev/cookbook/effects/parallax-scrolling)
  * Adaptive & responsive design expand_more
    * [Overview](https://docs.flutter.dev/ui/adaptive-responsive)
    * [General approach](https://docs.flutter.dev/ui/adaptive-responsive/general)
    * [SafeArea & MediaQuery](https://docs.flutter.dev/ui/adaptive-responsive/safearea-mediaquery)
    * [Large screens & foldables](https://docs.flutter.dev/ui/adaptive-responsive/large-screens)
    * [User input & accessibility](https://docs.flutter.dev/ui/adaptive-responsive/input)
    * [Capabilities & policies](https://docs.flutter.dev/ui/adaptive-responsive/capabilities)
    * [Automatic platform adaptations](https://docs.flutter.dev/ui/adaptive-responsive/platform-adaptations)
    * [Best practices](https://docs.flutter.dev/ui/adaptive-responsive/best-practices)
    * [Additional resources](https://docs.flutter.dev/ui/adaptive-responsive/more-info)
  * Design & theming expand_more
    * [Share styles with themes](https://docs.flutter.dev/cookbook/design/themes)
    * [Material design](https://docs.flutter.dev/ui/design/material)
    * [Migrate to Material 3](https://docs.flutter.dev/release/breaking-changes/material-3-migration)
    * Text expand_more
      * [Fonts & typography](https://docs.flutter.dev/ui/design/text/typography)
      * [Use a custom font](https://docs.flutter.dev/cookbook/design/fonts)
      * [Export fonts from a package](https://docs.flutter.dev/cookbook/design/package-fonts)
      * [Google Fonts packageopen_in_new](https://pub.dev/packages/google_fonts)
    * Custom graphics expand_more
      * [Use custom fragment shaders](https://docs.flutter.dev/ui/design/graphics/fragment-shaders)
  * Interactivity expand_more
    * [Add interactivity to your app](https://docs.flutter.dev/ui/interactivity)
    * Gestures expand_more
      * [Introduction](https://docs.flutter.dev/ui/interactivity/gestures)
      * [Handle taps](https://docs.flutter.dev/cookbook/gestures/handling-taps)
      * [Drag an object outside an app](https://docs.flutter.dev/ui/interactivity/gestures/drag-outside)
      * [Drag a UI element within an app](https://docs.flutter.dev/cookbook/effects/drag-a-widget)
      * [Add Material touch ripples](https://docs.flutter.dev/cookbook/gestures/ripples)
      * [Implement swipe to dismiss](https://docs.flutter.dev/cookbook/gestures/dismissible)
    * Input & forms expand_more
      * [Create and style a text field](https://docs.flutter.dev/cookbook/forms/text-input)
      * [Retrieve the value of a text field](https://docs.flutter.dev/cookbook/forms/retrieve-input)
      * [Handle changes to a text field](https://docs.flutter.dev/cookbook/forms/text-field-changes)
      * [Manage focus in text fields](https://docs.flutter.dev/cookbook/forms/focus)
      * [Build a form with validation](https://docs.flutter.dev/cookbook/forms/validation)
    * [Display a snackbar](https://docs.flutter.dev/cookbook/design/snackbars)
    * [Implement actions & shortcuts](https://docs.flutter.dev/ui/interactivity/actions-and-shortcuts)
    * [Manage keyboard focus](https://docs.flutter.dev/ui/interactivity/focus)
  * Assets & media expand_more
    * [Add assets and images](https://docs.flutter.dev/ui/assets/assets-and-images)
    * [Display images from the internet](https://docs.flutter.dev/cookbook/images/network-image)
    * [Fade in images with a placeholder](https://docs.flutter.dev/cookbook/images/fading-in-images)
    * [Play and pause a video](https://docs.flutter.dev/cookbook/plugins/play-video)
    * [Transform assets at build time](https://docs.flutter.dev/ui/assets/asset-transformation)
  * Navigation & routing expand_more
    * [Overview](https://docs.flutter.dev/ui/navigation)
    * [Add tabs to your app](https://docs.flutter.dev/cookbook/design/tabs)
    * [Navigate to a new screen and back](https://docs.flutter.dev/cookbook/navigation/navigation-basics)
    * [Send data to a new screen](https://docs.flutter.dev/cookbook/navigation/passing-data)
    * [Return data from a screen](https://docs.flutter.dev/cookbook/navigation/returning-data)
    * [Add a drawer to a screen](https://docs.flutter.dev/cookbook/design/drawer)
    * [Set up deep linking](https://docs.flutter.dev/ui/navigation/deep-linking)
    * [Set up app links for Android](https://docs.flutter.dev/cookbook/navigation/set-up-app-links)
    * [Set up universal links for iOS](https://docs.flutter.dev/cookbook/navigation/set-up-universal-links)
    * [Configure web URL strategies](https://docs.flutter.dev/ui/navigation/url-strategies)
  * Animations & transitions expand_more
    * [Introduction](https://docs.flutter.dev/ui/animations)
    * [Tutorial](https://docs.flutter.dev/ui/animations/tutorial)
    * [Implicit animations](https://docs.flutter.dev/ui/animations/implicit-animations)
    * [Animate the properties of a container](https://docs.flutter.dev/cookbook/animation/animated-container)
    * [Fade a widget in and out](https://docs.flutter.dev/cookbook/animation/opacity-animation)
    * [Hero animations](https://docs.flutter.dev/ui/animations/hero-animations)
    * [Animate a page route transition](https://docs.flutter.dev/cookbook/animation/page-route-animation)
    * [Animate using a physics simulation](https://docs.flutter.dev/cookbook/animation/physics-simulation)
    * [Staggered animations](https://docs.flutter.dev/ui/animations/staggered-animations)
    * [Create a staggered menu animation](https://docs.flutter.dev/cookbook/effects/staggered-menu-animation)
    * [API overview](https://docs.flutter.dev/ui/animations/overview)
  * Accessibility & internationalization expand_more
    * [Accessibility](https://docs.flutter.dev/ui/accessibility-and-internationalization/accessibility)
    * [Internationalization](https://docs.flutter.dev/ui/accessibility-and-internationalization/internationalization)
  * Beyond UI
  * Data & backend expand_more
    * State management expand_more
      * [Introduction](https://docs.flutter.dev/data-and-backend/state-mgmt/intro)
      * [Think declaratively](https://docs.flutter.dev/data-and-backend/state-mgmt/declarative)
      * [Ephemeral vs app state](https://docs.flutter.dev/data-and-backend/state-mgmt/ephemeral-vs-app)
      * [Simple app state management](https://docs.flutter.dev/data-and-backend/state-mgmt/simple)
      * [Options](https://docs.flutter.dev/data-and-backend/state-mgmt/options)
    * Networking & http expand_more
      * [Overview](https://docs.flutter.dev/data-and-backend/networking)
      * [Fetch data from the internet](https://docs.flutter.dev/cookbook/networking/fetch-data)
      * [Make authenticated requests](https://docs.flutter.dev/cookbook/networking/authenticated-requests)
      * [Send data to the internet](https://docs.flutter.dev/cookbook/networking/send-data)
      * [Update data over the internet](https://docs.flutter.dev/cookbook/networking/update-data)
      * [Delete data on the internet](https://docs.flutter.dev/cookbook/networking/delete-data)
      * [Communicate with WebSockets](https://docs.flutter.dev/cookbook/networking/web-sockets)
    * Serialization expand_more
      * [JSON serialization](https://docs.flutter.dev/data-and-backend/serialization/json)
      * [Parse JSON in the background](https://docs.flutter.dev/cookbook/networking/background-parsing)
    * Persistence expand_more
      * [Store key-value data on disk](https://docs.flutter.dev/cookbook/persistence/key-value)
      * [Read and write files](https://docs.flutter.dev/cookbook/persistence/reading-writing-files)
      * [Persist data with SQLite](https://docs.flutter.dev/cookbook/persistence/sqlite)
    * Firebase expand_more
      * [Overview](https://docs.flutter.dev/data-and-backend/firebase)
      * [Add Firebase to your Flutter appopen_in_new](https://firebase.google.com/docs/flutter/setup)
    * [Google APIs](https://docs.flutter.dev/data-and-backend/google-apis)
  * App architecture expand_more
    * [Introduction](https://docs.flutter.dev/app-architecture)
    * [Architecture concepts](https://docs.flutter.dev/app-architecture/concepts)
    * [Guide to app architecture](https://docs.flutter.dev/app-architecture/guide)
    * Architecture case study expand_more
      * [Overview](https://docs.flutter.dev/app-architecture/case-study)
      * [UI layer](https://docs.flutter.dev/app-architecture/case-study/ui-layer)
      * [Data layer](https://docs.flutter.dev/app-architecture/case-study/data-layer)
      * [Dependency injection](https://docs.flutter.dev/app-architecture/case-study/dependency-injection)
      * [Testing each layer](https://docs.flutter.dev/app-architecture/case-study/testing)
    * [Recommendations](https://docs.flutter.dev/app-architecture/recommendations)
    * [Design patterns](https://docs.flutter.dev/app-architecture/design-patterns)
  * Platform integration expand_more
    * [Supported platforms](https://docs.flutter.dev/reference/supported-platforms)
    * [Build desktop apps with Flutter](https://docs.flutter.dev/platform-integration/desktop)
    * [Write platform-specific code](https://docs.flutter.dev/platform-integration/platform-channels)
    * Android expand_more
      * [Set up Android development](https://docs.flutter.dev/platform-integration/android/setup)
      * [Add a splash screen](https://docs.flutter.dev/platform-integration/android/splash-screen)
      * [Add predictive back](https://docs.flutter.dev/platform-integration/android/predictive-back)
      * [Bind to native code](https://docs.flutter.dev/platform-integration/android/c-interop)
      * [Host a native Android view](https://docs.flutter.dev/platform-integration/android/platform-views)
      * [Calling JetPack APIs](https://docs.flutter.dev/platform-integration/android/call-jetpack-apis)
      * [Launch a Jetpack Compose activity](https://docs.flutter.dev/platform-integration/android/compose-activity)
      * [Restore state on Android](https://docs.flutter.dev/platform-integration/android/restore-state-android)
      * [Target ChromeOS with Android](https://docs.flutter.dev/platform-integration/android/chromeos)
      * [Protect your app's sensitive content](https://docs.flutter.dev/platform-integration/android/sensitive-content)
    * iOS expand_more
      * [Set up iOS development](https://docs.flutter.dev/platform-integration/ios/setup)
      * [Flutter on latest iOS](https://docs.flutter.dev/platform-integration/ios/ios-latest)
      * [Leverage Apple's system libraries](https://docs.flutter.dev/platform-integration/ios/apple-frameworks)
      * [Add a launch screen](https://docs.flutter.dev/platform-integration/ios/launch-screen)
      * [Add iOS App Clip support](https://docs.flutter.dev/platform-integration/ios/ios-app-clip)
      * [Add iOS app extensions](https://docs.flutter.dev/platform-integration/ios/app-extensions)
      * [Bind to native code](https://docs.flutter.dev/platform-integration/ios/c-interop)
      * [Host a native iOS view](https://docs.flutter.dev/platform-integration/ios/platform-views)
      * [Enable debugging on iOS](https://docs.flutter.dev/platform-integration/ios/ios-debugging)
      * [Restore state on iOS](https://docs.flutter.dev/platform-integration/ios/restore-state-ios)
    * Linux expand_more
      * [Set up Linux development](https://docs.flutter.dev/platform-integration/linux/setup)
      * [Build a Linux app](https://docs.flutter.dev/platform-integration/linux/building)
    * macOS expand_more
      * [Set up macOS development](https://docs.flutter.dev/platform-integration/macos/setup)
      * [Build a macOS app](https://docs.flutter.dev/platform-integration/macos/building)
      * [Bind to native code](https://docs.flutter.dev/platform-integration/macos/c-interop)
      * [Host a native macOS view](https://docs.flutter.dev/platform-integration/macos/platform-views)
    * Web expand_more
      * [Web support in Flutter](https://docs.flutter.dev/platform-integration/web)
      * [Set up web development](https://docs.flutter.dev/platform-integration/web/setup)
      * [Build a web app](https://docs.flutter.dev/platform-integration/web/building)
      * [Compile to WebAssembly](https://docs.flutter.dev/platform-integration/web/wasm)
      * [Customize app initialization](https://docs.flutter.dev/platform-integration/web/initialization)
      * [Add Flutter to any web app](https://docs.flutter.dev/platform-integration/web/embedding-flutter-web)
      * [Web content in Flutter](https://docs.flutter.dev/platform-integration/web/web-content-in-flutter)
      * [Web renderers](https://docs.flutter.dev/platform-integration/web/renderers)
      * [Display images on the web](https://docs.flutter.dev/platform-integration/web/web-images)
      * [Web FAQ](https://docs.flutter.dev/platform-integration/web/faq)
    * Windows expand_more
      * [Set up Windows development](https://docs.flutter.dev/platform-integration/windows/setup)
      * [Build a Windows app](https://docs.flutter.dev/platform-integration/windows/building)
  * Packages & plugins expand_more
    * [Use packages & plugins](https://docs.flutter.dev/packages-and-plugins/using-packages)
    * [Develop packages & plugins](https://docs.flutter.dev/packages-and-plugins/developing-packages)
    * Swift Package Manager expand_more
      * [For app developers](https://docs.flutter.dev/packages-and-plugins/swift-package-manager/for-app-developers)
      * [For plugin authors](https://docs.flutter.dev/packages-and-plugins/swift-package-manager/for-plugin-authors)
    * [Flutter Favorites](https://docs.flutter.dev/packages-and-plugins/favorites)
    * [Package repositoryopen_in_new](https://pub.dev/flutter)
  * Testing & debugging expand_more
    * Testing
    * [Overview](https://docs.flutter.dev/testing/overview)
    * Unit testing expand_more
      * [Introduction](https://docs.flutter.dev/cookbook/testing/unit/introduction)
      * [Mock dependencies](https://docs.flutter.dev/cookbook/testing/unit/mocking)
    * Widget testing expand_more
      * [Introduction](https://docs.flutter.dev/cookbook/testing/widget/introduction)
      * [Find widgets](https://docs.flutter.dev/cookbook/testing/widget/finders)
      * [Simulate scrolling](https://docs.flutter.dev/cookbook/testing/widget/scrolling)
      * [Simulate user interaction](https://docs.flutter.dev/cookbook/testing/widget/tap-drag)
    * Integration testing expand_more
      * [Introduction](https://docs.flutter.dev/cookbook/testing/integration/introduction)
      * [Write and run an integration test](https://docs.flutter.dev/testing/integration-tests)
      * [Profile an integration test](https://docs.flutter.dev/cookbook/testing/integration/profiling)
    * [Test a plugin](https://docs.flutter.dev/testing/testing-plugins)
    * [Handle plugin code in tests](https://docs.flutter.dev/testing/plugins-in-tests)
    * Debugging
    * [Debugging tools](https://docs.flutter.dev/testing/debugging)
    * [Debug your app programmatically](https://docs.flutter.dev/testing/code-debugging)
    * [Use a native language debugger](https://docs.flutter.dev/testing/native-debugging)
    * [Common Flutter errors](https://docs.flutter.dev/testing/common-errors)
    * [Handle errors](https://docs.flutter.dev/testing/errors)
    * [Report errors to a service](https://docs.flutter.dev/cookbook/maintenance/error-reporting)
  * Performance & optimization expand_more
    * [Overview](https://docs.flutter.dev/perf)
    * [Impeller](https://docs.flutter.dev/perf/impeller)
    * [Performance best practices](https://docs.flutter.dev/perf/best-practices)
    * [App size](https://docs.flutter.dev/perf/app-size)
    * [Deferred components](https://docs.flutter.dev/perf/deferred-components)
    * [Rendering performance](https://docs.flutter.dev/perf/rendering-performance)
    * [Performance profiling](https://docs.flutter.dev/perf/ui-performance)
    * [Performance profiling for web](https://docs.flutter.dev/perf/web-performance)
    * [Performance metrics](https://docs.flutter.dev/perf/metrics)
    * [Concurrency and isolates](https://docs.flutter.dev/perf/isolates)
    * [Performance FAQ](https://docs.flutter.dev/perf/faq)
    * [Appendix](https://docs.flutter.dev/perf/appendix)
  * Deployment expand_more
    * [Obfuscate Dart code](https://docs.flutter.dev/deployment/obfuscate)
    * [Create app flavors for Android](https://docs.flutter.dev/deployment/flavors)
    * [Create app flavors for iOS and macOS](https://docs.flutter.dev/deployment/flavors-ios)
    * [Build and release an Android app](https://docs.flutter.dev/deployment/android)
    * [Build and release an iOS app](https://docs.flutter.dev/deployment/ios)
    * [Build and release a macOS app](https://docs.flutter.dev/deployment/macos)
    * [Build and release a Linux app](https://docs.flutter.dev/deployment/linux)
    * [Build and release a Windows app](https://docs.flutter.dev/deployment/windows)
    * [Build and release a web app](https://docs.flutter.dev/deployment/web)
    * [Set up continuous deployment](https://docs.flutter.dev/deployment/cd)
  * Add to an existing app expand_more
    * [Introduction](https://docs.flutter.dev/add-to-app)
    * Add to an Android app expand_more
      * [Set up Android project](https://docs.flutter.dev/add-to-app/android/project-setup)
      * [Add a single Flutter screen](https://docs.flutter.dev/add-to-app/android/add-flutter-screen)
      * [Add a Flutter Fragment](https://docs.flutter.dev/add-to-app/android/add-flutter-fragment)
      * [Add a Flutter View](https://docs.flutter.dev/add-to-app/android/add-flutter-view)
      * [Use a Flutter plugin](https://docs.flutter.dev/add-to-app/android/plugin-setup)
    * Add to an iOS app expand_more
      * [Set up iOS project](https://docs.flutter.dev/add-to-app/ios/project-setup)
      * [Add a single Flutter screen](https://docs.flutter.dev/add-to-app/ios/add-flutter-screen)
    * [Add to a web app](https://docs.flutter.dev/platform-integration/web/embedding-flutter-web)
    * [Debug embedded Flutter module](https://docs.flutter.dev/add-to-app/debugging)
    * [Add multiple Flutter instances](https://docs.flutter.dev/add-to-app/multiple-flutters)
    * [Loading sequence and performance](https://docs.flutter.dev/add-to-app/performance)
  * Tools & editors expand_more
    * [Android Studio & IntelliJ](https://docs.flutter.dev/tools/android-studio)
    * [Visual Studio Code](https://docs.flutter.dev/tools/vs-code)
    * DevTools expand_more
      * [Overview](https://docs.flutter.dev/tools/devtools)
      * [Run from Android Studio & IntelliJ](https://docs.flutter.dev/tools/devtools/android-studio)
      * [Run from VS Code](https://docs.flutter.dev/tools/devtools/vscode)
      * [Run from command line](https://docs.flutter.dev/tools/devtools/cli)
      * [Flutter inspector](https://docs.flutter.dev/tools/devtools/inspector)
      * [Legacy Flutter inspector](https://docs.flutter.dev/tools/devtools/legacy-inspector)
      * [Performance view](https://docs.flutter.dev/tools/devtools/performance)
      * [CPU Profiler view](https://docs.flutter.dev/tools/devtools/cpu-profiler)
      * [Memory view](https://docs.flutter.dev/tools/devtools/memory)
      * [Debug console view](https://docs.flutter.dev/tools/devtools/console)
      * [Network view](https://docs.flutter.dev/tools/devtools/network)
      * [Debugger](https://docs.flutter.dev/tools/devtools/debugger)
      * [Logging view](https://docs.flutter.dev/tools/devtools/logging)
      * [App size tool](https://docs.flutter.dev/tools/devtools/app-size)
      * [DevTools extensions](https://docs.flutter.dev/tools/devtools/extensions)
      * [Validate deep links](https://docs.flutter.dev/tools/devtools/deep-links)
      * [Release notes](https://docs.flutter.dev/tools/devtools/release-notes)
    * [Flutter Widget Previewer](https://docs.flutter.dev/tools/widget-previewer)
    * [Flutter Property Editor](https://docs.flutter.dev/tools/property-editor)
    * [SDK overview](https://docs.flutter.dev/tools/sdk)
    * [Flutter's pubspec options](https://docs.flutter.dev/tools/pubspec)
    * [Automated fixes](https://docs.flutter.dev/tools/flutter-fix)
    * [Code formatting](https://docs.flutter.dev/tools/formatting)
  * Flutter concepts expand_more
    * [Architectural overview](https://docs.flutter.dev/resources/architectural-overview)
    * [Inside Flutter](https://docs.flutter.dev/resources/inside-flutter)
    * [Understanding constraints](https://docs.flutter.dev/ui/layout/constraints)
    * [Flutter's build modes](https://docs.flutter.dev/testing/build-modes)
    * [Hot reload](https://docs.flutter.dev/tools/hot-reload)
  * Resources expand_more
    * [FAQ](https://docs.flutter.dev/resources/faq)
    * [Books](https://docs.flutter.dev/resources/books)
    * [Videos](https://docs.flutter.dev/resources/videos)
    * [Courses](https://docs.flutter.dev/resources/courses)
    * [Learn Dart](https://docs.flutter.dev/resources/bootstrap-into-dart)
    * [Get support](https://docs.flutter.dev/resources/support)
    * Contribute expand_more
      * [Contribute to Flutter](https://docs.flutter.dev/contribute)
      * [Create useful bug reports](https://docs.flutter.dev/resources/bug-reports)
      * [Discover proposed features](https://docs.flutter.dev/resources/design-docs)
    * Reference expand_more
      * [Who is Dash?](https://docs.flutter.dev/dash)
      * [Widget index](https://docs.flutter.dev/reference/widgets)
      * [Create a new app](https://docs.flutter.dev/reference/create-new-app)
      * [flutter CLI](https://docs.flutter.dev/reference/flutter-cli)
      * [API docsopen_in_new](https://api.flutter.dev)


list On this page chevron_right Web
[ vertical_align_top Developing packages & plugins ](https://docs.flutter.dev/packages-and-plugins/developing-packages#document-title)
  * [Package introduction](https://docs.flutter.dev/packages-and-plugins/developing-packages#package-introduction)
    * [Package types](https://docs.flutter.dev/packages-and-plugins/developing-packages#types)
  * [Developing Dart packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package)
    * [Step 2: Implement the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-implement-the-package)
  * [Developing plugin packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin)
    * [Federated plugins](https://docs.flutter.dev/packages-and-plugins/developing-packages#federated-plugins)
    * [Specifying a plugin's supported platforms](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-platforms)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-1)
    * [Step 2: Implement the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#edit-plugin-package)
    * [Add support for platforms in an existing plugin project](https://docs.flutter.dev/packages-and-plugins/developing-packages#add-support-for-platforms-in-an-existing-plugin-project)
    * [Dart platform implementations](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart-platform-implementations)
    * [Testing your plugin](https://docs.flutter.dev/packages-and-plugins/developing-packages#testing-your-plugin)
  * [Developing FFI plugin packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-ffi)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-2)
    * [Step 2: Building and bundling native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-building-and-bundling-native-code)
    * [Step 3: Binding to native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-3-binding-to-native-code)
    * [Step 4: Invoking native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-4-invoking-native-code)
  * [Adding documentation](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-documentation)
    * [API documentation](https://docs.flutter.dev/packages-and-plugins/developing-packages#api-documentation)
    * [Adding licenses to the LICENSE file](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-licenses-to-the-license-file)
  * [Publishing your package](https://docs.flutter.dev/packages-and-plugins/developing-packages#publish)
  * [Handling package interdependencies](https://docs.flutter.dev/packages-and-plugins/developing-packages#dependencies)
    * [Android](https://docs.flutter.dev/packages-and-plugins/developing-packages#android)
    * [iOS](https://docs.flutter.dev/packages-and-plugins/developing-packages#ios)
    * [Web](https://docs.flutter.dev/packages-and-plugins/developing-packages#web)


Flutter 3.35 has landed! Get ready for a performance boost and stateful hot reload on the web. [Learn more](https://medium.com/flutter/whats-new-in-flutter-3-35-c58ef72e3766)
list On this page
  * [Package introduction](https://docs.flutter.dev/packages-and-plugins/developing-packages#package-introduction)
    * [Package types](https://docs.flutter.dev/packages-and-plugins/developing-packages#types)
  * [Developing Dart packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package)
    * [Step 2: Implement the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-implement-the-package)
  * [Developing plugin packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin)
    * [Federated plugins](https://docs.flutter.dev/packages-and-plugins/developing-packages#federated-plugins)
    * [Specifying a plugin's supported platforms](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-platforms)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-1)
    * [Step 2: Implement the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#edit-plugin-package)
    * [Add support for platforms in an existing plugin project](https://docs.flutter.dev/packages-and-plugins/developing-packages#add-support-for-platforms-in-an-existing-plugin-project)
    * [Dart platform implementations](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart-platform-implementations)
    * [Testing your plugin](https://docs.flutter.dev/packages-and-plugins/developing-packages#testing-your-plugin)
  * [Developing FFI plugin packages](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-ffi)
    * [Step 1: Create the package](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-2)
    * [Step 2: Building and bundling native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-building-and-bundling-native-code)
    * [Step 3: Binding to native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-3-binding-to-native-code)
    * [Step 4: Invoking native code](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-4-invoking-native-code)
  * [Adding documentation](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-documentation)
    * [API documentation](https://docs.flutter.dev/packages-and-plugins/developing-packages#api-documentation)
    * [Adding licenses to the LICENSE file](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-licenses-to-the-license-file)
  * [Publishing your package](https://docs.flutter.dev/packages-and-plugins/developing-packages#publish)
  * [Handling package interdependencies](https://docs.flutter.dev/packages-and-plugins/developing-packages#dependencies)
    * [Android](https://docs.flutter.dev/packages-and-plugins/developing-packages#android)
    * [iOS](https://docs.flutter.dev/packages-and-plugins/developing-packages#ios)
    * [Web](https://docs.flutter.dev/packages-and-plugins/developing-packages#web)


# Developing packages & plugins
  1. [ Packages & plugins ](https://docs.flutter.dev/packages-and-plugins)chevron_right
  2. [ Developing ](https://docs.flutter.dev/packages-and-plugins/developing-packages)


## Package introduction
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#package-introduction)
Packages enable the creation of modular code that can be shared easily. A minimal package consists of the following:

**`pubspec.yaml`**
    A metadata file that declares the package name, version, author, and so on.

**`lib`**
    The`lib` directory contains the public code in the package, minimally a single `<package-name>.dart` file.
_info_ Note
For a list of dos and don'ts when writing an effective plugin, see the Medium article by Mehmet Fidanboylu, [Writing a good plugin](https://medium.com/flutter/writing-a-good-flutter-plugin-1a561b986c9c).
### Package types
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#types)
Packages can contain more than one kind of content:

**Dart packages**
    
General packages written in Dart, for example the [`path`](https://pub.dev/packages/path) package. Some of these might contain Flutter specific functionality and thus have a dependency on the Flutter framework, restricting their use to Flutter only, for example the [`fluro`](https://pub.dev/packages/fluro) package.

**Plugin packages**
    
A specialized Dart package that contains an API written in Dart code combined with one or more platform-specific implementations.
Plugin packages can be written for Android (using Kotlin or Java), iOS (using Swift or Objective-C), web, macOS, Windows, or Linux, or any combination thereof.
A concrete example is the [`url_launcher`](https://pub.dev/packages/url_launcher) plugin package. To see how to use the `url_launcher` package, and how it was extended to implement support for web, see the Medium article by Harry Terkelsen, [How to Write a Flutter Web Plugin, Part 1](https://medium.com/flutter/how-to-write-a-flutter-web-plugin-5e26c689ea1).

**FFI Plugin packages**
    
A specialized Dart package that contains an API written in Dart code combined with one or more platform-specific implementations that use Dart FFI([Android](https://docs.flutter.dev/platform-integration/android/c-interop), [iOS](https://docs.flutter.dev/platform-integration/ios/c-interop), [macOS](https://docs.flutter.dev/platform-integration/macos/c-interop)).
## Developing Dart packages
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart)
The following instructions explain how to write a Flutter package.
### Step 1: Create the package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package)
To create a starter Flutter package, use the `--template=package` flag with `flutter create`:
```
flutter create --template=package hello
```

content_copy
This creates a package project in the `hello` folder with the following content:

**LICENSE**
     A (mostly) empty license text file.

**test/hello_test.dart**
     The [unit tests](https://docs.flutter.dev/testing/overview#unit-tests) for the package.

**hello.iml**
     A configuration file used by the IntelliJ IDEs.

**.gitignore**
     A hidden file that tells Git which files or folders to ignore in a project.

**.metadata**
     A hidden file used by IDEs to track the properties of the Flutter project.

**pubspec.yaml**
     A yaml file containing metadata that specifies the package's dependencies. Used by the pub tool.

**README.md**
     A starter markdown file that briefly describes the package's purpose.

**lib/hello.dart**
     A starter app containing Dart code for the package.

**.idea/modules.xml** , **.idea/workspace.xml**
     A hidden folder containing configuration files for the IntelliJ IDEs.

**CHANGELOG.md**
     A (mostly) empty markdown file for tracking version changes to the package.
### Step 2: Implement the package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-implement-the-package)
For pure Dart packages, simply add the functionality inside the main `lib/<package name>.dart` file, or in several files in the `lib` directory.
To test the package, add [unit tests](https://docs.flutter.dev/testing/overview#unit-tests) in a `test` directory.
For additional details on how to organize the package contents, see the [Dart library package](https://dart.dev/guides/libraries/create-library-packages) documentation.
## Developing plugin packages
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin)
If you want to develop a package that calls into platform-specific APIs, you need to develop a plugin package.
The API is connected to the platform-specific implementation(s) using a [platform channel](https://docs.flutter.dev/platform-integration/platform-channels).
### Federated plugins
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#federated-plugins)
Federated plugins are a way of splitting support for different platforms into separate packages. So, a federated plugin can use one package for iOS, another for Android, another for web, and yet another for a car (as an example of an IoT device). Among other benefits, this approach allows a domain expert to extend an existing plugin to work for the platform they know best.
A federated plugin requires the following packages:

**app-facing package**
     The package that plugin users depend on to use the plugin. This package specifies the API used by the Flutter app.

**platform package(s)**
     One or more packages that contain the platform-specific implementation code. The app-facing package calls into these packagesâ€”they aren't included into an app, unless they contain platform-specific functionality accessible to the end user.

**platform interface package**
     The package that glues the app-facing package to the platform package(s). This package declares an interface that any platform package must implement to support the app-facing package. Having a single package that defines this interface ensures that all platform packages implement the same functionality in a uniform way.
#### Endorsed federated plugin
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#endorsed-federated-plugin)
Ideally, when adding a platform implementation to a federated plugin, you will coordinate with the package author to include your implementation. In this way, the original author _endorses_ your implementation.
For example, say you write a `foobar_windows` implementation for the (imaginary) `foobar` plugin. In an endorsed plugin, the original `foobar` author adds your Windows implementation as a dependency in the pubspec for the app-facing package. Then, when a developer includes the `foobar` plugin in their Flutter app, the Windows implementation, as well as the other endorsed implementations, are automatically available to the app.
#### Non-endorsed federated plugin
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#non-endorsed-federated-plugin)
If you can't, for whatever reason, get your implementation added by the original plugin author, then your plugin is _not_ endorsed. A developer can still use your implementation, but must manually add the plugin to the app's `pubspec.yaml` file:
yaml```
dependencies:
 foobar: ^1.0.0
 foobar_windows: ^1.0.0 # Non-endorsed plugin implementation
```

content_copy
This approach also works for overriding an already endorsed plugin implementation of `foobar`.
For more information on federated plugins, why they are useful, and how they are implemented, see the Medium article by Harry Terkelsen, [How To Write a Flutter Web Plugin, Part 2](https://medium.com/flutter/how-to-write-a-flutter-web-plugin-part-2-afdddb69ece6).
### Specifying a plugin's supported platforms
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-platforms)
Plugins can specify the platforms they support by adding keys to the `platforms` map in the `pubspec.yaml` file. For example, the following pubspec file shows the `flutter:` map for the `hello` plugin, which supports only iOS and Android:
yaml```
flutter:
 plugin:
  platforms:
   android:
    package: com.example.hello
    pluginClass: HelloPlugin
   ios:
    pluginClass: HelloPlugin
```

content_copy
When adding plugin implementations for more platforms, the `platforms` map should be updated accordingly. For example, here's the map in the pubspec file for the `hello` plugin, when updated to add support for macOS and web:
yaml```
flutter:
 plugin:
  platforms:
   android:
    package: com.example.hello
    pluginClass: HelloPlugin
   ios:
    pluginClass: HelloPlugin
   macos:
    pluginClass: HelloPlugin
   web:
    pluginClass: HelloPlugin
    fileName: hello_web.dart
```

content_copy
#### Federated platform packages
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#federated-platform-packages)
A platform package uses the same format, but includes an `implements` entry indicating which app-facing package it implements. For example, a `hello_windows` plugin containing the Windows implementation for `hello` would have the following `flutter:` map:
yaml```
flutter:
 plugin:
  implements: hello
  platforms:
   windows:
    pluginClass: HelloPlugin
```

content_copy
#### Endorsed implementations
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#endorsed-implementations)
An app facing package can endorse a platform package by adding a dependency on it, and including it as a `default_package` in the `platforms:` map. If the `hello` plugin above endorsed `hello_windows`, it would look as follows:
yaml```
flutter:
 plugin:
  platforms:
   android:
    package: com.example.hello
    pluginClass: HelloPlugin
   ios:
    pluginClass: HelloPlugin
   windows:
    default_package: hello_windows
dependencies:
 hello_windows: ^1.0.0
```

content_copy
Note that as shown here, an app-facing package can have some platforms implemented within the package, and others in endorsed federated implementations.
#### Shared iOS and macOS implementations
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#shared-ios-and-macos-implementations)
Many frameworks support both iOS and macOS with identical or mostly identical APIs, making it possible to implement some plugins for both iOS and macOS with the same codebase. Normally each platform's implementation is in its own folder, but the `sharedDarwinSource` option allows iOS and macOS to use the same folder instead:
yaml```
flutter:
 plugin:
  platforms:
   ios:
    pluginClass: HelloPlugin
    sharedDarwinSource: true
   macos:
    pluginClass: HelloPlugin
    sharedDarwinSource: true
environment:
 sdk: ^3.0.0
 # Flutter versions prior to 3.7 did not support the
 # sharedDarwinSource option.
 flutter: ">=3.7.0"
```

content_copy
When `sharedDarwinSource` is enabled, instead of an `ios` directory for iOS and a `macos` directory for macOS, both platforms use a shared `darwin` directory for all code and resources. When enabling this option, you need to move any existing files from `ios` and `macos` to the shared directory. You also need to update the podspec file to set the dependencies and deployment targets for both platforms, for example:
ruby```
 s.ios.dependency 'Flutter'
 s.osx.dependency 'FlutterMacOS'
 s.ios.deployment_target = '13.0'
 s.osx.deployment_target = '10.15'
```

content_copy
### Step 1: Create the package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-1)
To create a plugin package, use the `--template=plugin` flag with `flutter create`.
Use the `--platforms=` option followed by a comma-separated list to specify the platforms that the plugin supports. Available platforms are: `android`, `ios`, `web`, `linux`, `macos`, and `windows`. If no platforms are specified, the resulting project doesn't support any platforms.
Use the `--org` option to specify your organization, using reverse domain name notation. This value is used in various package and bundle identifiers in the generated plugin code.
By default, the plugin project uses Swift for iOS code and Kotlin for Android code. If you prefer Objective-C or Java, you can specify the iOS language using `-i` and the Android language using `-a`. Please choose **one** of the following:
```
flutter create --org com.example --template=plugin --platforms=android,ios,linux,macos,windows -a kotlin hello
```

content_copy
```
flutter create --org com.example --template=plugin --platforms=android,ios,linux,macos,windows -a java hello
```

content_copy
```
flutter create --org com.example --template=plugin --platforms=android,ios,linux,macos,windows -i objc hello
```

content_copy
```
flutter create --org com.example --template=plugin --platforms=android,ios,linux,macos,windows -i swift hello
```

content_copy
This creates a plugin project in the `hello` folder with the following specialized content:

**`lib/hello.dart`**
    The Dart API for the plugin.

**`android/src/main/java/com/example/hello/HelloPlugin.kt`**
    The Android platform-specific implementation of the plugin API in Kotlin.

**`ios/Classes/HelloPlugin.m`**
    The iOS-platform specific implementation of the plugin API in Objective-C.

**`example/`**
    A Flutter app that depends on the plugin, and illustrates how to use it.
### Step 2: Implement the package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#edit-plugin-package)
As a plugin package contains code for several platforms written in several programming languages, some specific steps are needed to ensure a smooth experience.
#### Step 2a: Define the package API (.dart)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2a-define-the-package-api-dart)
The API of the plugin package is defined in Dart code. Open the main `hello/` folder in your favorite [Flutter editor](https://docs.flutter.dev/tools/editors). Locate the file `lib/hello.dart`.
#### Step 2b: Add Android platform code (.kt/.java)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2b-add-android-platform-code-kt-java)
We recommend you edit the Android code using Android Studio.
Before editing the Android platform code in Android Studio, first make sure that the code has been built at least once (in other words, run the example app from your IDE/editor, or in a terminal execute `cd hello/example; flutter build apk --config-only`).
Then use the following steps:
  1. Launch Android Studio.
  2. Select **Open an existing Android Studio Project** in the **Welcome to Android Studio** dialog, or select **File > Open** from the menu, and select the `hello/example/android/build.gradle` file.
  3. In the **Gradle Sync** dialog, select **OK**.
  4. In the **Android Gradle Plugin Update** dialog, select **Don't remind me again for this project**.


The Android platform code of your plugin is located in `hello/java/com.example.hello/HelloPlugin`.
You can run the example app from Android Studio by pressing the run (â–¶) button.
#### Step 2c: Add iOS platform code (.swift/.h+.m)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2c-add-ios-platform-code-swift-hplus-m)
We recommend you edit the iOS code using Xcode.
Before editing the iOS platform code in Xcode, first make sure that the code has been built at least once (in other words, run the example app from your IDE/editor, or in a terminal execute `cd hello/example; flutter build ios --no-codesign --config-only`).
Then use the following steps:
  1. Launch Xcode.
  2. Select **File > Open**, and select the `hello/example/ios/Runner.xcworkspace` file.


The iOS platform code for your plugin is located in `Pods/Development Pods/hello/../../example/ios/.symlinks/plugins/hello/ios/Classes` in the Project Navigator. (If you are using `sharedDarwinSource`, the path will end with `hello/darwin/Classes` instead.)
You can run the example app by pressing the run (â–¶) button.
##### Add CocoaPod dependencies
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#add-cocoapod-dependencies)
_warning_ Warning
Flutter is migrating to [Swift Package Manager](https://www.swift.org/documentation/package-manager/) to manage iOS and macOS native dependencies. Flutter's support of Swift Package Manager is under development. The implementation might change in the future. Swift Package Manager support is only available on Flutter's [`main` channel](https://docs.flutter.dev/install/upgrade#switching-flutter-channels). Flutter continues to support CocoaPods.
Use the following instructions to add `HelloPod` with the version `0.0.1`:
  1. Specify the dependency at the end of `ios/hello.podspec`:
ruby```
s.dependency 'HelloPod', '0.0.1'
```

content_copy
For private pods, refer to [Private CocoaPods](https://guides.cocoapods.org/making/private-cocoapods.html) to ensure repo access:
ruby```
s.source = {
  # For pods hosted on GitHub
  :git => "https://github.com/path/to/HelloPod.git",
  # Alternatively, for pods hosted locally
  # :path => "file:///path/to/private/repo",
  :tag => s.version.to_s
 }`
```

content_copy


  1. Installing the plugin
     * Add the plugin in the projectâ€™s `pubspec.yaml` dependencies.
     * Run `flutter pub get`.
     * In the projectâ€™s `ios/` directory, run `pod install`.


The pod should appear in the installation summary.
If your plugin requires a privacy manifest, for example, if it uses any **required reason APIs** , update the `PrivacyInfo.xcprivacy` file to describe your plugin's privacy impact, and add the following to the bottom of your podspec file:
ruby```
s.resource_bundles = {'your_plugin_privacy' => ['your_plugin/Sources/your_plugin/Resources/PrivacyInfo.xcprivacy']}
```

content_copy
For more information, check out [Privacy manifest files](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files) on the Apple developer site.
#### Step 2d: Add Linux platform code (.h+.cc)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2d-add-linux-platform-code-hplus-cc)
We recommend you edit the Linux code using an IDE with C++ integration. The instructions below are for Visual Studio Code with the "C/C++" and "CMake" extensions installed, but can be adjusted for other IDEs.
Before editing the Linux platform code in an IDE, first make sure that the code has been built at least once (in other words, run the example app from your Flutter IDE/editor, or in a terminal execute `cd hello/example; flutter build linux`).
Then use the following steps:
  1. Launch Visual Studio Code.
  2. Open the `hello/example/linux/` directory.
  3. Choose **Yes** in the prompt asking: `Would you like to configure project "linux"?`. This will allow C++ autocomplete to work.


The Linux platform code for your plugin is located in `flutter/ephemeral/.plugin_symlinks/hello/linux/`.
You can run the example app using `flutter run`. **Note:** Creating a runnable Flutter application on Linux requires steps that are part of the `flutter` tool, so even if your editor provides CMake integration building and running that way won't work correctly.
#### Step 2e: Add macOS platform code (.swift)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2e-add-macos-platform-code-swift)
We recommend you edit the macOS code using Xcode.
Before editing the macOS platform code in Xcode, first make sure that the code has been built at least once (in other words, run the example app from your IDE/editor, or in a terminal execute `cd hello/example; flutter build macos --config-only`).
Then use the following steps:
  1. Launch Xcode.
  2. Select **File > Open**, and select the `hello/example/macos/Runner.xcworkspace` file.


The macOS platform code for your plugin is located in `Pods/Development Pods/hello/../../example/macos/Flutter/ephemeral/.symlinks/plugins/hello/macos/Classes` in the Project Navigator. (If you are using `sharedDarwinSource`, the path will end with `hello/darwin/Classes` instead.)
You can run the example app by pressing the run (â–¶) button.
#### Step 2f: Add Windows platform code (.h+.cpp)
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2f-add-windows-platform-code-hplus-cpp)
We recommend you edit the Windows code using Visual Studio.
Before editing the Windows platform code in Visual Studio, first make sure that the code has been built at least once (in other words, run the example app from your IDE/editor, or in a terminal execute `cd hello/example; flutter build windows`).
Then use the following steps:
  1. Launch Visual Studio.
  2. Select **Open a project or solution** , and select the `hello/example/build/windows/hello_example.sln` file.


The Windows platform code for your plugin is located in `hello_plugin/Source Files` and `hello_plugin/Header Files` in the Solution Explorer.
You can run the example app by right-clicking `hello_example` in the Solution Explorer and selecting **Set as Startup Project** , then pressing the run (â–¶) button. **Important:** After making changes to plugin code, you must select **Build > Build Solution** before running again, otherwise an outdated copy of the built plugin will be run instead of the latest version containing your changes.
#### Step 2g: Connect the API and the platform code
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2g-connect-the-api-and-the-platform-code)
Finally, you need to connect the API written in Dart code with the platform-specific implementations. This is done using a [platform channel](https://docs.flutter.dev/platform-integration/platform-channels), or through the interfaces defined in a platform interface package.
### Add support for platforms in an existing plugin project
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#add-support-for-platforms-in-an-existing-plugin-project)
To add support for specific platforms to an existing plugin project, run `flutter create` with the `--template=plugin` flag again in the project directory. For example, to add web support in an existing plugin, run:
```
flutter create --template=plugin --platforms=web .
```

content_copy
If this command displays a message about updating the `pubspec.yaml` file, follow the provided instructions.
### Dart platform implementations
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart-platform-implementations)
In many cases, non-web platform implementations only use the platform-specific implementation language, as shown above. However, platform implementations can also use platform-specific Dart as well.
_info_ Note
The examples below only apply to non-web platforms. Web plugin implementations are always written in Dart, and use `pluginClass` and `fileName` for their Dart implementations as shown above.
#### Dart-only platform implementations
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#dart-only-platform-implementations)
In some cases, some platforms can be implemented entirely in Dart (for example, using FFI). For a Dart-only platform implementation on a platform other than web, replace the `pluginClass` in pubspec.yaml with a `dartPluginClass`. Here is the `hello_windows` example above modified for a Dart-only implementation:
yaml```
flutter:
 plugin:
  implements: hello
  platforms:
   windows:
    dartPluginClass: HelloPluginWindows
```

content_copy
In this version you would have no C++ Windows code, and would instead subclass the `hello` plugin's Dart platform interface class with a `HelloPluginWindows` class that includes a static `registerWith()` method. This method is called during startup, and can be used to register the Dart implementation:
dart```
class HelloPluginWindows extends HelloPluginPlatform {
 /// Registers this class as the default instance of [HelloPluginPlatform].
 static void registerWith() {
  HelloPluginPlatform.instance = HelloPluginWindows();
 }
```

content_copy
#### Hybrid platform implementations
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#hybrid-platform-implementations)
Platform implementations can also use both Dart and a platform-specific language. For example, a plugin could use a different platform channel for each platform so that the channels can be customized per platform.
A hybrid implementation uses both of the registration systems described above. Here is the `hello_windows` example above modified for a hybrid implementation:
yaml```
flutter:
 plugin:
  implements: hello
  platforms:
   windows:
    dartPluginClass: HelloPluginWindows
    pluginClass: HelloPlugin
```

content_copy
The Dart `HelloPluginWindows` class would use the `registerWith()` shown above for Dart-only implementations, while the C++ `HelloPlugin` class would be the same as in a C++-only implementation.
### Testing your plugin
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#testing-your-plugin)
We encourage you test your plugin with automated tests to ensure that functionality doesn't regress as you make changes to your code.
To learn more about testing your plugins, check out [Testing plugins](https://docs.flutter.dev/testing/testing-plugins). If you are writing tests for your Flutter app and plugins are causing crashes, check out [Flutter in plugin tests](https://docs.flutter.dev/testing/plugins-in-tests).
## Developing FFI plugin packages
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#plugin-ffi)
If you want to develop a package that calls into native APIs using Dart's FFI, you need to develop an FFI plugin package.
Both FFI plugin packages and non-FFI plugin packages support bundling native code. However, FFI plugin packages don't support method channels, but they _do_ support method channel registration code. To implement a plugin that uses both method channels _and_ FFI, use a non-FFI plugin. Each platform can use either an FFI or non-FFI platform.
### Step 1: Create the package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-1-create-the-package-2)
To create a starter FFI plugin package, use the `--template=plugin_ffi` flag with `flutter create`:
```
flutter create --template=plugin_ffi hello
```

content_copy
This creates an FFI plugin project in the `hello` folder with the following specialized content:
**lib** : The Dart code that defines the API of the plugin, and which calls into the native code using `dart:ffi`.
**src** : The native source code, and a `CMakeLists.txt` file for building that source code into a dynamic library.
**platform folders** (`android`, `ios`, `windows`, etc.): The build files for building and bundling the native code library with the platform application.
### Step 2: Building and bundling native code
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-2-building-and-bundling-native-code)
The `pubspec.yaml` specifies FFI plugins as follows:
yaml```
 plugin:
  platforms:
   some_platform:
    ffiPlugin: true
```

content_copy
This configuration invokes the native build for the various target platforms and bundles the binaries in Flutter applications using these FFI plugins.
This can be combined with `dartPluginClass`, such as when FFI is used for the implementation of one platform in a federated plugin:
yaml```
 plugin:
  implements: some_other_plugin
  platforms:
   some_platform:
    dartPluginClass: SomeClass
    ffiPlugin: true
```

content_copy
A plugin can have both FFI and method channels:
yaml```
 plugin:
  platforms:
   some_platform:
    pluginClass: SomeName
    ffiPlugin: true
```

content_copy
The native build systems that are invoked by FFI (and method channels) plugins are:
  * For Android: Gradle, which invokes the Android NDK for native builds.
    * See the documentation in `android/build.gradle`.
  * For iOS and macOS: Xcode, using CocoaPods.
    * See the documentation in `ios/hello.podspec`.
    * See the documentation in `macos/hello.podspec`.
  * For Linux and Windows: CMake.
    * See the documentation in `linux/CMakeLists.txt`.
    * See the documentation in `windows/CMakeLists.txt`.


### Step 3: Binding to native code
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-3-binding-to-native-code)
To use the native code, bindings in Dart are needed.
To avoid writing these by hand, they are generated from the header file (`src/hello.h`) by [`package:ffigen`](https://pub.dev/packages/ffigen). Reference the [ffigen docs](https://pub.dev/packages/ffigen/install) for information on how to install this package.
To regenerate the bindings, run the following command:
```
dart run ffigen --config ffigen.yaml
```

content_copy
### Step 4: Invoking native code
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#step-4-invoking-native-code)
Very short-running native functions can be directly invoked from any isolate. For an example, see `sum` in `lib/hello.dart`.
Longer-running functions should be invoked on a [helper isolate](https://dart.dev/guides/language/concurrency#background-workers) to avoid dropping frames in Flutter applications. For an example, see `sumAsync` in `lib/hello.dart`.
## Adding documentation
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-documentation)
It is recommended practice to add the following documentation to all packages:
  1. A `README.md` file that introduces the package
  2. A `CHANGELOG.md` file that documents changes in each version
  3. A [`LICENSE`](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-licenses-to-the-license-file) file containing the terms under which the package is licensed
  4. API documentation for all public APIs (see below for details)


### API documentation
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#api-documentation)
When you publish a package, API documentation is automatically generated and published to pub.dev/documentation. For example, see the docs for [`device_info_plus`](https://pub.dev/documentation/device_info_plus).
If you wish to generate API documentation locally on your development machine, use the following commands:
  1. Change directory to the location of your package:
```
cd ~/dev/mypackage
```

content_copy
  2. Tell the documentation tool where the Flutter SDK is located (change the following commands to reflect where you placed it):
```
  export FLUTTER_ROOT=~/dev/flutter # on macOS or Linux
  set FLUTTER_ROOT=~/dev/flutter   # on Windows
```

content_copy
  3. Run the `dart doc` tool (included as part of the Flutter SDK), as follows:
```
  $FLUTTER_ROOT/bin/cache/dart-sdk/bin/dart doc  # on macOS or Linux
  %FLUTTER_ROOT%\bin\cache\dart-sdk\bin\dart doc # on Windows
```

content_copy


For tips on how to write API documentation, see [Effective Dart Documentation](https://dart.dev/guides/language/effective-dart/documentation).
### Adding licenses to the LICENSE file
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#adding-licenses-to-the-license-file)
Individual licenses inside each LICENSE file should be separated by 80 hyphens on their own on a line.
If a LICENSE file contains more than one component license, then each component license must start with the names of the packages to which the component license applies, with each package name on its own line, and the list of package names separated from the actual license text by a blank line. (The packages need not match the names of the pub package. For example, a package might itself contain code from multiple third-party sources, and might need to include a license for each one.)
The following example shows a well-organized license file:
```
package_1
<some license text>
--------------------------------------------------------------------------------
package_2
<some license text>
```

content_copy
Here is another example of a well-organized license file:
```
package_1
<some license text>
--------------------------------------------------------------------------------
package_1
package_2
<some license text>
```

content_copy
Here is an example of a poorly-organized license file:
```
<some license text>
--------------------------------------------------------------------------------
<some license text>
```

content_copy
Another example of a poorly-organized license file:
```
package_1
<some license text>
--------------------------------------------------------------------------------
<some license text>
```

content_copy
## Publishing your package
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#publish)
_lightbulb_ Tip
Have you noticed that some of the packages and plugins on pub.dev are designated as [Flutter Favorites](https://pub.dev/flutter/favorites)? These are the packages published by verified developers and are identified as the packages and plugins you should first consider using when writing your app. To learn more, see the [Flutter Favorites program](https://docs.flutter.dev/packages-and-plugins/favorites).
Once you have implemented a package, you can publish it on [pub.dev](https://pub.dev), so that other developers can easily use it.
Prior to publishing, make sure to review the `pubspec.yaml`, `README.md`, and `CHANGELOG.md` files to make sure their content is complete and correct. Also, to improve the quality and usability of your package (and to make it more likely to achieve the status of a Flutter Favorite), consider including the following items:
  * Diverse code usage examples
  * Screenshots, animated gifs, or videos
  * A link to the corresponding code repository


Next, run the publish command in `dry-run` mode to see if everything passes analysis:
```
flutter pub publish --dry-run
```

content_copy
The next step is publishing to pub.dev, but be sure that you are ready because [publishing is forever](https://dart.dev/tools/pub/publishing#publishing-is-forever):
```
flutter pub publish
```

content_copy
For more details on publishing, see the [publishing docs](https://dart.dev/tools/pub/publishing) on dart.dev.
## Handling package interdependencies
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#dependencies)
If you are developing a package `hello` that depends on the Dart API exposed by another package, you need to add that package to the `dependencies` section of your `pubspec.yaml` file. The code below makes the Dart API of the `url_launcher` plugin available to `hello`:
yaml```
dependencies:
 url_launcher: ^6.3.2
```

content_copy
You can now `import 'package:url_launcher/url_launcher.dart'` and `launch(someUrl)` in the Dart code of `hello`.
This is no different from how you include packages in Flutter apps or any other Dart project.
But if `hello` happens to be a _plugin_ package whose platform-specific code needs access to the platform-specific APIs exposed by `url_launcher`, you also need to add suitable dependency declarations to your platform-specific build files, as shown below.
### Android
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#android)
The following example sets a dependency for `url_launcher` in `hello/android/build.gradle`:
groovy```
android {
  // lines skipped
  dependencies {
    compileOnly rootProject.findProject(":url_launcher")
  }
}
```

content_copy
You can now `import io.flutter.plugins.urllauncher.UrlLauncherPlugin` and access the `UrlLauncherPlugin` class in the source code at `hello/android/src`.
For more information on `build.gradle` files, see the [Gradle Documentation](https://docs.gradle.org/current/userguide/tutorial_using_tasks.html) on build scripts.
### iOS
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#ios)
The following example sets a dependency for `url_launcher` in `hello/ios/hello.podspec`:
ruby```
Pod::Spec.new do |s|
 # lines skipped
 s.dependency 'url_launcher'
```

content_copy
You can now `#import "UrlLauncherPlugin.h"` and access the `UrlLauncherPlugin` class in the source code at `hello/ios/Classes`.
For additional details on `.podspec` files, see the [CocoaPods Documentation](https://guides.cocoapods.org/syntax/podspec.html).
### Web
[#](https://docs.flutter.dev/packages-and-plugins/developing-packages#web)
All web dependencies are handled by the `pubspec.yaml` file, like any other Dart package.
Was this page's content helpful?
thumb_up thumb_down
Thank you for your feedback!
[ feedback Provide details ](https://github.com/flutter/website/issues/new?template=1_page_issue.yml&&page-url=https://docs.flutter.dev/packages-and-plugins/developing-packages/&page-source=https://github.com/flutter/website/tree/main/src/content/packages-and-plugins/developing-packages.md)
Thank you for your feedback! Please let us know what we can do to improve.
[ bug_report Provide details ](https://github.com/flutter/website/issues/new?template=1_page_issue.yml&&page-url=https://docs.flutter.dev/packages-and-plugins/developing-packages/&page-source=https://github.com/flutter/website/tree/main/src/content/packages-and-plugins/developing-packages.md)
Unless stated otherwise, the documentation on this site reflects the latest stable version of Flutter. Page last updated on 2025-08-13. [View source](https://github.com/flutter/website/tree/main/src/content/packages-and-plugins/developing-packages.md) or [report an issue](https://github.com/flutter/website/issues/new?template=1_page_issue.yml&&page-url=https://docs.flutter.dev/packages-and-plugins/developing-packages/&page-source=https://github.com/flutter/website/tree/main/src/content/packages-and-plugins/developing-packages.md "Report an issue with this page").
[ ![Flutter logo](https://docs.flutter.dev/assets/images/branding/flutter/logo+text/horizontal/white.svg) ](https://flutter.dev)
[ ](https://medium.com/flutter "Flutter's Medium blog")[ ](https://youtube.com/@flutterdev "Flutter's YouTube")[ ](https://github.com/flutter "Flutter's GitHub")[ ](https://bsky.app/profile/flutter.dev "Flutter's Bluesky")[ ](https://twitter.com/FlutterDev "Flutter's X \(Twitter\)")
Except as otherwise noted, this site is licensed under a [Creative Commons Attribution 4.0 International License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [3-Clause BSD License](https://opensource.org/licenses/BSD-3-Clause).
  * [Terms](https://docs.flutter.dev/tos "Terms of use")
  * [Brand](https://docs.flutter.dev/brand "Brand usage guidelines")
  * [Privacy](https://policies.google.com/privacy "Privacy policy")
  * [Security](https://docs.flutter.dev/security "Security philosophy and practices")




## Source Information
- URL: https://docs.flutter.dev/packages-and-plugins/developing-packages
- Harvested: 2025-08-19T11:48:21.410588
- Profile: deep_research
- Agent: architect
